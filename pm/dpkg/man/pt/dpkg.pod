
        *****************************************************
        *           GENERATED FILE, DO NOT EDIT             *
        * THIS IS NO SOURCE FILE, BUT RESULT OF COMPILATION *
        *****************************************************

This file was generated by po4a(7). Do not store it (in VCS, for example),
but store the PO file used as source file by po4a-translate.

In fact, consider this as a binary, and the PO file as a regular .c file:
If the PO get lost, keeping this translation up-to-date will be harder.

=encoding UTF-8

=head1 NOME

dpkg - gestor de pacotes para Debian

=head1 RESUMO

B<dpkg> [I<option>...] I<action>

=head1 AVISO

este manual destina-se a utilizadores que desejam compreender as opções de linha de comandos do B<dpkg> e estados de pacotes em mais detalhe do que aquele fornecido por B<dpkg --help>.

I<Não> deverá ser usado por maintainers de pacotes que desejem compreender como o B<dpkg> irá instalar os seus pacotes. A descrição do que o B<dpkg> faz quando instala ou remove pacotes é particularmente inadequada.

=head1 DESCRIÇÃO

B<dpkg> é uma ferramenta de nível médio para instalar, compilar, remover e gerir pacotes Debian. O front-end principal e mais amigo-do-utilizador para o B<dpkg> como CLI é o (interface de linha de comandos) é o L<apt(8)> e como TUI (interface de terminal de utilizador) é o L<aptitude(8)>. O próprio B<dpkg> é controlado inteiramente via parâmetros de linha de comandos, o que consiste de exactamente uma acção e zero ou mais opções. O parâmetro-acção diz ao B<dpkg> o que fazer e as opções controlam o comportamento da acção em algum modo.

O B<dpkg> pode também ser usado como front-end para L<dpkg-deb(1)> e L<dpkg-query(1)>. A lista de acções suportadas pode ser encontrada mais tarde na secção B<ACÇÕES>. Se qualquer tal acção for encontrada, o B<dpkg> apenas corre B<dpkg-deb> ou B<dpkg-query> com os parâmetros dados a ele, mas nenhuma opção especifica é presentemente passada para eles, para se qualquer tal opção, os back-ends precisam de ser chamados directamente.

=head1 INFORMAÇÃO ACERCA DE PACOTES

O B<dpkg> mantém alguma informação utilizável sobre pacotes disponíveis. A informação é dividida em três classes: B<states>, B<selection states> e B<flags>. Estes valores destinam-se a serem alterados principalmente com o B<dselect>.

=head2 Estados de pacote

=over 

=item B<not-installed>

Este pacote não está instalado no seu sistema.

=item B<config-files>

Apenas os ficheiros de configuração ou o script B<postrm> e os dados que precisa para remoção do pacote existem no sistema.

=item B<half-installed>

A instalação do pacote foi iniciada, mas não foi acabada por alguma razão.

=item B<unpacked>

O pacote está desempacotado mas não configurado.

=item B<half-configured>

O pacote está desempacotado e a configuração foi iniciada, mas ainda não está acabada por alguma razão.

=item B<triggers-awaited>

O pacote espera o processamento de trigger por outro pacote.

=item B<triggers-pending>

O pacote foi despoletado

=item B<installed>

O pacote está actualmente desempacotado e configurado.

=back

=head2 Estados de selecção de pacote

=over 

=item B<install>

O pacote está seleccionado para instalação.

=item B<hold>

Um pacote marcado para estar em B<hold> é mantido na mesma versão, isto é, não serão executadas nenhumas novas instalações, actualizações ou remoções automáticas nele, a menos que estas acções sejam requisitadas explicitamente, ou sejam permitidas serem feitas automaticamente com a opção B<--force-hold>.

=item B<deinstall>

O pacote está seleccionado para desinstalação (isto é, queremos remover todos os ficheiros, excepto os ficheiros de configuração).

=item B<purge>

O pacote está seleccionado para ser purgado (isto é, queremos remover tudo dos directórios do sistema, até os ficheiros de configuração).

=item B<unknown>

A selecção de pacote é desconhecida. Um pacote que também está nu estado B<not-installed>, e com uma bandeira B<ok> irá ser esquecido no próximo armazenamento da base de dados.

=back

=head2 Bandeiras (flags) do pacote

=over 

=item B<ok>

Um pacote marcado com B<ok> está num estado conhecido, mas pode precisar de mais processamento.

=item B<reinstreq>

Um pacote marcado com B<reinstreq> está quebrado e requer reinstalação. Estes pacotes não podem ser removidos, a menos que tal seja forçado com a opção B<--force-remove-reinstreq>.

=back

=head1 ACÇÕES

=over 

=item B<-i>, B<--install> I<package-file>...

Instala o pacote. Se a opção B<--recursive> ou B<-R> for especificada, I<ficheiro-pacote> tem que se referir a um directório em vez de um ficheiro.

A instalação consiste nos seguintes passos:

=over 4

=item B<1.>

Extrai os ficheiros de controle do novo pacote.

=item B<2.>

Se outra versão do mesmo pacote foi instalada antes da nova instalação, executa o script I<prerm> do pacote antigo.

=item B<3.>

Corre o script I<preinst>, se disponibilizado pelo pacote.

=item B<4.>

Desempacota os novos ficheiros, e aos mesmo tempo salvaguarda os ficheiros antigos, para que se algo correr mal, eles possam ser restaurados.

=item B<5.>

Se outra versão do mesmo pacote foi instalada antes da nova instalação, executa o script I<postrm> do pacote antigo. Note que este script é executado depois do script I<preinst> do novo pacote, porque novos ficheiros são escritos ao mesmo tempo que ficheiros antigos são removidos.

=item B<6.>

Configura o pacote. Veja B<--configure> para informação detalhada sobre como isto é feito.

=back

=item B<--unpack> I<package-file>...

Desempacota o pacote, mas não o configura. Se a opção B<--recursive> ou B<-R> for especificada, I<package-file> deverá então referir-se a um directório.

Irá processar os gatilhos para B<Pre-Depends> a menos que B<--no-triggers> esteja especificado.

=item B<--configure> I<package>...|B<-a>|B<--pending>

Configura um pacote que foi desempacotado mas ainda não configurado. Se for fornecido B<-a> ou B<--pending> em vez de I<package>, todos os pacotes desempacotados mas não configurados são configurados.

Para reconfigurar um pacote que já foi configurado, tente usar o comando L<dpkg-reconfigure(8)> em vez deste (o qual faz parte do projeto B<debconf>).

A configuração consiste dos seguintes passos:

=over 4

=item B<1.>

Desempacota os conffiles, e ao mesmo tempo faz salvaguardas dos conffiles antigos, para que possam ser restaurados se algo correr mal.

=item B<2.>

Corre o script I<postinst>, se fornecido pelo pacote.

=back

Irá processar os gatilhos a menos que B<--no-triggers> esteja especificado.

=item B<--triggers-only> I<package>...|B<-a>|B<--pending>

Processa apenas gatilhos (desde dpkg 1.14.17).  Todos os gatilhos pendentes serão processados. Se forem fornecidos nomes de pacotes, apenas os gatilhos desses pacotes serão processados, exactamente uma vez onde necessário. O uso desta opção pode deixar pacotes em estados B<triggers-awaited> e B<triggers-pending> impróprios. Isto pode ser corrigido mais tarde ao correr: B<dpkg --configure --pending>.

=item B<-r>, B<--remove> I<package>...|B<-a>|B<--pending>

Remove um pacote instalado. Isto remove tudo excepto conffiles e outros dados limpos pelo script I<postrm>, o qual pode evitar de ter que reconfigurar o pacote se for reinstalado mais tarde (conffiles são ficheiros de configuração que estão listados no ficheiro de controle I<DEBIAN/conffiles>). Se não existir um ficheiro de controlo I<DEBIAN/conffiles> nem script I<DEBIAN/postrm>, este comando é equivalente a chamar B<--purge>. Se for fornecido B<-a> ou B<--pending> em vez de um nome de pacote , então são removidos todos os pacotes desempacotados mas marcados para serem removidos no ficheiro I<%ADMINDIR%/status>.

Remover um pacote consiste nos seguintes passos:

=over 4

=item B<1.>

Corre o script I<prerm>.

=item B<2.>

Remove os ficheiros instalados.

=item B<3.>

Corre o script I<postrm>.

=back

Irá processar os gatilhos a menos que B<--no-triggers> esteja especificado.

=item B<-P>, B<--purge> I<package>...|B<-a>|B<--pending>

Purga um pacote instalado ou já removido.Isto remove tudo, incluindo conffiles, e tudo o resto limpo a partir do I<postrm>.  Se for fornecido B<-a> ou  B<--pending> em vez do nome de pacote, então todos os pacotes desempacotados ou removidos, mas marcados para serem purgados no ficheiro I<%ADMINDIR%/status>, serão purgados.

B<Nota>: Alguns ficheiros de configuração podem ser desconhecidos para o B<dpkg> porque eles são criados e manuseados separadamente através dos scripts de configuração. Nesse caso, o B<dpkg> não irá remove-los sozinho, mas o script I<postrm> do pacote (que é chamado pelo B<dpkg>), tem de fazer a sua remoção durante a purga. Claro que, isto só se aplica a ficheiros em directórios do sistema, e não a ficheiros de configuração escritos nos directórios home de utilizadores individuais.

Purgar um pacote consiste nos seguintes passos:

=over 4

=item B<1.>

Remove o pacote, se não estiver já removido. Veja B<--remove> para informação detalhada acerca de como isto é feito.

=item B<2.>

Corre o script I<postrm>.

=back

Irá processar os gatilhos a menos que B<--no-triggers> esteja especificado.

=item B<-V>, B<--verify> [I<package-name>...]

Verifica a integridade de I<package-name> ou todos os pacotes se omitido, ao comparar informação dos ficheiros instalados com a informação de metadados de ficheiros guardada na base de dados do B<dpkg> (desde dpkg 1.17.2). A origem da informação de metadados de ficheiros na base de dados é os próprios pacotes binários. Esses metadados são colecionados ao desempacotar os ficheiros durante o processo de instalação.

Presentemente a única verificação funcional executada é uma verificação de md5sum do conteúdo dos ficheiros contra o valor armazenado na base de dados dos ficheiros. Só serão verificados se a base de dados conter o md5sum dos ficheiros. Para verificar por quaisquer metadados em falta na base de dados, pode ser usado o comando B<--audit>. Isto é apenas uma verificação de integridade e não deve ser considerado como nenhum tipo de verificação de segurança.

O formato do resultado é seleccionável com a opção B<--verify-format>, que por predefinição usa o formato B<rpm>, mas isso pode mudar no futuro, e como tal, os programas que analisam resultado de comando devem estar explícitos acerca do formato que esperam.

=item B<-C>, B<--audit> [I<package-name>...]

Executa testes de sanidade e consistência para I<package-name> ou todos os pacotes se omitido (verificações por pacote desde dpkg 1.17.10). Por exemplo, procura por pacote que foram instalados apenas parcialmente no seu sistema ou têm ficheiros ou dados de controle em falta, errados ou obsoletos. O B<dpkg> irá sugerir o que fazer com eles para os corrigir.

=item B<--update-avail> [I<Packages-file>]

=item B<--merge-avail> [I<Packages-file>]

Actualiza o conhecimento de B<dpkg>'s e B<dselect> de quais pacotes estão disponíveis. Com a acção B<--merge-avail>, a informação antiga é combinada com informação de I<Packages-file>. Com a acção B<--update-avail>, informação antiga é substituída pela informação de I<Packages-file>. O I<Packages-file> distribuído com Debian é simplesmente chamado «I<Packages>». Se o argumento I<Packages-file> estiver em falta ou for chamado «B<->» então será lido a partir da entrada standard (desde dpkg 1.17.7). B<dpkg> mantém o seu registo de pacotes disponíveis em I<%ADMINDIR%/available>.

Um comando único mais simples de obter e actualizar o ficheiro I<available> é B<dselect update>. Note que este ficheiro é maioritariamente inútil se você não usar o B<dselect> mas um frontend baseado no APT: O APT tem o seu próprio sistema para acompanhar os pacotes disponíveis.

=item B<-A>, B<--record-avail> I<package-file>...

Actualiza o conhecimento de B<dpkg>'s e B<dselect> de quais pacotes estão disponíveis com informação a partir do pacote I<package-file>. Se forem especificadas as opções B<--recursive> ou B<-R>, então I<package-file> deve referir-se a um directório.

=item B<--forget-old-unavail>

Agora B<obsoleto> e uma não-opção pois o B<dpkg> irá esquecer automaticamente os pacotes não instalados e não disponíveis (desde dpkg 1.15.4), mas apenas aqueles que não contêm informação de utilizador tal como selecções de pacotes.

=item B<--clear-avail>

Apaga a informação existente sobre que pacotes estão disponíveis.

=item B<--get-selections> [I<package-name-pattern>...]

Obtém lista de selecções de pacotes, e escreve-a no stdout. Sem um padrão, os pacotes não-instalados (isto é, aqueles que foram previamente purgados) não serão mostrados.

=item B<--set-selections>

Define selecções de pacotes usando um ficheiro a partir de stdin. Este ficheiro deve estar no formato “I<package> I<state>”, onde state é um de B<install>, B<hold>, B<deinstall> ou B<purge>. São também permitidas linhas vazias e linhas de comentários começando com ‘B<#>’.

O ficheiro I<available> precisa de estar actualizado para que este comando seja útil, caso contrário os pacotes desconhecidos serão ignorados com um aviso. Veja os comandos B<--update-avail> e B<--merge-avail> para mais informação.

=item B<--clear-selections>

Define o estado requerido de todos os pacotes não-essenciais para "desinstalar" (desde dpkg 1.13.18). Isto destina-se a ser usado imediatamente antes de B<--set-selections>, para desinstalar quaisquer pacotes que não estejam na lista fornecida ao B<--set-selections>.

=item B<--yet-to-unpack>

Procura por pacotes selecionados para instalação, mas que por alguma razão ainda não foram instalados.

B<Nota>: Este comando faz uso de ambos o ficheiro disponível e das selecções do pacote.

=item B<--predep-package>

Escreve um pacote único que é o alvo de uma ou mais pré-dependências relevantes e tem ele próprio pré-dependências não satisfeitas.

Se tal pacote estiver presente, escreve-o como uma entrada no ficheiro Packages, o qual pode ser tratado como apropriado.

B<Nota>: Este comando faz uso de ambos o ficheiro disponível e das selecções do pacote.

Retorna 0 quando um pacote é escrito, 1 quando nenhum pacote apropriado está disponível e 2 em caso de erro.

=item B<--add-architecture> I<architecture>

Adiciona I<architecture> à lista de arquitecturas para quais pacotes podem ser instalados sem se usar B<--force-architecture> (desde dpkg 1.16.2). A arquitectura para qual o B<dpkg> é compilado (isto é, o resultado de B<--print-architecture>)  faz sempre parte dessa lista.

=item B<--remove-architecture> I<architecture>

Remove I<architecture> da lista de arquitecturas para quais pacotes podem ser instalados sem se usar B<--force-architecture> (desde dpkg 1.16.2). Se a arquitectura estiver presentemente em uso na base de dados então a operação será recusada, excepto se B<--force-architecture> for especificado. A arquitectura para qual o B<dpkg> é compilado (isto é, o resultado de B<--print-architecture>)  nunca pode ser removida dessa lista.

=item B<--print-architecture>

Escreve a arquitectura dos pacotes que o B<dpkg> instala (por exemplo , “i386”).

=item B<--print-foreign-architectures>

Escreve uma lista, com separação por novas linhas, de arquitecturas extra que o B<dpkg> tem configurado para permitir instalar pacotes para elas (desde dpkg 1.16.2).

=item B<--assert-help>

Oferece ajuda acerca das opções B<--assert->I<feature> (desde dpkg 1.21.0).

=item B<--assert->I<feature>

Afirma que o B<dpkg> suporta a funcionalidade requerida. Retorna 0 se a funcionalidade é totalmente suportada. 1 se a funcionalidade é conhecida mas o B<dpkg> ainda não pode suporta-la, e 2 se a funcionalidade é desconhecida. A lista actual de funcionalidades afirmáveis é:

=over 

=item B<support-predepends>

Suporta o campo B<Pre-Depends> (desde dpkg 1.1.0).

=item B<working-epoch>

Suporta épocas em strings de versão (desde dpkg 1.4.0.7).

=item B<long-filenames>

Suporta nomes de ficheiros longos em arquivos L<deb(5)> (desde dpkg 1.4.1.17).

=item B<multi-conrep>

Suporta múltiplos B<Conflicts> e B<Replaces> (desde dpkg 1.4.1.19).

=item B<multi-arch>

Suporta campos multi-arch e semânticas (desde dpkg 1.16.2).

=item B<versioned-provides>

Suporta B<Provides> com versão  (desde dpkg 1.17.11).

=item B<protected-field>

Suporta o campo B<Protected> (desde dpkg 1.20.1).

=back

=item B<--validate->I<thing> I<string>

Valida que a I<thing> I<string> tem a sintaxe correcta (desde dpkg 1.18.16). Retorna 0 se a I<string> for válida, 1 se a I<string> é inválida mas pode ser aceite em contextos lax, e 2 se a I<string> é inválida. A lista actual de I<thing> validáveis é:

=over 

=item B<pkgname>

Valida o nome de pacote fornecido (desde dpkg 1.18.16).

=item B<trigname>

Valida o nome de gatinho fornecido (desde dpkg 1.18.16).

=item B<archname>

Valida o nome de arquitectura fornecido (desde dpkg 1.18.16).

=item B<version>

Valida a versão fornecida (desde dpkg 1.18.16).

=back

=item B<--compare-versions> I<ver1> I<op> I<ver2>

Compara números de versão, onde I<op> é um operador binário. B<dpkg> retorna verdadeiro (B<0>) se a condição especificada for satisfeita, e falso (B<1>) caso contrário. Existe dois grupos de operadores, que diferem em como eles tratam um I<ver1> ou I<ver2> vazio. Estes tratam uma versão vazia mais cedo que qualquer versão: B<lt le eq ne ge gt>. Estes tratam uma versão vazia mais tarde que qualquer versão: B<lt-nl le-nl ge-nl gt-nl>. Estes são fornecidos apenas para compatibilidade com sintaxe de ficheiros de controle: B<E<lt> E<lt>E<lt> E<lt>= = E<gt>= E<gt>E<gt> E<gt>>. Os operadores B<E<lt>> e B<E<gt>> estão obsoletos e B<não> devem ser usados, devido a semânticas confusas. Para ilustrar: B<0.1 E<lt> 0.1> avalia para verdadeiro.

=begin desactivado

=item B<--command-fd> I<n>

Aceita uma série de comandos no descritor de ficheiro de entrada I<n>.

B<Nota>: Opções adicionais definidas na linha de comandos, e através deste descritor de ficheiro, não são reposições para comandos subsequentes executados durante a mesma corrida.

=end desactivado

=item B<-?>, B<--help>

Mostra uma mensagem de ajuda breve.

=item B<--force-help>

Oferece ajuda acerca das opções B<--force->I<qualquer-coisa>.

=item B<-Dh>, B<--debug=help>

Oferece ajuda acerca de opções de depuração.

=item B<--version>

Mostra informação de versão do B<dpkg>.

Quando usado com B<--robot>, o resultado será o número de versão de programa num formato numérico pontuado, sem nenhuma nova linha.

=item B<dpkg-deb actions>

Veja L<dpkg-deb(1)> para mais informações acerca das seguintes acções, e outras acções e opções não expostas pelo front-end do B<dpkg>.

=over 

=item B<-b>, B<--build> I<directory> [I<archive>|I<directory>]

Compila um pacote deb.

=item B<-c>, B<--contents> I<archive>

Lista o conteúdo de um pacote deb.

=item B<-e>, B<--control> I<archive> [I<directory>]

Extrai informação-controle de um pacote. 

=item B<-x>, B<--extract> I<archive> I<directory>

Extrai os ficheiros contidos por um pacote.

=item B<-X>, B<--vextract> I<archive> I<directory>

Extrai e mostra os nomes de ficheiros contidos por um pacote.

=item B<-f>, B<--field> I<archive> [I<control-field>...]

Mostra campo(s) de controle de um pacote.

=item B<--ctrl-tarfile> I<archive>

Resulta o ficheiro tar de controle contido num pacote Debian.

=item B<--fsys-tarfile> I<archive>

Resulta o ficheiro tar de sistema de ficheiros contido num pacote Debian.

=item B<-I>, B<--info> I<archive> [I<control-file>...]

Mostra informação acerca de um pacote.

=back

=item B<dpkg-query actions>

Veja L<dpkg-query(1)> para mais informações acerca das seguintes acções, e outras acções e opções não expostas pelo front-end do B<dpkg>.

=over 

=item B<-l>, B<--list> I<package-name-pattern>...

Lista pacotes que correspondem ao padrão dado.

=item B<-s>, B<--status> I<package-name>...

Reporta estado do pacote especificado.

=item B<-L>, B<--listfiles> I<package-name>...

Lista ficheiros instalados no seu sistema a partir de I<package-name>.

=item B<-S>, B<--search> I<filename-search-pattern>...

Procura por um nome de ficheiro a partir de pacotes instalados.

=item B<-p>, B<--print-avail> I<package-name>...

Mostra detalhes acerca de I<package-name>, como encontrado em I<%ADMINDIR%/available>. Os utilizadores de frontends baseados no APT devem usar B<apt show> I<package-name> em vez disto.

=back

=back

=head1 OPÇÕES

Todas as opções pode ser especificadas em ambos linha de comandos e no ficheiro de configuração do B<dpkg> I<%PKGCONFDIR%/dpkg.cfg> ou em ficheiros fragmento (com nomes a corresponder a este padrão de shell "[0-9a-zA-Z_-]*') no directório de configuração I<%PKGCONFDIR%/dpkg.cfg.d/>. Cada linha no ficheiro de configuração é ou uma opção (exatamente igual a uma opção de linha de comandos mas sem os hífens iniciais) ou um comentário (se começar com ‘B<#>’).

=over 

=item B<--abort-after=>I<number>

Altera o após quantos erros o B<dpkg> irá abortar. A predefinição é 50.

=item B<-B>, B<--auto-deconfigure>

Quando um pacote é removido, existe a possibilidade que outro pacote instalado dependa do pacote removido. Especificar esta opção irá provocar a desconfiguração automática do pacote que dependia do pacote removido.

=item B<-D>I<octal>, B<--debug=>I<octal>

Liga a depuração. I<octal> é formado por valores bitwise-ORing desejados juntos da lista em baixo (note que estes valores podem mudar em lançamentos futuros). B<-Dh> ou B<--debug=help> mostram estes valores de depuração.

    Número   Descrição
         1   Informação de progresso geralmente útil
         2   Invocação e estado dos scripts do maintainer
        10   Resultado de cada ficheiro processado
       100   Montes de resultados de cada ficheiro processado
        20   Resultado para cada ficheiro de configuração
       200   Montes de resultados de cada ficheiro de configuração
        40   Dependências e conflitos
       400   Montes de resultados de dependências/conflitos
     10000   Activação de gatilhos e processamento
     20000   Montes de resultados relativos a gatilhos
     40000   Quantidades tolas de resultados relativos a gatilhos
      1000   Lotes de drivel acerca por exemplo do directório dpkg/info
      2000   Lotes tolos de drivel

=item B<--force->I<things>

=item B<--no-force->I<things>, B<--refuse->I<things>

Força ou recusa (B<no-force> e B<refuse> significa a mesma coisa) para fazer algumas coisas. I<things> é uma lista separada por vírgulas de coisas especificadas em baixo. B<--force-help> mostra uma mensagem que as descreve. Coisas marcadas com (*) são forçadas por predefinição.

I<Aviso>: Estas opções são maioritariamente destinadas a serem usadas apenas por experts. Usa-las sem total conhecimento dos seus efeitos pode danificar todo o seu sistema.

=over 2

=item B<all>:

Liga (ou desliga) todas as opções de forçar.

=item B<downgrade>(*):

Instala um pacote, mesmo que já esteja instalada uma versão dele mais recente.

I<Aviso>: Presentemente o B<dpkg> não efetua nenhuma verificação de dependência em downgrades e por isso não irá avisa-lo se o downgrade quebrar a dependência de algum outro pacote. Isto pode ter sérios efeitos secundários, o downgrade de componentes essenciais do sistema pode até inutilizar todo o seu sistema. Use com cuidado.

=item B<configure-any>:

Configura também quaisquer pacotes desempacotados mas não configurados nos quais o pacote actual depende.

=item B<hold>:

Permite instalações, actualizações e remoções automáticas mesmo quando marcado para estar em “hold”.  B<Nota>: Quando estas acções são requisitadas explicitamente, o estado "hold" de selecção de pacote é sempre ignorado.

=item B<remove-reinstreq>:

Remove um pacote, mesmo se estiver quebrado e marcado a requerer reinstalação. Isto pode, por exemplo, causar que partes do pacote fiquem no sistema, que serão depois esquecidos pelo B<dpkg>.

=item B<remove-protected>:

Remove, mesmo se o pacote for considerado protegido (desde dpkg 1.20.1).  Os pacotes protegidos contêm maioritariamente a importante infraestrutura de arranque do sistema ou são usados por meta-pacotes personalizados locais-do-sistema. Remove-los pode causar que todo o sistema seja incapaz de arrancar ou perca funcionalidades requeridas para operar, portanto use com muito cuidado.

=item B<remove-essential>:

Remove, mesmo se o pacote for considerado essencial. Os pacotes essenciais contêm maioritariamente comandos Unix mais básicos, requeridos para o sistema de empacotamento, para a operação do sistema em geral ou durante o arranque (apesar do último dever ser alterado para pacotes protegidos em vez disto). Remove-los pode causar que todo o sistema pare de funcionar, por isso use com cuidado.

=item B<depends>:

Torna todos os problemas de dependências em avisos. Isto afecta os campos B<Pre-Depends> and B<Depends>.

=item B<depends-version>:

Não se interessa pelas versões quando verifica as dependências. Isto afecta os campos B<Pre-Depends> and B<Depends>.

=item B<breaks>:

Instala, mesmo que isto danifique outro pacote (desde dpkg 1.14.6). Isto afecta o campo B<Breaks>.

=item B<conflicts>:

Instala, mesmo que fique em conflito com outro pacote. Isto é perigoso, pois geralmente causa a sobreposição de alguns ficheiros. Isto afecta o campo B<Conflicts>.

=item B<confmiss>:

Instala sempre o ficheiro de configuração em falta sem avisar. Isto é perigoso, pois isto significa não preservar uma alteração feita no ficheiro de configuração (removendo-a).

=item B<confnew>:

Se um ficheiro de configuração foi modificado e a versão do pacote mudou, instala sempre a nova versão sem avisar, a menos que seja também especificado B<--force-confdef>, que neste caso é preferida a acção predefinida.

=item B<confold>:

Se um ficheiro de configuração foi modificado e a versão do pacote mudou, mantém sempre a versão antiga sem avisar, a menos que seja também especificado B<--force-confdef>, que neste caso é preferida a acção predefinida.

=item B<confdef>:

Se um conffile foi modificado e a versão no pacote alterou, escolhe sempre a acção predefinida sem perguntar. Se não existir acção predefinida irá parar para pedir ao utilizador a menos que B<--force-confnew> ou B<--force-confold> sejam também fornecidos, nesse caso irá usar isso para decidir a acção final.

=item B<confask>:

Se um conffile foi modificado oferece-se sempre para o substituir pela versão no pacote, mesmo que a versão no pacote não tenha mudado (desde dpkg 1.15.8).  Se algum de B<--force-confnew>, B<--force-confold>, ou B<--force-confdef> forem também fornecidos, será usado para decidir a acção final.

=item B<overwrite>:

Sobrescreve um ficheiro de um pacote por um ficheiro de outro.

=item B<overwrite-dir>:

Sobrepõe um directório de um pacote com ficheiros de outro.

=item B<overwrite-diverted>:

Sobrescreve a ficheiro divergido com uma versão não-divergida.

=item B<statoverride-add>:

Sobrescreve uma sobreposição de estatística existente quando a adiciona (desde dpkg 1.19.5).

=item B<statoverride-remove>:

Ignora uma sobreposição de estatística em falta quando a remove (desde dpkg 1.19.5).

=item B<security-mac>(*):

Usa segurança baseada em Mandatory Access Controls (MAC) específica da plataforma quando instala ficheiros no sistema de ficheiros (desde dpkg 1.19.5). Em sistemas Linux a implementação usa SELinux.

=item B<unsafe-io>:

Não executa operações I/O seguras quando desempacota (desde dpkg 1.15.8.6). Actualmente isto implica não executar sincronismos do sistema antes de renomear ficheiros, o que é conhecido por causar uma degradação substancial de performance em alguns sistemas de ficheiros, infelizmente são esses que requerem o I/O seguro em primeiro lugar devido ao seu comportamento não fiável que provoca ficheiros de comprimento-zero em crashes abruptos do sistema.

I<Nota>: Para ext4, o principal ofensor, considere usar a opção de montagem B<nodelalloc>, o que irá corrigir ambos a degradação de performance e os problemas de segurança de dados, o último ao tornar o sistema de ficheiros não produtor de ficheiros de zero-tamanho em crashes abruptos do sistema com qualquer software que não faça sincronismos antes de renomeações atómicas.

I<Aviso>: Usar esta opção pode melhorar a performance a custo de perda de dados, use com cuidado.

=item B<script-chrootless>:

Corre os scripts de maintainer sem fazer L<chroot(2)> em B<instdir> mesmo que o pacote não suporte este modo de operação (desde dpkg 1.18.5).

I<Aviso>: Isto pode destruir o seu sistema, use com extremo cuidado.

=item B<architecture>:

Processa pacotes mesmo da arquitectura errada ou sem nenhuma.

=item B<bad-version>:

Processa pacotes mesmo com versões erradas (desde dpkg 1.16.1).

=item B<bad-path>:

B<PATH> tem em falta programas importantes, portanto é provável haver problemas.

=item B<not-root>:

Tenta (des)instalar coisas mesmo não sendo root.

=item B<bad-verify>:

Instala um pacote mesmo que este falhe no teste de autenticidade.

=back

=item B<--ignore-depends>=I<package>,...

Ignora verificação de dependências para pacotes específicos (na verdade, a verificação é executada, mas são apenas dados avisos sobre conflitos, nada ,mais). Isto afecta os campos B<Pre-Depends>, B<Depends> e B<Breaks>.

=item B<--no-act>, B<--dry-run>, B<--simulate>

Faz tudo o que é suposto ser feito, mas não escreve quaisquer alterações. Isto é usado para se ver o que acontecia com uma acção específica, sem modificar nada na realidade.

Certifique-se de fornecer B<--no-act> antes do parâmetro da acção, ou poderá acabar com resultados não desejáveis (ex. B<dpkg --purge foo --no-act> irá primeiro purgar o pacote "foo" e depois tentará purgar o pacote "--no-act", mesmo pensando que provavelmente não vai fazer nada).

=item B<-R>, B<--recursive>

Lida recursivamente com todos os ficheiros regulares que correspondem ao padrão B<*.deb> encontrados em directórios especificados e em todos os seus sub-directórios. Isto pode ser usado com as acções B<-i>, B<-A>, B<--install>, B<--unpack> e B<--record-avail>.

=item B<-G>

Não instala um pacote se uma versão mais recente do mesmo pacote já estiver instalada. Isto é um nome alternativo de B<--refuse-downgrade>.

=item B<--admindir=>I<dir>

Define o directório administrativo para I<directory>. Este directório contem muitos ficheiros que fornecem informação acerca do estado de pacotes instalados ou desinstalados, etc. A predefinição é «I<%ADMINDIR%>» se B<DPKG_ADMINDIR> não estiver definido.

=item B<--instdir=>I<dir>

Define o directório de instalação, o que se refere ao directório onde os pacotes vão ser instalados. B<instdir> é também o directório passado ao L<chroot(2)> antes de correr scripts de instalação dos pacotes, o que significa que os vêm B<instdir> como o directório raiz. A predefinição é «I</>».

=item B<--root=>I<dir>

Define o directório raiz para B<directory>, o que define o directório de instalação para «I<dir>» e o directório administrativo para «I<dir>B<%ADMINDIR%>».

=item B<-O>, B<--selected-only>

Apenas processa os pacotes que estão selecionados para instalação. A marcação real é feita com B<dselect> ou pelo B<dpkg>, quando lida com pacotes. Por exemplo, quando um pacote é removido, será marcado selecionado para desinstalação.

=item B<-E>, B<--skip-same-version>

Não instala o pacote se a mesma versão e arquitectura do pacote já estiver instalada.

Desde dpkg 1.21.10, a arquitectura é também tida em conta, o que torna possível cruzar o grau dos pacotes ou instalar instâncias co-instaláveis adicionais com a mesma versão, mas arquitectura diferente.

=item B<--pre-invoke=>I<command>

=item B<--post-invoke=>I<command>

Define um I<command> hook de invocação para ser corrido via “%DPKG_DEFAULT_SHELL% -c” antes ou depois de o B<dpkg> correr para as acções I<unpack>, I<configure>, I<install>, I<triggers-only>, I<remove>, e I<purge> (desde dpkg 1.15.4), e as acções I<add-architecture> e I<remove-architecture> (desde dpkg 1.17.19). Esta opção pode ser especificada várias vezes. A ordem que as opções são especificadas é preservada, com aquelas dos ficheiros de configuração a tomar precedência. A variável de ambiente B<DPKG_HOOK_ACTION> é definida para os hooks para a acção actual do B<dpkg>.

Os hooks de invocação não são executados quando B<--no-act> é especificado, ou quando se corre como não-root sem B<--force-not-root>.

B<Nota>: Front-ends podem chamar B<dpkg> várias vezes por invocação, o que pode fazer correr os hooks mais vezes do que o esperado.

=item B<--path-exclude=>I<glob-pattern>

=item B<--path-include=>I<glob-pattern>

Define I<glob-pattern> como um filtro de caminho, seja por excluir ou re-incluir caminhos previamente excluídos que correspondem aos padrões especificados durante a instalação (desde dpkg 1.15.8).

I<Aviso>: Tenha em conta que ao depender de caminhos excluídos você pode danificar completamente o seu sistema, use com cuidado.

Os padrões glob usam as mesmas wildcards usadas na shell, onde ‘*’ corresponde a qualquer sequência de caracteres, incluindo a string vazia e também ‘/’. Por exemplo, «I</usr/*/READ*>» corresponde a «I</usr/share/doc/package/README>».  Como normal, ‘?’ corresponde a qualquer caractere único (mais uma vez, incluindo ‘/’). E ‘[’ começa uma classe de caractere, o qual pode conter uma lista de caracteres, gamas e complementações. Veja L<glob(7)> para informação detalhada acerca de globbing. B<Nota>: A implementação actual pode re-incluir mais directivas e links simbólicos do que necessário, em particular quando existe uma re-inclusão mais específica, para estar no lado seguro e evitar possíveis falhas de desempacotamento; trabalho futuro poderá vir a corrigir isto.

Isto pode ser usado para remover todos os caminhos excepto alguns particulares; um caso típico é:

 --path-exclude=/usr/share/doc/*
 --path-include=/usr/share/doc/*/copyright

para remover todos os ficheiros de documentação excepto os ficheiros de copyright.

Estas duas opções pode ser especificadas várias vezes, e intercaladas entre elas. Ambas são processadas na ordem fornecida, com a última regra corresponde a um nome de ficheiro a marcar a decisão.

Os filtros são aplicados quando se desempacota os pacotes binários, e como tal apenas têm conhecimento do tipo de objecto actualmente a ser filtrado (ex. um ficheiro normal num directório) e não têm visibilidade dos outros objetos que virão a seguir. Porque estes filtros têm efeitos secundários (em contraste aos filtros L<find(1)>), excluir um nome de caminho exacto que acontece ser um objecto directório como I</usr/share/doc> não irá ter o resultado desejado, e apenas esse nome de caminho será excluído (que poderá ser automaticamente re-incluído se o código vir a necessidade). Quaisquer ficheiros subsequentes contidos dentro desse directório irão falhar ao desempacotar.

B<Dica>: certifique-se que os globs não são expandidos pela sua shell.

=item B<--verify-format> I<format-name>

Define o formato dos resultados para o comando B<--verify> (desde dpkg 1.17.2).

O único formato de saída actualmente suportado é B<rpm>, o qual consiste de uma linha para cada caminho que falhou qualquer verificação. Estas linhas têm o seguinte formato:

Z<>
 B<missing  > [B<c>] I<pathname> [B<(>I<error-message>B<)>]
 B<?M5??????> [B<c>] I<pathname>

Os primeiros 9 caracteres são usados para reportar o resultado das verificações, seja um B<missing> literal quando o ficheiro não está presente ou os seus meta-dados não puderam ser obtidos, ou um dos seguintes caracteres especiais que reportam o resultado para cada verificação:

=over 

=item ‘B<?>’

Implica que a verificação não pôde ser feita (falta de suporte, permissões do ficheiro, etc).

=item ‘B<.>’

Implica que a verificação passou.

=item ‘I<A-Za-z0-9>’

Implica que uma verificação especifica falhou. As seguinte posições e caracteres alfanuméricos são actualmente suportados:

=over 

=item 1 ‘B<?>’

Estas verificações actualmente não são suportadas, serão sempre ‘B<?>’.

=item 2 ‘B<M>’

A verificação de modo de ficheiro falhou (desde dpkg 1.21.0). Porque os meta-dados do nome de caminho não estão actualmente seguidos, esta verificação só pode ser parcialmente emulada via heurística muito simples para nomes de caminho que têm um resumo conhecido, o que implica que devem ser ficheiros regulares, onde a verificação irá falhar se o nome de caminho não for um ficheiro regular no sistema de ficheiros. Esta verificação nunca irá actualmente ter sucesso pois não tem informação suficiente disponível.

=item 3 ‘B<5>’

A verificação de resumo falhou, o que significa que o conteúdo do ficheiro foi modificado. Isto é apenas uma verificação de integridade e não deve ser considerada como nenhum tipo de verificação de segurança.

=item 4-9 ‘B<?>’

Estas verificações actualmente não são suportadas, serão sempre ‘B<?>’.

=back

=back

A linha é seguida por um espaço e um caractere de atributo. O seguinte caractere de atributo é suportado:

=over 

=item ‘B<c>’

O nome-de-caminho é um conffile.

=back

Finalmente seguido por outro espaço e o nome de caminho.

No caso da entrada ser do tipo B<missing>, e o ficheiro não estava realmente presente no sistema de ficheiros, então a linha é seguida por um espaço e a mensagem de erro entre parêntesis.

=item B<--status-fd> I<n>

Envia o estado do pacote em linguagem de máquina e informação de progresso para o descritor de ficheiro I<n>. Esta opção pode ser especificada várias vezes. A informação é geralmente um registo por linha, em um dos seguintes formatos:

=over 

=item B<status:> I<package>B<:> I<status>

Status do pacote alterado; I<status> está como no ficheiro de status.

=item B<status:> I<package> B<: error :> I<extended-error-message>

Ocorreu um erro. Quaisquer possíveis novas linhas em I<extended-error-message> irão ser convertidas para espaços antes do resultado.

=item B<status:> I<file> B<: conffile-prompt : '>I<real-old>B<' '>I<real-new>B<'>
I<useredited> I<distedited>

Está a ser perguntado ao utilizador uma questão de ficheiro de configuração.

=item B<processing:> I<stage>B<:> I<package>

Enviado apenas antes de um estado de processamento começar. I<stage> é um de B<upgrade>, B<install> (ambos enviados antes do desempacotamento), B<configure>, B<trigproc>, B<disappear>, B<remove>, B<purge>.

=back

=item B<--status-logger>=I<command>

Envia o estado do pacote em linguagem de máquina e informação de progresso para a entrada standard de I<command> de shell, para ser corrido via “%DPKG_DEFAULT_SHELL% -c” (desde dpkg 1.16.0). Esta opção pode ser especificada várias vezes. O formato de resultados usado é o mesmo que em B<--status-fd>.

Os registadores de estado não são executados quando B<--no-act> é especificado, ou quando se corre como não-root sem B<--force-not-root>.

=item B<--log=>I<filename>

Regista actualizações de alteração de estado e acções em I<filename>, em vez da predefinição I<%LOGDIR%/dpkg.log>. Se esta opção for dada várias vezes, é usado o último nome de ficheiro. As mensagens registadas estão no formato:

=over 

=item YYYY-MM-DD HH:MM:SS B<startup> I<type> I<command>

Para cada invocação do dpkg onde I<type> é B<archives> (com um I<command> de B<unpack> ou B<install>) ou B<packages> (com um I<command> de B<configure>, B<triggers-only>, B<remove> ou B<purge>).

=item YYYY-MM-DD HH:MM:SS B<status> I<state> I<pkg> I<installed-version>

Par actualizações de mudança de estado.

=item YYYY-MM-DD HH:MM:SS I<action> I<pkg> I<installed-version>
I<available-version>

Para acções onde I<action> é um de B<install>, B<upgrade>, B<configure>, B<trigproc>, B<disappear>, B<remove> ou B<purge>.

=item YYYY-MM-DD HH:MM:SS B<conffile> I<filename> I<decision>

Para alterações de conffile onde I<decision> ou é B<install> ou é B<keep>.

=back

=item B<--robot>

Usa um formato de resultados em linguagem máquina. Este fornece uma interface para programas que precisam de analisar os resultados de alguns dos comandos que de outro modo não emitem um formato de resultados em linguagem máquina. Nenhuma localização será usada, e os resultados serão modificados para os tornar mais fácil de analisar.

O único comando actualmente suportado é B<--version>.

=item B<--no-pager>

Desactiva o uso de qualquer paginador quando mostra informação (desde dpkg 1.19.2).

=item B<--no-debsig>

Não tenta verificar as assinaturas dos pacotes.

=item B<--no-triggers>

Não corre nenhum gatilho nesta execução (desde dpkg 1.14.17), mas as activações serão na mesma gravadas. Se usado com B<--configure> I<package> ou B<--triggers-only> I<package> então o postinst do pacote nomeado irá mesmo assim ser corrido mesmo que apenas seja necessário correr um gatilho. O uso desta opção pode deixar pacotes em estados B<triggers-awaited> e B<triggers-pending> impróprios. Isto pode ser corrigido mais tarde ao correr: B<dpkg --configure --pending>.

=item B<--triggers>

Cancela um B<--no-triggers> anterior (desde dpkg 1.14.17).

=back

=head1 ESTADO À SAÍDA

=over 

=item B<0>

A acção requisitada foi executada com sucesso. Ou uma verificação ou comando de afirmação retornou verdadeiro.

=item B<1>

Uma verificação ou comando de afirmação retornou falso.

=item B<2>

Erro fatal ou irrecuperável devido a utilização de linha de comandos inválida, ou interações com o sistema, tais como acesso à base de dados, alocações de memória, etc.

=back

=head1 AMBIENTE

=head2 Ambiente externo

=over 

=item B<PATH>

Esta variável é esperada estar definida no ambiente e apontar para os caminhos do sistema onde vários programas requeridos se encontram. Se não estiver definida, ou os programas não forem encontrados, o B<dpkg> irá abortar.

=item B<HOME>

Se definido, o B<dpkg> irá usa-lo como o directório de onde ler o ficheiro de configuração específico do utilizador.

=item B<TMPDIR>

Se definido, o B<dpkg> irá usa-lo como o directório onde criar os ficheiros e directórios temporários.

=item B<SHELL>

O programa que o B<dpkg> irá executar quando iniciar uma nova shell interactiva, ou quando multiplica um comando via shell.

=item B<PAGER>

=item B<DPKG_PAGER>

O programa que o B<dpkg> irá executar quando correr um paginador, o qual será executado com «B<$SHELL -c>», por exemplo quando mostrar as diferenças do conffile. Se B<SHELL> não estiver definida, será usado «B<%DPKG_DEFAULT_SHELL%>» em vez deste.

O B<DPKG_PAGER> sobrepõe a variável der ambiente B<PAGER> (desde dpkg 1.19.2).  Se nenhum dos programas apontados por B<DPKG_PAGER> ou B<PAGER> estiverem presentes, os seguintes programas serão tentados por ordem (desde dpkg 1.22.12): o paginador predefinido B<%DPKG_DEFAULT_PAGER%>, depois B<less>, B<more>, e finalmente B<cat>.

=item B<DPKG_COLORS>

Define o modo de cor (desde dpkg 1.18.5). Os valores actualmente aceites são: B<auto> (predefinido), B<always> e B<never>.

=item B<DPKG_NLS>

Se definida, será usada para decidir se deve activar o Suporte a Linguagem Nativa. Também como conhecido como suporte de internacionalização (ou i18n) (desde dpkg 1.22.7). Os valores aceites são B<0> e B<1> (predefinição).

=item B<DPKG_DEBUG>

Define a máscara de depuração (desde dpkg 1.21.10) a partir dum valor octal. As bandeiras presentemente aceites estão descritas na opção B<--debug>.

=item B<DPKG_FORCE>

Define as bandeiras de forçar (desde dpkg 1.19.5). Quando esta variável está presente, nenhuma predefinição de forçar embutida será aplicada. Se a variável esta presente mas vazia, todas as bandeiras de forçar serão desactivadas.

=item B<DPKG_ADMINDIR>

Se definido e as opções B<--admindir> ou B<--root> não foram especificadas, será usado como o directório administrativo do B<dpkg> (desde dpkg 1.20.0).

=item B<DPKG_FRONTEND_LOCKED>

Definido pelo frontend de gestão de pacotes para notificar o dpkg que não deve adquirir o bloqueio do frontend (desde dpkg 1.19.1).

=item B<DPKG_PATH_PASSWD>

Define o nome-de-caminho para o ficheiro F<passwd> do sistema.  Este caminho é relativo ao directório B<--root>.  A predefinição é F</etc/passwd>.

Desde dpkg 1.22.16.

=item B<DPKG_PATH_GROUP>

Define o nome-de-caminho para o ficheiro F<group> do sistema.  Este caminho é relativo ao directório B<--root>.  A predefinição é F</etc/group>.

Desde dpkg 1.22.16.

=back

=head2 Ambiente interno

=over 

=item B<LESS>

Definido pelo B<dpkg> para “B<-FRSXMQ>”, Se não já definido, quando cria um paginador (desde dpkg 1.19.2). Para modificar o comportamento predefinido, esta variável por ser pré-ajustada para qualquer outro valor incluindo uma string vazia, ou as variáveis B<PAGER> ou B<DPKG_PAGER> podem ser definidas para desactivar opções específicas com «B<-+>», por exemplo B<DPKG_PAGER="less -+F">.

=item B<DPKG_ROOT>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para indicar em qual instalação devem actuar (desde 1.18.5). O valor destina-se a ser adicionado ao inicio de qualquer caminho em que os scripts de maintainer operam. Durante uma operação normal, esta variável está vazia. Ao instalar pacotes numa B<instdir> diferente, o B<dpkg> normalmente invoca scripts do maintainer usando L<chroot(2)> e deixa esta variável vazia, mas se B<--force-script-chrootless> for especificado então a chamada L<chroot(2)> é saltada e B<instdir> fica não-vazia.

=item B<DPKG_ADMINDIR>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para indicar o directório administrativo do B<dpkg> a usar (desde dpkg 1.16.0). Esta variável está sempre definida para o valor actual B<--admindir>.

=item B<DPKG_FORCE>

Definido pelo B<dpkg> no ambiente de sub-processos para todos os nomes de opções de forçar, actualmente activos, separados por vírgulas (desde dpkg 1.19.5).

=item B<DPKG_SHELL_REASON>

Definido pelo B<dpkg> na shell criada no incitar do conffile para examinar a situação (desde dpkg 1.15.6). Valor válido actual: B<conffile-prompt>.

=item B<DPKG_CONFFILE_OLD>

Definido pelo B<dpkg> na shell criada no incitar do conffile para examinar a situação (desde dpkg 115.6). Contém o caminho do conffile antigo.

=item B<DPKG_CONFFILE_NEW>

Definido pelo B<dpkg> na shell criada no incitar do conffile para examinar a situação (desde dpkg 115.6). Contém o caminho do conffile novo.

=item B<DPKG_HOOK_ACTION>

Definido pelo B<dpkg> na shell criada quando executa uma acção hook (desde dpkg 1.15.4). Contém a acção actual do B<dpkg>.

=item B<DPKG_RUNNING_VERSION>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para a versão da instância do B<dpkg> actualmente a correr (desde dpkg 1.14.17).

=item B<DPKG_MAINTSCRIPT_PACKAGE>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para o nome do pacote (qualificado-não-arquitectura) a ser manuseado (desde dpkg 1.14.17).

=item B<DPKG_MAINTSCRIPT_PACKAGE_REFCOUNT>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para a contagem de referência de pacotes, isto é, o número de instâncias de pacotes com um estado maior que B<not-installed> (desde dpkg 1.17.2).

=item B<DPKG_MAINTSCRIPT_ARCH>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para a arquitectura que o pacote foi compilado (desde dpkg 1.15.4).

=item B<DPKG_MAINTSCRIPT_NAME>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para o nome do script a correr, um de B<preinst>, B<postinst>, B<prerm> or B<postrm> (desde dpkg 1.15.7).

=item B<DPKG_MAINTSCRIPT_DEBUG>

Definido pelo B<dpkg> no ambiente de scripts do maintainer para um valor (‘B<0>’ ou ‘B<1>’) que indica se a depuração foi requisitada (com a opção B<--debug>) para os scripts do maintainer (desde dpkg 1.18.4).

=back

=head1 FICHEIROS

=over 

=item I<%PKGCONFDIR%/dpkg.cfg.d/[0-9a-zA-Z_-]*>

Ficheiros de fragmentos de configuração (desde dpkg 1.15.4).

=item I<%PKGCONFDIR%/dpkg.cfg>

Ficheiro de configuração com as opções predefinidas.

=item I<%LOGDIR%/dpkg.log>

Ficheiro de relatório predefinido (veja I<%PKGCONFDIR%/dpkg.cfg> e a opção B<--log>).

=back

Os outros ficheiros listados em baixo estão nos seus directórios predefinidos, veja a opção B<--admindir> para saber como modificar as localizações destes ficheiros.

=over 

=item I<%ADMINDIR%/available>

Lista dos pacotes disponíveis.

=item I<%ADMINDIR%/status>

Estados dos pacotes disponíveis. Este ficheiro contem informação acerca de se um pacote está marcado para remoção ou não, se está instalado ou não, etc. Veja a secção L</INFORMAÇÃO ACERCA DE PACOTES> para mais informação.

O ficheiro status é salvaguardado diariamente em I<%BACKUPSDIR%>. Pode ser útil se for perdido ou corrompido devido a problemas com o sistema de ficheiros.

=back

O formato e conteúdo de um pacote binário está descrito em L<deb(5)>.

=head2 Nomes de ficheiros do sistema de ficheiros

Durante o desempacotar e configurar o B<dpkg> usa vários nomes de ficheiros para objectivos de salvaguarda e reposição. O seguinte é uma explicação simplificada de como estes nomes de ficheiros são usados durante a instalação de um pacote.

=over 

=item F<*.dpkg-new>

Durante o desempacotar. o B<dpkg> extrai os novos objectos do sistema de ficheiros em I<pathname>B<.dpkg-new> (excepto para directórios existentes ou links simbólicos a directórios que são saltados), após isso estar feito e após ter feito salvaguardas dos objectos antigos, os objectos são renomeados para I<pathname>.

=item F<*.dpkg-tmp>

Durante o desempacotar. o B<dpkg> cria salvaguardas dos antigos objectos do sistema de ficheiros em I<pathname>B<.dpkg-tmp> após extrair os novos objectos. Estas salvaguardas são executadas seja ou ao renomear os directórios (mas apenas se mudarem de tipo de ficheiro), uma nova cópia de link simbólico para os links simbólicos, ou um hard link para qualquer outro objecto de sistema de ficheiros, excepto para ficheiros de configuração os quais não têm salvaguardas porque serão processados num estágio posterior.

No caso de necessidade de reposição, estas salvaguardas são usadas para restaurar os conteúdos anteriores dos objectos. Estas são removidas automaticamente após a instalação estar completa.

=item F<*.dpkg-old>

Durante a configuração, quando instala a nova versão, o B<dpkg> consegue fazer uma salvaguarda do ficheiro de configuração modificado anteriormente em I<pathname>B<.dpkg-old>.

=item F<*.dpkg-dist>

Durante a configuração, e ao manter a versão antiga, o B<dpkg> consegue fazer uma salvaguarda do novo ficheiro de configuração não modificado em I<pathname>B<.dpkg-dist>.

=back

=head1 SEGURANÇA

Qualquer operação que precise de acesso de escrita à base de dados ou ao sistema de ficheiro é considerada uma operação privilegiada que pode permitir escalada a root. Estas operações nunca devem ser delegadas a um utilizador não-confiável ou serem feitas em pacotes não-confiáveis, pois isso pode permitir acesso de root ao sistema.

Algumas operações (tais como verificação do pacote) podem precisar de privilégios de root para serem capazes de aceder a ficheiros no sistema de ficheiros que caso contrário seriam inacessíveis devido a restrição de permissões, mas por outro lado devem funcionar normalmente e produzir mensagens apropriadas nesses casos.

Operações de consulta nunca devem requerer root, e delegar a sua execução para utilizadores sem privilégios via algum comando de ganhar-root pode ter implicações de segurança (tais como escalada de privilégios), por exemplo quando um paginador é invocado automaticamente pela ferramenta.

Veja também a secção B<SECURITY> dos manuais L<dpkg-deb(1)> e L<dpkg-split(1)>.

=head1 BUGS

B<--no-act> geralmente dá menos informação do que poderia ser útil.

=head1 EXEMPLOS

Para listar pacotes instalados relacionados com o editor L<vi(1)> (note que B<dpkg-query> já não carrega o ficheiro I<available> por predefinição, e para isso deve ser usada a opção B<dpkg-query> B<--load-avail>):

=over 

 dpkg -l '*vi*'

=back

Para ver as entradas em I<%ADMINDIR%/available> de dois pacotes:

=over 

 dpkg --print-avail vim neovim | less

=back

Para procurar você próprio na listagem de pacotes:

=over 

 dpkg --print-avail | less

=back

Para remover um pacote neovim instalado:

=over 

 dpkg -r neovim

=back

Para instalar um pacote, primeiro você precisa de encontra-lo num arquivo ou disco de media. Quando se usa um arquivo baseado numa estrutura pool, conhecer a área do arquivo e o nome do pacote é suficiente para inferir o nome de de caminho:

=over 

 dpkg -i /media/bdrom/pool/main/v/vim/vim_9.0.2018-1_amd64.deb

=back

Para fazer uma cópia local do estado de selecção de pacotes:

=over 

 dpkg --get-selections >myselections

=back

Você poderá transferir este ficheiro para outro computador, e depois de ter actualizado lá o ficheiro I<available> com o seu frontend elegido de gestão de pacotes (veja L<https://wiki.debian.org/Teams/Dpkg/FAQ#set-selections> para mais detalhes), por exemplo:

=over 

 apt-cache dumpavail | dpkg --merge-avail

=back

você pode instala-lo com:

=over 

 dpkg --clear-selections
 dpkg --set-selections <myselections

=back

Note que isto não irá realmente instalar ou remover nada, mas apenas definir o estado de selecção nos pacotes requeridos. Você irá precisar de alguma outra aplicação para realmente descarregar e instalar os pacotes requeridos. Por exemplo, correr B<apt-get dselect-upgrade>.

Normalmente, você irá descobrir que o L<dselect(1)> fornece um método mais conveniente de modificar os estados de selecção de pacotes.

=head1 FUNCIONALIDADES ADICIONAIS

Podem ser ganhas funcionalidades adicionais ao instalar qualquer um dos seguintes pacotes: B<apt>, B<aptitude> e B<debsig-verify>.

=head1 VEJA TAMBÉM

L<aptitude(8)>, L<apt(8)>, L<dselect(1)>, L<dpkg-deb(1)>, L<dpkg-query(1)>, L<deb(5)>, L<deb-control(5)>, L<dpkg.cfg(5)>, e L<dpkg-reconfigure(8)>.

=head1 AUTORES

Veja I<%PKGDOCDIR%/THANKS> para a lista de pessoas que contribuíram para o B<dpkg>.


=head1 TRADUÇÃO

Américo Monteiro

Se encontrar algum erro na tradução deste documento, por favor comunique para
Américo Monteiro <a_monteiro@gmx.com>.
