.TH "KySdkPrint" 3 "Wed Sep 20 2023" "My Project" \" -*- nroff -*-
.ad l
.nh
.SH NAME
KySdkPrint \- 生成打印信息dbus信息类 主要用来生成本地的所有打印机(包含可用打印机和不可用打印机)、获取本地的所有可用打印机(打印机处于idle状态)、 设置打印参数，每次设置会清除之前设置打印参数,这个设置是全局设置，设置了之后所有打印机都会用这个参数进行打印、 下载网络文件、打印本地文件、清除某个打印机的所有打印队列、获取当前打印机状态(状态不是实时更新)、 获取当前打印任务状态（发送打印任务之后下需要等待一会再获取状态,状态不是实时更新）、获取url内的文件名dbus信息  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <lingmosdkdbus\&.h>\fP
.PP
Inherits QObject\&.
.SS "Public Slots"

.in +1c
.ti -1c
.RI "QStringList \fBgetPrinterList\fP () const"
.br
.RI "获取本地的所有打印机(包含可用打印机和不可用打印机) "
.ti -1c
.RI "QStringList \fBgetPrinterAvailableList\fP () const"
.br
.RI "获取本地的所有可用打印机(打印机处于idle状态) "
.ti -1c
.RI "void \fBsetPrinterOptions\fP (int number_up, const QString media, const QString number_up_layout, const QString sides) const"
.br
.RI "设置打印参数，每次设置会清除之前设置打印参数,这个设置是全局设置，设置了之后所有打印机都会用这个参数进行打印 "
.ti -1c
.RI "int \fBgetPrinterPrintLocalFile\fP (const QString printername, const QString filepath) const"
.br
.RI "打印本地文件 "
.ti -1c
.RI "int \fBgetPrinterCancelAllJobs\fP (const QString printername) const"
.br
.RI "清除某个打印机的所有打印队列 "
.ti -1c
.RI "int \fBgetPrinterStatus\fP (const QString printername) const"
.br
.RI "获取当前打印机状态(状态不是实时更新) "
.ti -1c
.RI "QString \fBgetPrinterFilename\fP (const QString url) const"
.br
.RI "获取url内的文件名 "
.ti -1c
.RI "int \fBgetPrinterJobStatus\fP (const QString printername, int jobid) const"
.br
.RI "获取当前打印任务状态（发送打印任务之后下需要等待一会再获取状态,状态不是实时更新） "
.ti -1c
.RI "int \fBgetPrinterDownloadRemoteFile\fP (const QString url, const QString filepath) const"
.br
.RI "下载网络文件 "
.in -1c
.SH "Detailed Description"
.PP 
生成打印信息dbus信息类 主要用来生成本地的所有打印机(包含可用打印机和不可用打印机)、获取本地的所有可用打印机(打印机处于idle状态)、 设置打印参数，每次设置会清除之前设置打印参数,这个设置是全局设置，设置了之后所有打印机都会用这个参数进行打印、 下载网络文件、打印本地文件、清除某个打印机的所有打印队列、获取当前打印机状态(状态不是实时更新)、 获取当前打印任务状态（发送打印任务之后下需要等待一会再获取状态,状态不是实时更新）、获取url内的文件名dbus信息 
.PP 

.SH "Public Slots"
.PP 
.SS "QStringList KySdkPrint::getPrinterAvailableList () const\fC [slot]\fP"

.PP
获取本地的所有可用打印机(打印机处于idle状态) 
.PP
\fBReturns\fP
.RS 4
QStringList 本地的所有可用打印机名称列表 
.RE
.PP

.SS "int KySdkPrint::getPrinterCancelAllJobs (const QString printername) const\fC [slot]\fP"

.PP
清除某个打印机的所有打印队列 
.PP
\fBParameters\fP
.RS 4
\fIprintername\fP 打印机名 
.RE
.PP
\fBReturns\fP
.RS 4
int 成功返回0,失败返回-1 
.RE
.PP

.SS "int KySdkPrint::getPrinterDownloadRemoteFile (const QString url, const QString filepath) const\fC [slot]\fP"

.PP
下载网络文件 
.PP
\fBParameters\fP
.RS 4
\fIurl\fP 要打印的url 
.br
\fIfilepath\fP 保存的文件路径
.RE
.PP
\fBReturns\fP
.RS 4
int 打印作业的id 
.RE
.PP

.SS "QString KySdkPrint::getPrinterFilename (const QString url) const\fC [slot]\fP"

.PP
获取url内的文件名 
.PP
\fBParameters\fP
.RS 4
\fIurl\fP 路径 
.RE
.PP
\fBReturns\fP
.RS 4
String 解析出来的函数名 
.RE
.PP

.SS "int KySdkPrint::getPrinterJobStatus (const QString printername, int jobid) const\fC [slot]\fP"

.PP
获取当前打印任务状态（发送打印任务之后下需要等待一会再获取状态,状态不是实时更新） 
.PP
\fBParameters\fP
.RS 4
\fIprintername\fP 打印机名 
.br
\fIjobid\fP 打印作业的id 
.RE
.PP
\fBReturns\fP
.RS 4
int 状态码 
.RE
.PP

.SS "QStringList KySdkPrint::getPrinterList () const\fC [slot]\fP"

.PP
获取本地的所有打印机(包含可用打印机和不可用打印机) 
.PP
\fBReturns\fP
.RS 4
QStringList 地的所有打印机名称列表 
.RE
.PP

.SS "int KySdkPrint::getPrinterPrintLocalFile (const QString printername, const QString filepath) const\fC [slot]\fP"

.PP
打印本地文件 
.PP
\fBParameters\fP
.RS 4
\fIprintername\fP 打印机名 
.br
\fIfilepath\fP 文件绝对路径
.RE
.PP
\fBReturns\fP
.RS 4
int 打印作业的id
.RE
.PP
@notice 虽然支持多种格式的打印，但是打印除pdf之外的格式打印的效果都不够好，建议打印pdf格式的文件 打印机处于stop状态函数返回0 格式不对的文件可以成功创建打印任务，但是打印不出来。什么叫格式不对，举个例子，比如当前要打印日志文件a\&.log, 然后把a\&.log改名叫a\&.pdf,这个时候a\&.pdf就变成了格式不对的文件，打印不出来了 
.SS "int KySdkPrint::getPrinterStatus (const QString printername) const\fC [slot]\fP"

.PP
获取当前打印机状态(状态不是实时更新) 
.PP
\fBParameters\fP
.RS 4
\fIprintername\fP 打印机名 
.RE
.PP
\fBReturns\fP
.RS 4
int 状态码 
.RE
.PP

.SH "Author"
.PP 
Generated automatically by Doxygen for lingmosdkdbus.h from the source code\&.
