glibc (2.41+lingmo3build1-12) helium; urgency=medium

  [Lingmo OS Team]
  * Rebuild for Lingmo OS.

 -- Lingmo OS Team <team@lingmo.org>  Sat, 02 Aug 2025 19:04:08 +0800

glibc (2.41-11) unstable; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix iconv to not create executable files with -o.
    - Fix double-free after allocation failure in regcomp (GLIBC-SA-2025-0005
      / CVE-2025-8058).  Closes: #1109803.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 26 Jul 2025 20:29:12 +0200

glibc (2.41-10) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update xfails.
  * debian/patches/hurd-i386/local-pthread_once.diff: Pave the way for 2.42.

  [ Helmut Grohne ]
  * Partially restore init restarting. (Closes: #1108193)

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix sparc32 Fix argument passing to __libc_start_main
    - Fix error reporting (false negatives) in SGID tests

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 17 Jul 2025 13:21:32 +0200

glibc (2.41-9) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix loading TLS-using modules using LD_AUDIT.
    - Add tests for CVE-2025-4802.
    - Fix swapped wcsncpy and wcpncpy function names in IFUNC definition.
    - Fix elf/tst-execstack-prog-static-tunable on sparc64.
    - Remove POWER10 optimized strcmp function (GLIBC-SA-2025-0003 /
      CVE-2025-5702).  Closes: #1107365.
    - Remove POWER10 optimized strncmp function (GLIBC-SA-2025-0004 /
      CVE-2025-5745).  Closes: #1107366.
    - Remove POWER10 optimized memchr function.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-rename.diff: Make rename refuse trailing
    slashes.
  * debian/patches/hurd-i386/local-64b-align.diff: Avoid 64b typing error on
    RPCs using 64b fields in structures.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 18 Jun 2025 06:49:31 +0200

glibc (2.41-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: xfail tst-execstack-prog-static-tunable
    on hurd-any. Drop duplicate unsupported stances commited uptream.
  * debian/patches/hurd-i386/git-dup-refcnt.diff: Fix detecting too many dups.
  * debian/patches/hurd-i386/git-xstate.diff: Fix restoring SSE state on
    signals.
  * debian/patches/hurd-i386/local-intr-msg-clobber.diff: Drop now-useless
    patch.
  * debian/patches/hurd-i386/git-utime-EINVAL.diff: Make *utime*s catch invalid
    times.
  * debian/patches/hurd-i386/git-xstate-initialized.diff: Fix crash in dash.
  * debian/patches/hurd-i386/git-signal-fpe-exceptions.diff: Fix crash in FPE
    handlers.
  * debian/patches/hurd-i386/git-symlink-eexist.diff: Fix gnulib testsuite.

  [ Adriano Rafael Gomes ]
  * Update Brazilian Portuguese debconf translation.  Closes: #1103446.

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: do not replace LIBC in debhelper.in files.
    This was used for lintian overrides, but it is not used anymore.  Closes:
    #1104099.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix elf/tst-audit10 test failure on x86 systems without AVX.  Closes:
      #1103303.
    - Fix pthread_getattr_np failure when executable stack tunable is set.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 17 May 2025 17:15:43 +0200

glibc (2.41-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-pthread_setcancel.diff: Fix tst-cond32.

  [ Atila KOÇ ]
  * Update Turkish debconf translation.  Closes: #1101162.

  [ Remus-Gabriel Chelu ]
  * Update Romanian debconf translation.  Closes: #1101814.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Build a FMA version of atanh, sinh and tanh functions using IFUNC on
      amd64.
    - Fix a crash on amd64 when disabling XSAVEC through the glibc.cpu.hwcaps
      tunable.
    - Extend glibc.rtld.execstack tunable to force executable stack.
    - Detect Intel Arrow Lake, Panther Lake, Clearwater Forest, and Diamond
      Rapids CPUs.
    - Handle unknown Intel processors with default tuning.
  * debhelper.in/libc.NEWS: add an entry to describe the executable stack
    change and provide workaround.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 13 Apr 2025 21:40:49 +0200

glibc (2.41-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/rules.d/build.mk: Fix missing library-path to get just-built
    libmachuser and libhurduser.
  * debian/patches/hurd-i386/git-rt-timedwait-realtime.diff: Fix aio_suspend
    delay.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 14 Mar 2025 23:56:28 +0100

glibc (2.41-5) unstable; urgency=medium

  [ Pedro Ribeiro ]
  * Update Portuguese translation.  Closes: #1100065.

  [ Bjarni Ingi Gislason ]
  * debian/local/manpages/gencat.1: editorial fixes.  Closes: #1100190.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix race condition between pthread_cancel() and pthread_setcanceltype()
      affecting PARI/GP.  Closes: #1099624.
  * debian/control.in/libc: add more conflicts against shared libraries with
    executable stack.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 14 Mar 2025 21:07:20 +0100

glibc (2.41-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: change breaks against postgresql-15-pllua to the
    fixed version available in apt.postgresql.org.  Closes: #1099197.
  * debian/control.in/libc: add more conflicts against shared libraries with
    executable stack.
  * debian/tests/upstream-testsuite: disable biarch testsuite for i386
    autopkgtest as the i386 debci runners are not powerful to run all the
    testsuites within the default timeout.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Remove an extra semicolon in math function declarations in
      bits/mathcalls.h.  Addresses: #1099232.
    - Move environ helper variables next to environ definition to help with
      statically interposing getenv.  Closes: #1099217.
  * debian/control.in/main: add conflicts against unscd.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-pthread_once.diff: Move pthread_once symbol
    to libc, to fix bison.
  * debian/patches/hurd-i386/git-pthread_sigmask_nothread.diff: Fix calling
    pthread_sigmask when no thread was created yet.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 09 Mar 2025 10:54:43 +0100

glibc (2.41-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debhelper.in/libc{,-dev}.lintian-overrides: drop libm related lintian
    overrides, as lintian does not provide a multiarch compatible way to
    provide overrides.  Closes: #1099166, #1099167.
  * debian/salsa-ci.yml: add unpack-message-for-deb-data to
    SALSA_CI_LINTIAN_SUPPRESS_TAGS due to the above.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 01 Mar 2025 15:24:08 +0100

glibc (2.41-2) sid; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/proc_reauth.diff: Mark as committed for 2.42.

  [ Aurelien Jarno ]
  * debian/debhelper.in/*.lintian-overrides, debian/source/lintian-overrides:
    update to limit the errors/warnings with recent lintian versions.
  * debian/salsa-ci.yml: add CI/CD pipeline configuration for salsa.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/m68k/local-dwarf2-buildfix.diff: drop, obsolete.
  * debian/patches/m68k/submitted-gcc34-seccomment.diff: drop, obsolete.
  * debian/patches/hppa/local-inlining.diff: drop, obsolete.
  * debian/control.in/libc: add breaks against dhcpcd (<< 1:10.1.0-7~), see
    #1096157.
  * debian/testsuite-xfail-debian.mk: mark math/test-float-log10 and
    math/test-float32-log10 as XFAIL on powerpc as requested by the porters.
  * debian/control.in/libc: add breaks against libraries with executable stack
    that can be dlopened().

  [ Camaleón ]
  * Update Spanish debconf translation.  Closes: #1098283.

  [ Paulo Henrique de Lima Santana ]
  * Update Brazilian Portuguese translation.  Closes: #1098500.

  [ Carles Pina i Estany ]
  * Update Catalan debconf translation.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 28 Feb 2025 18:57:42 +0100

glibc (2.41-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Add the sched_setattr and sched_getattr functions.  Closes: #870488.
    - Fix failure of pthread_cond_signal() to wake up pthread_cond_wait().
      Closes: #986724.
    - debian/copyright: update following upstream changes.
    - debian/symbols.wildcards: add 2.41.
    - debian/patches/git-updates.diff: update from upstream stable branch.
    - debian/patches/arm/git-hwcap2-constants.diff: upstreamed.
    - debian/patches/hurd-i386/git-fault-64bit.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_symbols.diff: upstreamed.
    - debian/patches/hurd-i386/git-tst-aligned-alloc-random-thread.diff:
      upstreamed.
    - debian/patches/hurd-i386/git-tst-aligned-alloc-random-thread-mcheck.diff:
      upstreamed.
    - debian/patches/hurd-i386/git-default_pager.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-MAP_NORESERVE.diff: upstreamed.
    - debian/patches/hurd-i386/git-signal-reply-port.diff: upstreamed.
    - debian/patches/hurd-i386/git-CMSG_DATA.diff: upstreamed.
    - debian/patches/hurd-i386/git-early-kill.diff: upstreamed.
    - debian/patches/hurd-i386/submitted-bind_umask2.diff: rebased.
    - debian/patches/hurd-i386/submitted-net.diff: rebased.
    - debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: rebased.
    - debian/patches/any/local-cudacc-float128.diff: dropped, obsolete.
    - debian/patches/any/git-iconv-*: upstreamed.
    - debian/patches/any/git-posix-fix-system-when-a-child-cannot-be*.patch:
      upstreamed.
  * debian/watch: rewrite pointing to git instead of release tarball (as we
    need to mangle it anyway).
  * debian/rules.d/tarball.mk: get rid of the now useless get-orig-source
    target.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: rebased.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 30 Jan 2025 23:14:50 +0100

glibc (2.40-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/libc0.3.symbols.hurd-*: Prepare removal of experimental
    exec_exec_file_name and file_exec_file_name.
  * debian/patches/hurd-i386/local-exec_filename.diff: Drop old experimental
    patch.
  * debian/patches/hurd-i386/git-mig-strncpy.diff: ensure destination string is
    null terminated.

  [ Aurelien Jarno ]
  * debian/libc0.1.symbols.common: remove leftover from kfreebsd removal.
  * debhelper.in/locales.NEWS: remove asterisks list to make lintian happier.
  * debian/copyright: fix issues reported by lintian.
  * debian/tests/rebuild: rename into upstream-testsuite and only run the
    build-arch-post-check target instead of the full build.
  * debian/tests/control.in: update accordingly and drop fakeroot from the
    depends.
  * debian/rules.d/build.mk: display the failures again in the
    build-arch-post-check target, useful for debci which drop the middle of
    the autopkgtest log.

  [ Frans Spiesschaert ]
  * Update Dutch debconf translation.  Closes: #1094154.

  [ Bjarni Ingi Gislason ]
  * debian/local/manpages/locale.gen.5: editorial fixes.  Closes: #1095789.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 15 Feb 2025 11:20:09 +0100

glibc (2.40-6) unstable; urgency=medium

  [ Ian Jackson ]
  * debian/local/manpages/getconf.1: Mention `sysconf', mostly for the benefit
    of search.  Closes: #942866.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update for upcoming 2.41.
  * debian/testsuite-xfail-debian.mk: Update against make 4.4.
  * debian/patches/hurd-i386/git-CMSG_DATA.diff: Fix CMSG_DATA macro.
  * control: On hurd-amd64, break openssh before rebuild against this.
  * debian/patches/hurd-i386/git-early-kill.diff: Fix early kill.

  [ Helge Kreutzmann ]
  * Update German debconf translation.  Closes: #1092303.

  [ Aurelien Jarno ]
  * debian/control.in/arm{el,hf}, debian/sysdeps/arm{el,hf}.mk: drop disabled
    code for armel/armhf multilib. It has never been used in Debian and is
    also disabled in Ubuntu.
  * debian/control.in/*: mirror existing Conflicts: of libc6 multilib packages
    to libc6-dev multilib packages.  Closes: #1092278.
  * debian/rules: update copyright header with all the previous maintainers.
  * debian/copyright: rewrite in Machine-readable format.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes a buffer overflow when printing assertion failure message
      (GLIBC-SA-2025-0001 / CVE-2025-0395.

  [ Luca Boccassi ]
  * debian/control.in/libc: Fix breaks against sysvinit (source package) to
    target sysvinit-core instead (binary package).

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 22 Jan 2025 23:57:51 +0100

glibc (2.40-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-MAP_NORESERVE.diff: Add MAP_NORESERVE flag.
  * debian/patches/hurd-i386/git-signal-reply-port.diff: Fix hurd build
    against gcc 14.

  [ Bjarni Ingi Gislason ]
  * debian/local/manpages/update-locale.8: fix issues reported by troff.
    Closes: #1088003.

  [ Aurelien Jarno ]
  * debian/patches/any/git-iconv-do-not-report-*.patch: backport iconv return
    code with transliteration fix from upstream.  Closes: #1087670.
  * debian/debhelper.in/locales.templates: add a note to clarify that the C,
    C.UTF-8 and POSIX locales do not need to be generated.  Closes: #1091473.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * patches/any/git-posix-fix-system-when-a-child-cannot-be-created-BZ-3.patch:
    backport patch from upstream to fix return value of system() when a child
    process cannot be created.  Closes: #1088964.
  * debian/rules.d/debhelper.mk: explicitly pass the library path to
    dh_shlibdeps for multilib packages, to fix a FTBFS with rebootstrap which
    does not install the g++-XX-multilib build-dependency.  Closes: #1088166.

  [ Carles Pina i Estany ]
  * Update Catalan debconf translation.  Closes: #1091705.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 03 Jan 2025 11:56:38 +0100

glibc (2.40-4) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd xfails.
  * debian/patches/hurd-i386/git-default_pager.h.diff: Ship
    mach/default_pager.h again.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix memory corruption with ancient i386 binaries using stdio. Closes:
      #1080244.
    - Fix FTBFS with gcc-14 on hppa.  Closes: #1084052.
    - Drop debian/patches/sparc/submitted-sparc-clone.diff (merged).
  * debian/patches/arm/git-hwcap2-constants.diff: backport for upstream to
    support HWCAP2 values on arm32.  Closes: #1086502.
  * debian/control: add Recommends: libc-dev (= ${binary:Version}) to
    libc-devtools.  Closes: #1087881.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 23 Nov 2024 14:57:03 +0100

glibc (2.40-3) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Avoid tests overflowing memory.
  * debian/testsuite-xfail-debian.mk: Update hurd xfails.

  [ Aurelien Jarno ]
  * debian/rules: build with gcc-14.
  * debian/control.in/main: adjust g++-for-host version on arm64 to ensure
    PAC/BTI support.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/any/git-iconv-*: backport iconv fixes and improvement from
    upstream master.  Closes: #328303, #1000652.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 24 Sep 2024 21:46:16 +0200

glibc (2.40-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/debhelper.in/libc-dev.install.hurd-amd64: Add missing libm-2.39.a.
  * debian/patches/hurd-i386/git-tst-aligned-alloc-random-thread{,-mcheck}.diff:
    Link threading tests with $(shared-thread-library).
  * debian/testsuite-xfail-debian.mk: Avoid tests overflowing memory.
  * debian/testsuite-xfail-debian.mk: Update hurd xfails.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 25 Aug 2024 20:16:17 +0200

glibc (2.40-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release.
    - debian/symbols.wildcards: add 2.40.
    - debian/patches/hurd-i386/git-context.diff: upstreamed.
    - debian/patches/hurd-i386/git-xattr.diff: upstreamed.
    - debian/patches/hurd-i386/git-proc_getchildren_rusage.diff: upstreamed.
    - debian/patches/hurd-i386/git-AT_NO_AUTOMOUNT.diff: upstreamed.
    - debian/patches/hurd-i386/git-intr-msg-clobber.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_self.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_self.2.diff: upstreamed.
    - debian/patches/hurd-i386/tg-sysvshm.diff: rebased.
    - debian/patches/hurd-i386/tg-sendmsg-SCM_CREDS.diff: rebased.
    - debian/patches/hurd-i386/local-exec_filename.diff: rebased.
    - debian/patches/all/local-remove-manual.diff: refreshed.
    - debian/patches/any/local-cross.patch: refreshed.
    - debian/patches/any/git-test-epoll.diff: upstreamed.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 22 Jul 2024 07:14:59 +0200

glibc (2.39-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-fault-64bit.diff: Fix receiving exceptions.
  * debian/patches/hurd-i386/{tg-sendmsg-SCM_CREDS.diff,tg-ifaddrs_v6.diff}:
    Fix build with gcc-14.
  * debian/sysdeps/hurd-amd64.mk: Enable mvec.
  * debian/libc0.3.symbols.hurd-amd64: Add symbols for libmvec.
  * debian/patches/hurd-i386/git-pthread_symbols.diff: Fix missing symbols.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix build with libaudit 4.0.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 14 Aug 2024 16:06:39 +0200

glibc (2.39-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes elf/check-localplt test on power* with recent binutils.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 23 Jul 2024 19:09:58 +0200

glibc (2.39-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-pthread_self{,.2}.diff: Fix pthread_self()
    without libpthread.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes stdlib/tst-swapcontext2 test on hppa.  Closes: #1076512.
  * debian/rules.d/tarball.mk: remove useless code.
  * debian/sysdeps/arm64.mk: compile with -mbranch-protection=standard on
    arm64 to enable PAC/BTI support.  Closes: #1063515.
  * debian/control.in/main: build-depends on g++13-for-host (>= 13.3.0-3) on
    arm64 to ensure PAC/BTI support in GCC.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 22 Jul 2024 22:58:49 +0200

glibc (2.39-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/any/submitted-static-copysignf128.diff: upstreamed.
    - debian/patches/any/submitted-static-fmod-fmodf.diff: upstreamed.
    - debian/patches/any/submitted-static-frexpf128.diff: upstreamed.
    - debian/patches/any/submitted-static-isnanf128.diff: upstreamed.
    - debian/patches/any/submitted-static-modf128.diff: upstreamed.
    - debian/patches/any/submitted-static-exp10.diff: upstreamed.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update for upcoming 2.40.
  * debian/debhelper.in/libc-udeb.install.hurd-amd64: Fix missing libhurduser.
  * debian/debhelper.in/libc-udeb.install.hurd-i386: Fix missing libhurduser.
  * debian/patches/hurd-i386/git-intr-msg-clobber.diff: Fix restoring message to be retried.
  * debian/patches/hurd-i386/local-intr-msg-clobber.diff: Fix message-retry overwrite.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 15 Jul 2024 21:20:54 +0200

glibc (2.39-3.1) experimental; urgency=medium

  * Non-maintainer upload acked by Aurelien Jarno.
  * Same diff as the 2.38-12.1 upload to unstable.
  * Move all aliased files including the dynamic loader to /usr. (DEP17,
    Closes: #1061248)
    + Install a protective diversion for the dynamic loader to avoid accidental
      deletion (DEP17 P1 M8).
    + Manage the dynamic loader symlink via maintainer scripts and triggers
      in multilib packages to avoid interaction of Replaces and /usr-move.
    + Avoid a versioned dependency on base-files.
      - Continue managing toplevel multilib aliasing links for the time being.
      - Install protective diversions for aliasing symlinks that base-files
        would also install in case libc is upgraded first. (DEP17 P9 M4)

 -- Helmut Grohne <helmut@subdivi.de>  Thu, 06 Jun 2024 09:18:03 +0200

glibc (2.38-14) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.postinst: drop code to restart init systems.
    Closes: #1074607.
  * debian/control.in/libc: add breaks against systemd and sysvinit versions
    not using the libc-upgrade trigger.
  * debian/control.in/libc: add breaks against base-files version not
    providing /usr-merge aliasing symlinks.  Closes: #1074368.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 04 Jul 2024 21:53:20 +0200

glibc (2.38-13) unstable; urgency=medium

  * debian/debhelper.in/libc-udeb.install.hurd-amd64: Complete DEP17.
  * debian/debhelper.in/libc-udeb.install.hurd-i386: Complete DEP17.
  * debian/patches/hurd-i386/git-xattr.diff: Fix xattr corner cases.

 -- Samuel Thibault <sthibault@debian.org>  Mon, 10 Jun 2024 22:25:19 +0200

glibc (2.38-12.1) unstable; urgency=medium

  * Non-maintainer upload acked by Aurelien Jarno.
  * Move all aliased files including the dynamic loader to /usr. (DEP17,
    Closes: #1061248)
    + Install a protective diversion for the dynamic loader to avoid accidental
      deletion (DEP17 P1 M8).
    + Manage the dynamic loader symlink via maintainer scripts and triggers
      in multilib packages to avoid interaction of Replaces and /usr-move.
    + Avoid a versioned dependency on base-files.
      - Continue managing toplevel multilib aliasing links for the time being.
      - Install protective diversions for aliasing symlinks that base-files
        would also install in case libc is upgraded first. (DEP17 P9 M4)

 -- Helmut Grohne <helmut@subdivi.de>  Thu, 06 Jun 2024 09:18:03 +0200

glibc (2.39-3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/arm64/local-remove-aarch64-bits-math-vector-h.diff: drop,
    buggy packages should be fixed instead.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 01 Jun 2024 23:26:50 +0200

glibc (2.39-2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/any/submitted-static-exp10.diff: add proposed patch to fix
    missing exp10 math function in libm.a on i386 and m68k.
  * debian/control.in/libc, debian/rules.d/control.mk, debian/sysdeps/ia64.mk:
    remove support for ia64, it is not supported upstream anymore.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 May 2024 00:54:31 +0200

glibc (2.39-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release.
    - Add support for fchmodat with flags != 0, using the fchmodat2 syscall.
      Closes: #1041415.
    - debian/symbols.wildcard: add 2.39.
    - debian/patches/git-updates.diff: update from upstream stable branch.
    - debian/patches/localedata/sort-UTF8-first.diff: rebased.
    - debian/patches/localedata/locale-ku_TR.diff: rebased.
    - debian/patches/localedata/locale-en_DK.diff: rebased.
    - debian/patches/localedata/locale-zh_TW.diff: rebased.
    - debian/patches/localedata/submitted-es_MX-decimal_point.diff.
    - debian/patches/hurd-i386/git-realpath_NULL.diff: upstreamed.
    - debian/patches/hurd-i386/git-tst-realpath-toolong.diff: upstreamed.
    - debian/patches/hurd-i386/git-hidden_chk.diff: upstreamed.
    - debian/patches/hurd-i386/git-glob_dirent.diff: upstreamed.
    - debian/patches/hurd-i386/git-powerpc-longjmp.diff: upstreamed.
    - debian/patches/hurd-i386/git-jemalloc.diff: upstreamed.
    - debian/patches/hurd-i386/git-jemalloc2.diff: upstreamed.
    - debian/patches/hurd-i386/git-error_t.diff: upstreamed.
    - debian/patches/hurd-i386/git-tls_dtors.diff: upstreamed.
    - debian/patches/hurd-i386/git-main_stack.diff: upstreamed.
    - debian/patches/hurd-i386/git-ucontext.diff: upstreamed.
    - debian/patches/hurd-i386/git-clean_ports.diff: upstreamed.
    - debian/patches/hurd-i386/git-statfs_f_ffree.patch: upstreamed.
    - debian/patches/hurd-i386/git-send_interrupt.diff: upstreamed.
    - debian/patches/hurd-i386/git-exec-intr.diff: upstreamed.
    - debian/patches/hurd-i386/git-ioctls-bsd.diff: upstreamed.
    - debian/patches/hurd-i386/git-dtable_reauth.diff: upstreamed.
    - debian/patches/hurd-i386/git-64bit-abi.diff: upstreamed.
    - debian/patches/i386/unsubmitted-quiet-ldconfig.diff: rebased.
    - debian/patches/i386/local-setcontext-revert-eax-ecx-edx.patch: rebased.
    - debian/patches/riscv64/git-risc-v-add-support-for-dl_runtime_profile.diff:
      upstreamed.
    - debian/patches/all/local-remove-manual.diff: rebased.
    - debian/patches/any/git-c-utf-8-language.diff: upstreamed.
    - debian/patches/any/local-qsort-memory-corruption.patch: removed, obsolete.
  * debian/rules.d/tarball.mk: make tarball creation reproducible.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-no-bootstrap-fs-access.2.diff: Now useless.
  * debian/patches/hurd-i386/local-fix-nss.diff: Refresh.
  * debian/patches/hurd-i386/submitted-net.diff: Refresh.
  * debian/testsuite-xfail-debian.mk: Update hurd results.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 04 May 2024 00:35:25 +0200

glibc (2.38-12) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.postinst: do not try to call telinit if it is
    provided by systemd, it is just broken.  Closes: #1071462.
  * debian/debhelper.in/libc.postinst: test for $DPKG_ROOT first.
  * debian/debhelper.in/libc.postinst: emit libc-upgrade trigger on every
    upgrade and libc-major-upgrade on major glibc upgrade. This interface
    should be used by depending packages to restart themselves if needed.
  * debian/patches/git-updates.diff: update from upstream stable branch.

  [ Dominik Stadler ]
  * debian/local/usr_sbin/update-locale: improve error reporting in
   update-locale.  Closes: #1071084.

  [ Bjarni Ingi Gislason ]
  * debian/local/manpages/gencat.1: editorial fixes.  Closes: #1071549.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 01 Jun 2024 23:16:35 +0200

glibc (2.38-11) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: ignore a few math failures due to GCC
    13 on hppa.  Closes: #1070875.
  * debian/patches/any/submitted-static-*.diff: add proposed patches to fix
    various missing math function in libm.a.  Closes: #1070872.
  * debian/testsuite-xfail-debian.mk: mark tst-support_descriptors as XFAIL,
    due to sbuild bug #1070003.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 11 May 2024 23:17:18 +0200

glibc (2.38-10) unstable; urgency=medium

  * debian/control.in/main, debian/rules.d/control.mk: build-depends on
    g++$(DEB_GCC_VERSION)-for-host instead of listing cross-build-dependency
    per architecture. Also depends on g++$(DEB_GCC_VERSION)-multilib instead
    of hardcoding the version.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 10 May 2024 17:59:41 +0200

glibc (2.38-9) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules: build with gcc-13.
  * debian/tests/control: re-enable autopkgtest on arm64, the memory
    consumption should be lower with gcc-13.
  * debian/testsuite-xfail-debian.mk: remove now fixed riscv64 XFAILs.
  * debian/debhelper.in/libc-bin.{install,lintian-overrides}: move ldconfig to
    /usr/sbin.
  * debian/patches/git-updates.diff: update from upstream stable branch.

  [ M. Buecher ]
  * debian/local/usr_sbin/locale-gen: enhance to support referencing locales
    in /usr/local/share/i18n/locales through copy.  Closes: #1066887

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 10 May 2024 15:59:00 +0200

glibc (2.38-8) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/arm64/local-remove-aarch64-bits-math-vector-h.diff:
    temporarily remove aarch64 specific bits/math-vector.h file, so that the
    generic one is used instead. Addresses: #1070441, #1070443, #1070444,
    #1070446.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 06 May 2024 22:34:15 +0200

glibc (2.38-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-context.diff: Add hurd-amd64 version of
    *context.
  * debian/testsuite-xfail-debian.mk: Update hurd-amd64-specific xfails
    accordingly.
  * debian/patches/hurd-i386/local-no-bootstrap-fs-access.2.diff: Also update
    localplt.data on hurd-amd64.
  * debian/patches/hurd-i386/local-stack_chk_guard.diff: Also update
    ld.abilist on hurd-amd64.
  * debian/patches/hurd-i386/local-exec_filename.diff: Also update
    libc.abilist on hurd-amd64.
  * debian/patches/hurd-i386/local-usr.diff: Also update libc.abilist on
    hurd-amd64.
  * debian/patches/hurd-i386/git-AT_NO_AUTOMOUNT.diff: Stop mapping
    AT_NO_AUTOMOUNT to O_NOTRANS.

  [ Aurelien Jarno ]
  * debian/patches/any/git-test-epoll.diff: improve test-epoll robustness
    improvements from upstream, useful when running the testsuite on
    overloaded hosts.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix utmp handling in 32-bit programs when using -D_TIME_BITS=64.
      Closes: #1042562.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 03 May 2024 21:55:28 +0200

glibc (2.38-6) experimental; urgency=medium

  * Merge from unstable.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 30 Jan 2024 19:28:04 +0100

glibc (2.38-5) experimental; urgency=medium

  [ Flavio Cruz ]
  * debian/patches/hurd-i386/git-64bit-abi.diff: Finalize hurd-amd64 ABI.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/riscv64/git-risc-v-add-support-for-dl_runtime_profile.diff:
    backport upstream support for profile/audit PLT setup on RISC-V.
  * debian/testsuite-xfail-debian.mk: drop tst-sprof-basic XFAIL from riscv64,
    now that dl_profile is supported.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 30 Dec 2023 12:18:33 +0100

glibc (2.38-4) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix oversized __io_vtables in libio.  Closes: #1050371.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-ucontext.diff: Fix spurious ucontext content.
  * debian/debhelper.in/libc-udeb.install.hurd-amd64: Don't try to ship
    libutil.so in libc0.3-udeb.

  [ Flavio Cruz ]
  * debian/patches/hurd-i386/git-clean_ports.diff: Handle message iteration
    correctly.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Dec 2023 17:05:48 +0100

glibc (2.38-3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 08 Sep 2023 22:58:54 +0200

glibc (2.38-2) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-powerpc-longjmp.diff: Fix build after chk
    hidden builtin fix.
  * debian/libc0.3.symbols.hurd-amd64: Fix symbols for hurd-amd64.
  * debian/testsuite-xfail-debian.mk: Add hurd-amd64-specific xfails.

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: pass --enable-bind-now to configure.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 24 Aug 2023 23:41:23 +0200

glibc (2.38-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release.
    - debian/symbols.wildcard: add 2.38.
    - debian/patches/hurd-i386/git-intr-msg-cfa.diff: upstreamed.
    - debian/patches/hurd-i386/git-intr-msg-stack.diff: upstreamed.
    - debian/patches/hurd-i386/git-exception-long.diff: upstreamed.
    - debian/patches/hurd-i386/git-ctty.diff: upstreamed.
    - debian/patches/hurd-i386/git-tst-system.diff: upstreamed.
    - debian/patches/hurd-i386/git-task_info_count.diff: upstreamed.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: dropped obsolete
      part and rebased.
    - debian/patches/hurd-i386/tg-hooks.diff: disabled.
    - debian/patches/i386/unsubmitted-quiet-ldconfig.diff: rebased.
    - debian/patches/any/local-ldconfig-multiarch.diff: rebased.
    - debian/sysdeps/arm64.mk, debian/libc6.symbols.arm64: enable mathvec on
      arm64.
  * debian/rules.d/build.mk: pass --enable-fortify-source to configure.
  * debian/testsuite-xfail-debian.mk: XFAIL tst-sprof-basic on mips* and
    riscv64 as dl_profile is not supported on those architectures.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-net.diff: Refresh.
  * debian/patches/hurd-i386/unsubmitted-prof-eintr.diff: Refresh.
  * debian/testsuite-xfail-debian.mk: Update hurd xfails.
  * debian/patches/hurd-i386/git-realpath_NULL.diff: Fix realpath(NULL, ...)
  * debian/patches/hurd-i386/git-tst-realpath-toolong.diff: Fix
    tst-realpath-toolong.
  * debian/patches/hurd-i386/git-hidden_chk.diff: Fix spurious PLTs.
  * debian/patches/hurd-i386/git-glob_dirent.diff: Fix strcpys in tests.
  * debian/libc0.3.symbols.hurd-i386: Update symbols.

  * Add hurd-amd64 support:
    - debian/control.in/libc: Add hurd-amd64 cases.
    - debian/debian/control.in/main: Add hurd-amd64 cases.
    - debian/debhelper.in/libc-dev.install.hurd-amd64: Add.
    - debian/debhelper.in/libc-udeb.install.hurd-amd64: Add.
    - debian/glibc-source.filelist: Add hurd-amd64.
    - debian/libc0.3.symbols.hurd-amd64: Add.
    - debian/patches/series.hurd-amd64: Symlink to series.hurd-i386.
    - debian/rules.d/control.mk: Add hurd-amd64 case.
    - debian/sysdeps/hurd-amd64.mk: Add.
    - debian/testsuite-xfail-debian.mk: Use hurd-i386 xfails for hurd-amd64 too.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 04 Aug 2023 12:50:01 +0200

glibc (2.37-19) unstable; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a stack-based buffer overflow in nscd netgroup cache
      (CVE-2024-33599).
    - Fix a null pointer dereferences in nscd after failed netgroup cache
      insertion (CVE-2024-33600).
    - Fix a DoS in nscd in case of memory allocation failure (CVE-2024-33601).
    - Fix a memory corruption in nscd when the underlying NSS callback
      function does not use the buffer space to store all strings
      (CVE-2024-33602).

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 27 Apr 2024 23:59:01 +0200

glibc (2.37-18) unstable; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix out-of-bound writes when writing escape sequence in iconv
      ISO-2022-CN-EXT module (CVE-2024-2961).  Closes: #1069191.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 19 Apr 2024 07:10:32 +0200

glibc (2.37-17) unstable; urgency=medium

  * debian/debhelper.in/locales.config: revert to the version that has been
    working for 20+ years.  Closes: #1068737.
  * debian/debhelper.in/locales.config: define LEGACY_EE and use $EE and
    $LEGACY_EE to refer the the locales config files, as done in the postinst.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 10 Apr 2024 23:43:53 +0200

glibc (2.37-16) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-AF_ROUTE.diff: Also comment out
    PF_ROUTE/AF_ROUTE.
  * debian/patches/hurd-i386/git-proc_getchildren_rusage.diff: Implement
    RUSAGE_CHILDREN, should fix the grep testsuite.

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: present glibc with a compiler that does not
    default to -D_FILE_OFFSET_BITS=64 -D_TIME_BITS=64, as upstream doesn't
    support this configuration. This has the consequence of hiding real issues
    found by the testsuite, but there is a consensus that this is the way to
    go for now. Thanks to Helmut Grohne for the hint and starting the
    discussion.  Closes: #1068251.
  * debian/debhelper.in/glibc-doc.{links,manpages},
    debian/local/manpages/pthread_*: drop the man pages for libpthread
    functions, as they are now included in manpages-dev.  Closes: #1068188.
  * debian/control.in/main: update glibc-doc description following the removal
    of the pthread manpages.
  * debian/control.in/main: downgrade the Recommends from libc-dev-bin to
    libc-devtools to a Suggests.  Closes: #1067909.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/sparc/submitted-sparc-clone.diff: pull patch from the
    upstream BTS to workaround issues with the clone syscall on sparc.
    Closes: #1063937.

  [ Johannes Schauer Marin Rodrigues]
  * debian/debhelper.in/libc.preinst: skip kernel check in chrootless mode.
    Closes: #1063624.

  [ Steve Langasek ]
  * Drop transitional dependency from libc6-dev to libnsl-dev.

  [ Gioele Barabucci ]
  * debian/debhelper.in/locales.config: Extract default environment LANG using
    only sed.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 10 Apr 2024 00:15:44 +0200

glibc (2.37-15) unstable; urgency=critical

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a heap buffer overflow in __vsyslog_internal (CVE-2023-6246).
    - Fix an off-by-one heap buffer overflow in __vsyslog_internal
      (CVE-2023-6779).
    - Fix an integer overflow in __vsyslog_internal (CVE-2023-6780).
  * debian/patches/any/local-qsort-memory-corruption.patch: Fix a memory
    corruption in qsort() when using nontransitive comparison functions.
  * Set urgency to critical given the security issues.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 30 Jan 2024 19:20:04 +0100

glibc (2.37-14) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/locales.config: always ask for the default locale,
    even if none are generated. This enables choosing C.UTF-8 as the default
    locale.  Closes: #1060288.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/tests/control: disable autopkgtest on arm64, as the debci runners
    to do not have enough resources for some of the tests anymore.  Closes:
    #1060202.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 23 Jan 2024 07:13:18 +0100

glibc (2.37-13) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/control.mk: enable build on loong64.  Closes: #1053717.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/any/local-tcsetaddr.diff: fix a thinko in handling of
    CREAD, CSIZE, PARENB bits in tcsetaddr(). Thanks to Ian Abbott for the
    hint.  Closes: #1050290.
  * Update Swedish debconf translation, by Martin Bagge.  Closes: #1056957.
  * debian/local/manpages/getconf.1: fix issues reported py mandoc.  Closes:
    #1052267.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-statfs_f_ffree.patch: Add missing f_ffree
    conversion.
  * debian/patches/hurd-i386/git-send_interrupt.diff: Fix spurious send
    interrupts.
  * debian/patches/hurd-i386/git-exec-intr.diff: Fix "invalid destination"
    errors during ghc builds.
  * debian/patches/hurd-i386/git-ioctls-bsd.diff: Fix missing BSD macros after
    including termios.h then ioctl.h
  * debian/patches/hurd-i386/git-dtable_reauth.diff: Fix restarting
    reauth_dtable on signal.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Dec 2023 14:23:52 +0100

glibc (2.37-12) unstable; urgency=critical

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update xfails for hurd-i386.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a buffer overflow in the dynamic loader's processing of the
      GLIBC_TUNABLES environment variable (CVE-2023-4911).
  * Set urgency to critical given the security issue.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 03 Oct 2023 19:14:06 +0200

glibc (2.37-11) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update xfails for hurd-i386.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a memory leak in getaddrinfo introduced by fix for CVE-2023-4806
      (CVE-2023-5156).  Closes: #1053002.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 27 Sep 2023 20:50:25 +0200

glibc (2.37-10) unstable; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix use after free in getcanonname (CVE-2023-4806).

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 16 Sep 2023 11:12:43 +0200

glibc (2.37-9) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update xfails for hurd-i386.
  * debian/patches/hurd-i386/git-main_stack.diff: Avoid exposing the vm_region
    symbol.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a stack read overflow in getaddrinfo in no-aaaa mode
      (CVE-2023-4527).  Closes: #1051958.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 15 Sep 2023 07:33:43 +0200

glibc (2.37-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/libc0.3.symbols.hurd-i386: Update symbols.
  * debian/patches/hurd-i386/git-jemalloc.diff: Add support for static TSD
    data.
  * debian/patches/hurd-i386/git-jemalloc2.diff: Initialize ___pthread_self
    early.
  * debian/patches/hurd-i386/git-error_t.diff: Make error_t an int on C++.
  * debian/patches/hurd-i386/git-tls_dtors.diff: Fix TLS destructors.
  * debian/patches/hurd-i386/git-main_stack.diff: Fix stack information for main
    thread.

  [ Aurelien Jarno ]
  * debian/patches/local-disable-tst-bz29951.diff: removed, obsolete.
  * debian/patches/any/git-c-utf-8-language.diff: backport support from
    upstream to treat C.<encoding> locale like C locale.  Closes: #874160.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix the value of F_GETLK/F_SETLK/F_SETLKW with __USE_FILE_OFFSET64 on
      ppc64el.  Closes: #1050592.
    - debian/patches/hurd-i386/git-exception-long.diff: upstreamed.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 08 Sep 2023 20:39:29 +0200

glibc (2.37-7) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: fix XFAIL for stdlib/isomac on sparc64.
  * debian/patches/hurd-i386/unsubmitted-getaux_at_secure.diff: rebase.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update for 2.38.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 04 Aug 2023 11:55:58 +0200

glibc (2.37-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/control.in/libc, debian/control.in/main: removed Breaks already
    satisfied in oldstable (bullseye).
  * debian/debhelper.in/locales.config: stop reading /etc/environment, it has
    been deprecated for 15+ years.
  * debian/sysdeps/sparc64.mk: run the testsuite for 32-bit builds on sparc64
    again.
  * debian/testsuite-xfail-debian.mk: mark the following tests as XFAIL on
    sparc64 (Closes: #1040817):
    - elf/tst-rtld-run-static
    - nptl/tst-cancel24-static
    - socket/tst-socket-timestamp
    - stdlib/isomac
  * debian/testsuite-xfail-debian.mk: remove some tests from XFAIL on s390x.
  * debian/testsuite-xfail-debian.mk: remove some tests from XFAIL on i386.
  * debian/testsuite-xfail-debian.mk: remove some tests from XFAIL on riscv64.
  * Remove kfreebsd-amd64 and kfreebsd-i386 leftovers.  Closes: #979160.

  [ Luca Boccassi ]
  * Switch from /etc/default/locale to /etc/locale.conf.  Closes: #1038798.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 14 Jul 2023 17:04:23 +0200

glibc (2.37-5) unstable; urgency=medium

  * debian/local/usr_sbin/locale-gen: revert parallelisation code as running
    multiple instance of localedef in parallel corrupts locale-archive.
    Closes: #1040452.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 07 Jul 2023 23:38:18 +0200

glibc (2.37-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/main: drop obsolete dependency on lsb-base (>= 3.0-6)
    from nscd.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix realloc causing high virtual memory usage.  Closes: #1040140.
  * debian/sysdeps/sparc64.mk: do not run testsuite for 32-bit builds on
    sparc64.  Closes: #1040462.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 06 Jul 2023 19:33:24 +0200

glibc (2.37-3) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-intr-msg-stack.diff: Fix potential crash when
    signals or cancellation happens while pushing mach_msg args.
  * debian/patches/hurd-i386/git-exception-long.diff: Fix hurd build against
    newer gnumach.
  * debian/patches/hurd-i386/git-ctty.diff: Fix background processes reading
    input.
  * debian/libc0.3.symbols.hurd-i386: Refresh against newer gnumach.
  * debian/testsuite-xfail-debian.mk: Drop Hurd XPASS.
  * debian/testsuite-xfail-debian.mk: Update hurd results.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 01 Jul 2023 14:10:37 +0200

glibc (2.37-2) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-task_info_count.diff: Fix passing size to
    task_info.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix FTBFS on hppa.
  * debian/sysdeps/alpha.mk, debian/control.in/main: build-depends on g++-12
    (>= 12.3.0-2) on alpha instead of forcing -mcpu=ev56.

  [ Andrej Shadura ]
  * debian/po/sk.po: Fix typos in the Slovak translation.

  [ Helmut Grohne ]
  * debian/rules.d/build.mk: disable -Werror when dpkg-builflags contains
    -Wno-error.

  [ наб ]
  * debian/local/usr_sbin/locale-gen: parallelise locales generation if
    possible.  Closes: #1037198.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 17 Jun 2023 11:10:20 +0200

glibc (2.37-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Fix GL(dl_phdr) and GL(dl_phnum) for static builds.  Closes: #1028200.
    - debian/symbols.wildcard: add 2.36 and GLIBC_ABI_DT_RELR.
    - debian/patches/localedata/locales-fr.diff: rebased.
    - debian/patches/alpha/local-string-functions.diff: rebased.
    - debian/patches/arm/git-atomic-compiler-builtins.diff: upstreamed.
    - debian/patches/hurd-i386/git-htl-pthread-self-early.diff: upstreamed.
    - debian/patches/hurd-i386/git-static-pie.diff: upstreamed.
    - debian/patches/hurd-i386/git-ipv6.diff: upstreamed.
    - debian/patches/hurd-i386/git-ip_mreqn.diff: upstreamed.
    - debian/patches/hurd-i386/git-bootstrap-enable_secure.diff: upstreamed.
    - debian/patches/hurd-i386/git-cond-destroy.diff: upstreamed.
    - debian/patches/hurd-i386/git-strerror_X.diff: upstreamed.
    - debian/patches/hurd-i386/git-xpg_strerror.diff: upstreamed.
    - debian/patches/hurd-i386/git-readlink-fifo.diff: upstreamed.
    - debian/patches/hurd-i386/git-net-route.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-SOMAXCONN.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigtimedwait.diff: upstreamed.
    - debian/patches/hurd-i386/git-getrandom-chroot.diff: upstreamed.
    - debian/patches/hurd-i386/git-mach-headers-freestanding.diff: upstreamed.
    - debian/patches/hurd-i386/git-sem_wait_race.diff: upstreamed.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: rebased.
    - debian/patches/any/local-ldso-disable-hwcap.diff: removed, obsolete.
    - debian/patches/any/local-ldconfig-multiarch.diff: rebased.
    - debian/patches/any/git-floatn-gcc-13-support.diff: upstreamed.
    - debian/patches/hurd-i386/submitted-net.diff: rebased.
    - debian/patches/hurd-i386/local-no-bootstrap-fs-access.diff: removed,
      obsolete.
  * Stop building libc6.1-alphaev67 package, as support for legacy hwcaps has
    been removed upstream:
    - debian/control.in/libc: add a conflicts against libc6.1-alphaev67 on
      alpha.
    - debian/control.in/opt: remove libc6.1-alphaev67 entry.
    - debian/patches/alpha/local-string-functions.diff: remove, obsolete.
    - debian/rules: drop DEBUG_libc6.1-alphaev67.
    - debian/script.in/nohwcap.sh: drop code to support libc6.1-alphaev67.
    debian/testsuite-xfail-debian.mk: simplify alpha condition.
  * Drop support for optimized packages from the packaging (Closes: #806912):
    - debian/control.in/opt: removed.
    - debian/rules.d/control.mk: drop support for including control.in/opt.
    - debian/script.in/nohwcap.sh: removed.
    - debian/rules.d/debhelper.mk: dropped code to include nohwcap.sh.
    - debian/debhelper.in/libc.postinst: removed call to nohwcap code.
    - debian/debhelper.in/libc.preinst: remove code creating
      /etc/ld.so.nohwcap.
    - debian/debhelper.in/glibc-source.lintian-overrides: removed otherbuild
      entries.
    - debian/debhelper.in/libc-otherbuild.*: removed.
  * debian/sysdeps/alpha.mk: temporarily build for EV56 until the baseline is
    raised at the GCC level.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-tst-system.diff: Fix tst-system link.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 16 May 2023 21:17:22 +0200

glibc (2.36-9) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/po/it.po: Update Italian debconf translation, by Luca Monducci.
    Closes: #1028133.
  * debian/po/tr.po: Update Turkish debconf translation, by Atila KOÇ.
    Closes: #1028306.
  * debian/po/cs.po: Update Czech debconf translation, by Miroslav Kure.
    Closes: #1028326.
  * debian/po/zh_CN.po: Update Chinese debconf translation, by Tianyu Chen.
  * debian/po/pt.po: Update Portugues debconf translation, by Pedro Ribeiro.
    Closes: #1028353.
  * debian/po/sk.po: Fix invalid control sequence in Slovak translation.
  * debian/po/pt_BR.po: Update Brazilian Portuguese debconf translation, by
    Adriano Rafael Gomes. Closes: #1029005.
  * debian/po/nl.po: Update Dutch debconf translation, by Frans Spiesschaert.
    Closes: #1029018, #1033905.
  * debian/po/ro.po: Update Romanian debconf translation, by Remus-Gabriel
    Chelu. Closes: #1031163.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Prevent SIGSEGV in the SSE2 version of memcmp when data is concurrently
      modified. Closes: #1033931.
    - Fix a corner case in daylight computation affecting the Africa/Tripoli
      zone since tzdata 2022g.
    - Fix elf/tst-tlsopt-powerpc failure when compiled with -mcpu=power10.
  * patches/any/local-disable-tst-bz29951.diff: disable new test included in
    the latest update from upstream stable branch, as git-updates.diff can't
    include the corresponding binary test file.

  [ Samuel Thibault ]
  * debian/sysdeps/hurd.mk: Add -fno-omit-frame-pointer to extra_cflags.
  * debian/testsuite-xfail-debian.mk: Update hurd results.
  * debian/patches/hurd-i386/git-intr-msg-cfa.diff: Fix stack unwinding over
    _hurd_intr_rpc_mach_msg, for go runtime.
  * debian/libc0.3.symbols.hurd-i386: Update symbols with new RPCs.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 10 Apr 2023 10:35:16 +0200

glibc (2.36-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-sem_wait_race.diff: Fix sem_wait race.

  [ Aurelien Jarno ]
  * debian/po/de.po: update German debconf templates translation, by Helge
    Kreutzmann. Closes: #1027782.
  * debian/local/manpages/po/*: update with debconf-updatepo.
  * debian/po/ko.po: update Korean debconf templates translation, by Changwoo
    Ryu.  Closes: #1027986.
  * debian/po/es.po: update Spanish debconf templates translation, by
    Camaleón.
  * debian/po/sk.po: update Slovak debconf templates translation, by Marek
    Sýkora.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/control.in/main: bump Standards-Version to 4.6.2 (no changes).

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 07 Jan 2023 12:29:49 +0100

glibc (2.36-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/debhelper.in/libc.templates (glibc/kernel-too-old),
    debian/debhelper.in/libc.preinst: Note that upgrading a kernel also means
    rebooting it. Also, the libc package is usually in an odd state at that
    point and apt -f install needs to be used.
  * debian/patches/hurd-i386/git-getrandom-chroot.diff: Fix calling getrandom
    inside a minimal chroot. Fixes openssh-server >= 1:9.1.
  * debian/patches/hurd-i386/local-static_pthread_setcancelstate.diff: Fix
    ldconfig crashing on libxeddsa2.
  * debian/testsuite-xfail-debian.mk: Update hurd results.

  [ Flavio Cruz ]
  * debian/patches/hurd-i386/git-mach-headers-freestanding.diff: Force use of
    -ffreestanding when checking for gnumach headers.

  [ Aurelien Jarno ]
  * debian/glibc-source.filelist: update following recent changes.
  * debian/patches/any/git-floatn-gcc-13-support.diff: backport FloatN support
    for GCC 13 from upstream.  Closes: #1022166.
  * Update Spanish debconf translation, by Camaleón.  Closes: #1026786.
  * debian/debhelper.in/locales-all.NEWS: drop to make lintian happy, as it
    only contains a very old entry.
  * debian/local/manpages/locale.gen.5, debian/local/manpages/update-locale.8:
    fix issues reported by the manpage-l10n project.  Closes: #1026321.

  [ Helmut Grohne ]
  * Use conjunction for libgd-dev profiles.
  * Annotate B-D libcap-dev with stage2 profile.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 25 Dec 2022 19:42:32 +0100

glibc (2.36-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc-udeb.install: stop installing (now empty)
    libutil.so.1, it is not used by any of the udeb in testing/sid.
  * debian/rules.d/build.mk: ensure that an empty libanl.a is shipped even on
    newly added upstream architectures.
  * debian/patches/git-updates.diff: update from upstream stable branch.

  [ Dandan Zhang ]
  * debian/sysdeps/loong64.mk: add support for loong64 architecture.  Closes:
    #1024130.

  [ Helmut Grohne ]
  * Declare packages skipped by noudeb build profile.  Closes: #1024940.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 28 Nov 2022 22:26:50 +0100

glibc (2.36-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-sigtimedwait.diff: Add support for
    sigtimedwait and sigwaitinfo.
  * debian/testsuite-xfail-debian.mk: Update accordingly.

  [ Aurelien Jarno ]
  * debian/sysdeps/sh{3,4}.mk: build with --disable-default-pie.  Closes:
    #1023554.
  * debian/control.in/main: bump binutils build-depends to 2.38.
  * debian/control.in/libc: add a Breaks against binutils (<< 2.38).  Closes:
    #1023661.
  * debian/control.in/libc: add a Breaks against check (<< 0.15.2-2+b1) on
    s390x.  Addresses: #1023531.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 12 Nov 2022 14:23:05 +0100

glibc (2.36-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix y2038 support in fstatat on mips64el.  Closes: #1022991.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 02 Nov 2022 19:43:41 +0100

glibc (2.36-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Upload to unstable.
  * debian/testsuite-xfail-debian.mk: XFAIL malloc/tst-scratch_buffer on hppa.
    Closes: #1022771.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 Nov 2022 12:41:15 +0100

glibc (2.36-2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/control.in/main, debian/rules.d/control.mk, debian/rules: build
    with GCC 12.
  * debian/sysdeps/{amd64,i386,x32}.mk: explicitly pass -Wl,--hash-style=both
    to the compiler to workaround the debian toolchain that deviates from the
    Generic System V Application Binary and breaks the Easy Anti-Cheat system.
    Addresses: #1019535.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 25 Oct 2022 07:27:10 +0200

glibc (2.36-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Support for DT_RELR relative relocation format has been added.  Closes:
      #996598.
    - The Linux kernel version check has been removed.  Closes: #781715, #1004577.
    - debian/symbols.wildcard: add 2.36 and GLIBC_ABI_DT_RELR.
    - debian/patches/localedata/sort-UTF8-first.diff: rebased.
    - debian/patches/localedata/supported.diff: rebased.
    - debian/patches/arm/unsubmitted-ldso-multilib.diff: rebased.
    - debian/patches/hurd-i386/git-spawni-reauth.diff: upstreamed.
    - debian/patches/hurd-i386/pthread_key.diff: upstreamed.
    - debian/patches/kfreebsd/submitted-waitid.diff: dropped. kfreebsd
      specific changes moved to debian/patches/kfreebsd/local-sysdeps.diff.
    - debian/patches/kfreebsd/local-config_h_in.patch: rebased.
    - debian/patches/kfreebsd/local-getaddrinfo-freebsd-kernel.diff: rebased.
    - debian/patches/all/local-remove-manual.diff: rebased.
    - debian/patches/any/local-ldso-disable-hwcap.diff: rebased.
    - debian/patches/any/unsubmitted-ldso-machine-mismatch.diff: rebased.
    - debian/patches/any/submitted-resolv-unaligned.diff: upstreamed.
    - debian/patches/hurd-i386/local-fix-nss.diff: rebased.
    - debian/patches/hurd-i386/local-no-bootstrap-fs-access.2.diff: rebased.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests results for hurd-i386.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 22 Sep 2022 22:23:11 +0200

glibc (2.35-4) unstable; urgency=medium

  [ Luca Boccassi ]
  * debian/debhelper.in/libc.preinst: libc6: create merged-usr symlinks via
    preinst script.

  [ Aurelien Jarno ]
  * debhelper.in/libc-bin.install, debhelper.in/libc-bin.lintian-overrides,
    rules.d/build.mk, rules.d/debhelper.mk: install a /var/cache/ldconfig into
    the libc-bin package.  Closes: #1021577.
  * debian/debhelper.in/libc-bin.lintian-overrides: add an override for the
    ld.so manpage, provided by the manpages package.

  [ Samuel Thibault ]
  * debian/control.in/libc: Break gnumach versions which don't have the FPU
    context switch fix, to try to improve upgrading from 2021.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 25 Oct 2022 07:23:17 +0200

glibc (2.35-3) unstable; urgency=medium

  * debian/patches/arm/git-atomic-compiler-builtins.diff: backport an
    upstream patch switching the arm32 atomics to GCC atomic builtins.
    This fixes the flaky nptl/tst-rwlock9.  Partially addresses:
    #1020500.
  * debian/control.in/libc: add back the Breaks: on heimdal-multidev
    (<= 7.7.0+dfsg-4) to libc6-dev, now that the glibc 2.34 transition
    is finished and that the package has transitioned to testing. It has
    been temporarily removed in version 2.34-2.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - nscd: do not use stale values when a request needs to be resent.
      Closes: #1020943, #1021455.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 09 Oct 2022 10:54:21 +0200

glibc (2.35-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-SOMAXCONN.diff: Bump SOMAXCONN to 4096.
  * debian/debhelper.in/libc-udeb.install.hurd-i386: Allow installing
    /lib/ld.so, it's required on hurd-i386.

  [ Aurelien Jarno ]
  * debian/control.in/libc: add a Breaks against firefox (<< 91~) and
    firefox-esr (<< 91~) to ensure a seccomp filter compatible with glibc
    2.34.  Closes: #1020894.
  * debian/sysdeps/sparc64.mk: pass --disable-default-pie to configure.
    Closes: #1020974.
  * debian/rules.d/control.mk: add the arc architecture to the control file.
    Closes: #1021167.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix initialization of dp register.  Closes: #1020857.
    - Fix SIGILL on Haswell CPUs without BMI1/BMI2 instructions. Closes:
      #1019855.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 04 Oct 2022 07:07:58 +0200

glibc (2.35-1) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-strerror_X.diff: Fix tst-sprintf-errno test.
  * debian/patches/hurd-i386/git-readlink-fifo.diff: Fix readlink() on fifos.
  * debian/patches/hurd-i386/git-net-route.h.diff: Add ifrtreq structure and
    fix SIOCADD/DELRT ioctls.
  * debian/patches/hurd-i386/submitted-net.diff: Drop net/route.h part.

  [ Aurelien Jarno ]
  * debian/control.in/main: add a breaks against dh-lua (<< 27+nmu1~) to
    libc-bin. See #1017832.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/rules.d/build.mk: fix the pt_chown permissions after installation
    when running with Rules-Requires-Root=no (for non-Linux systems).
  * debian/control.in/main: set Rules-Requires-Root: no.
  * debian/debhelper.in/libc.preinst: only apply NSS workaround when upgrading
    from glibc < 2.34.
  * debian/patches/git-updates.diff: update from upstream stable branch.

  [ Luca Boccassi ]
  * debian/debhelper.in/libc-alt.preinst: libc6-<arch>: create merged-usr
    symlinks via preinst script.  Closes: #926699.

  [ Gioele Barabucci ]
  * debian/debhelper.in/libc.preinst: avoid using pidof.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 22 Sep 2022 22:02:00 +0200

glibc (2.35-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: add a breaks against valgrind (<< 1:3.19.0-1~).
    See #1017791.
  * debian/debhelper.in/libc-bin.install: install /usr/bin/ld.so.
  * debian/rules.d/build.mk: egrep -> grep -E.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests results for hurd-i386.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 11 Sep 2022 11:40:03 +0200

glibc (2.35-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: add a breaks against chrony (<< 4.2-3~). See
    #1017790.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests results for hurd-i386.
  * debian/patches/hurd-i386/git-static-pie.diff: Fix starting static binaries
    with stack protection enabled.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 25 Aug 2022 19:30:20 +0200

glibc (2.35-0experimental1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: use the new --with-timeoutfactor configure
    option.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 15 Aug 2022 15:40:01 +0200

glibc (2.35-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Fixes performance issues in dynamic loader.  Closes: #896008.
    - debian/symbols.wildcard: add 2.35.
    - debian/patches/localedata/locale-C.diff: upstreamed.
    - debian/patches/alpha/local-string-functions.diff: rebased.
    - debian/patches/hurd-i386/git-drop-rmh.diff: upstreamed.
    - debian/patches/hurd-i386/git-AT_NO_AUTOMOUNT.diff: upstreamed.
    - debian/patches/hurd-i386/git-get_errlist.diff: upstreamed.
    - debian/patches/hurd-i386/git-msync.diff: upstreamed.
    - debian/patches/hurd-i386/git-htl-init_sigset.diff: upstreamed.
    - debian/patches/hurd-i386/git-machrules-chk_fail.diff: upstreamed.
    - debian/patches/hurd-i386/git-random-getrandom.diff: upstreamed.
    - debian/patches/hurd-i386/git-lib-map.diff: upstreamed.
    - debian/patches/hurd-i386/git-large-text.diff: upstreamed.
    - debian/patches/hurd-i386/git-get_dtable.diff: upstreamed.
    - debian/patches/hurd-i386/git-auth-leak.diff: upstreamed.
    - debian/patches/hurd-i386/git-nuke_ports_on_exec.diff: upstreamed.
    - debian/patches/hurd-i386/git-ttydefaults.diff: upstreamed.
    - debian/patches/hurd-i386/git-const.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_kill_exited.diff: upstreamed.
    - debian/patches/hurd-i386/git-reply_bogus.diff: upstreamed.
    - debian/patches/hurd-i386/tg-EIEIO-fr.diff: upstreamed.
    - debian/patches/hurd-i386/tg-EGREGIOUS-fr.diff: upstreamed.
    - debian/patches/hurd-i386/local-tls-ie-align.diff: dropped, obsolete.
    - debian/patches/hurd-i386/git-thrd_current.diff: dropped, obsolete.
    - debian/patches/kfreebsd/submitted-auxv.diff: rebased.
    - debian/patches/mips/submitted-rld_map.diff: rebased.
    - debian/patches/all/submitted-po-fr-fixes.diff: upstreamed.
    - debian/patches/any/local-ldconfig-ignore-ld.so.diff: rebased.
    - debian/patches/any/git-localedef-check-magic.patch: upstreamed.
    - debian/debhelper.in/libc-bin.{install,manpages}: stop installing
      catchsegv, removed upstream.  Closes: #775716, #946606.
  * debian/sysdeps/{amd64,arm64,i386,x32}.mk: stop passing --enable-static-pie
    to configure as it is now the default.
  * debian/debhelper.in/libc-bin.install: install /usr/bin/ld.so in libc-bin.
  * debian/rules.d/build.mk: remove the C.utf8 locale from locales-all to
    avoid conflicts with the one in libc-bin. Unfortunately we can't use the
    one build in locales-all for libc-bin, as locales-all currently can't be
    cross-compiled.
  * debian/rules.d/debhelper.mk: do not offer C.UTF-8 in the list of locales
    that can be generated through the debconf template, as it is already
    provided by libc-bin.
  * debian/testsuite-xfail-debian.mk: add new math tests that are also
    affected by the Octeon 3 and XBurst tininess detection.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-fix-nss.diff: Refresh.
  * debian/patches/hurd-i386/submitted-net.diff: Refresh.
  * debian/patches/hurd-i386/tg-bits_atomic.h_multiple_threads.diff: Refresh.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 07 Aug 2022 22:25:02 +0200

glibc (2.34-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-strerror_X.diff: Fix strerror format.
  * debian/patches/hurd-i386/git-xpg_strerror.diff: Fix xpg_error behavior.
  * debian/patches/hurd-i386/git-thrd_current.diff: Fix calling thrd_current
    without libpthread.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 11 Sep 2022 00:05:13 +0200

glibc (2.34-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/debhelper.in/libc.install, debian/debhelper.in/libc-udeb.install:
    Allow installing /lib/ld.so, it's required on hurd-i386.

  [ Aurelien Jarno ]
  * debian/rules, debian/rules.d/build.mk, debian/rules.d/debhelper.mk: read
    ld.so and libc.so names from upstream generated soversions.mk instead of
    looking directly for generated binaries.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 27 Aug 2022 13:38:11 +0200

glibc (2.34-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: fix regular expression to remove static
    libraries in the stage1 build profile.  Closes: #1018071.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 25 Aug 2022 19:16:34 +0200

glibc (2.34-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * control: Bump hurd break: glibc now using getrandom() at process
    initialization makes random bootstrap more complex and the system startup
    hang if not done properly.
  * debian/patches/hurd-i386/local-no-bootstrap-fs-access.2.diff: Fix
    another access call which poses problem during bootstrap.
  * debian/patches/hurd-i386/git-bootstrap-enable_secure.diff: Fix spurious
    checks during initialization of processes running at bootstrap.
  * debian/testsuite-xfail-debian.mk: Filter out tests that stay stuck.
  * debian/patches/hurd-i386/git-global.diff: Fix elf/global missing
    dependency.
  * debian/patches/hurd-i386/git-loadfail.diff: Fix elf/loadfail missing
    dependency.
  * debian/patches/hurd-i386/git-cond-destroy.diff: Fix tst-cond20.
  * debian/debhelper.in/libc-udeb.install.hurd-i386: ship the dynamic linker in
    libc0.3-udeb.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes generic brk system call emulation in __brk_call.  Closes:
      #1017113.
  * debian/debhelper.in/libc-dev.NEWS: fix a typo.
  * debian/control.in/libc: drop duplicate breaks entry.
  * debian/patches/*: fix typos in patch description.
  * debian/rules: drop trailing whitespaces.
  * debian/debhelper.in/glibc-source.lintian-overrides: drop unused overrides.
  * debian/debhelper.in/libc-bin.lintian-overrides: drop unused overrides.
  * debian/source/lintian-overrides: drop unused overrides.
  * debian/debhelper.in/libc-devtools.lintian-overrides: rename overrides
    following lintian changes.
  * debian/debhelper.in/libc{,-otherbuild].lintian-overrides: rename overrides
    following lintian changes.
  * debian/*: use /usr/share/dpkg/pkg-info.mk instead of parsing changelog
    with dpkg-parsechangelog.
  * debian/rules.d/build.mk, debian/rules.d/debhelper.mk: update NPTL pretty
    printer path following the merge of libpthread into libc.
  * debian/compat, debian/control.in/main, debian/rules.d/debhelper.mk:
    increase debhelper compat to 13, the declarative way, and replace calls to
    dh_systemd_enable and dh_systemd_start by dh_installsystemd.
  * debian/rules.d/build.mk, debian/rules.d/control.mk,
    debian/rules.d/debhelper.mk: remove support for armel/armhf biarch. It has
    never been used in Debian, and has stopped being used in Ubuntu.
  * debian/rules.d/debhelper.mk: stop removing comments from .install files.
  * debian/rules.d/debhelper.mk: stop cleaning nonexistent files.
  * debian/debhelper.in/*.install, debian/rules, debian/rules.d/debhelper.mk:
    use substitution variables from debhelper 13.
  * debian/rules, debian/rules.d/build.mk, debian/rules.d/debhelper.mk,
    debian/sysdeps/*.mk: install the main flavor into debian/tmp instead of
    debian/tmp-libc.
  * debian/debhelper.in/*.install*, debian/rules.d/debhelper.mk: simplify
    dh_install files by using the auto source/dest features of debhelper.
  * debian/debhelper.in/libc.lintian-overrides, debian/rules.d/debhelper.mk:
    drop package name for lintian overrides files.
  * debian/control.in/main: bump Standards-Version to 4.6.1 (no changes).

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 24 Aug 2022 23:19:48 +0200

glibc (2.34-4) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-ipv6.diff: Add ipv6 RFC options.
  * debian/patches/hurd-i386/git-ip_mreqn.diff: Move ip_mreqn structure from
    Linux to generic.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes mbstowcs attributes.  Closes: #1017367.
  * debian/debhelper.in/libc.{pre,post}: only set LC_ALL=C after loading
    debconf.  Closes: #1017406.

  [ наб ]
  * debian/local/manpages/locale-gen.8: rewrite.
  * debian/local/manpages/locale-gen.8.sgml: drop, replaced by above.
  * debian/local/usr_sbin/locale-gen: clean up and optimize.
  * debian/local/manpages/locale.alias.5: drop, unused.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 16 Aug 2022 23:35:10 +0200

glibc (2.34-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: make libc.so and ld.so executable also for
    libc6-udeb.  Closes: #1016868.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 08 Aug 2022 19:38:30 +0200

glibc (2.34-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/control.in/libc: provides libc-dev as versioned.
  * debian/control.in/libc: Add breaks in libc6-dev against catch (<=
    1.12.2-0.1).  See: #993515.
  * debian/rules.d/debhelper.mk: Do not exclude libc.so and ld.so from
    dh_fixperms, explicitly change the permissions afterwards.  Closes:
    #1010233.
  * debian/control.in/libc: temporary remove the breaks against
    heimdal-multidev to break the build-dependency loop between heimdal and
    openldap.
  * debian/debhelper.in/libc-udeb.install: ship the dynamic linker in
    libc6-udeb.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd-i386 xfails.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 08 Aug 2022 15:24:00 +0200

glibc (2.34-1) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-net.diff: Refresh.
  * debian/testsuite-xfail-debian.mk: Disable tst-pthread_cancel-select-loop
    which overflows pflocal.
  * debian/patches/hurd-i386/git-htl-pthread-self-early.diff: Fix calling
    pthread_self very early.  Closes: #1016106.

  [ Aurelien Jarno ]
  * debian/control.in/libc: Update breaks against libnetcdf-dev.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/control.in/libc: Add breaks in libc6-dev against dev packages that
    provide static libraries using __res_* symbols that have been moved from
    libresolv.a to libc.a:
    - heimdal-multidev (<= 7.7.0+dfsg-4)
    - igblast (<= 1.19.0-1)
    - libasyncns-dev (<= 0.8-6+b2)
    - libatm1-dev (<= 1:2.5.1-4)
    - libaws20-dev (<= 20.2-2+b1)
    - libboinc-app-dev (<= 7.20.2+dfsg-1)
    - libcups2-dev (<= 2.4.2-1)
    - libdkim-dev (<= 1:1.0.21-4+b2)
    - libghc-resolv-dev (<= 0.1.2.0-3)
    - libghc-resolv-prof (<= 0.1.2.0-3)
    - libglib2.0-dev (<= 2.72.3-1)
    - libgloox-dev (<= 1.0.24-2+b1)
    - libhesiod-dev (<= 3.2.1-3.1+b1)
    - libinfinity-0.7-dev (<= 0.7.2-1+b1)
    - libldap-dev (<= 2.5.12+dfsg-2)
    - libloudmouth1-dev (<= 1.5.4-1)
    - libmongoc-dev (<= 1.22.1-1)
    - libmysqlclient-dev (<= 8.0.29-1)
    - libnfsidmap-dev (<= 1:2.6.1-2)
    - libola-dev (<= 0.10.8.nojsmin-2)
    - libopenafs-dev (<= 1.8.8.1-3)
    - libopendkim-dev (<= 2.11.0~beta2-7)
    - libopendmarc-dev (<= 1.4.2-1)
    - libopenzwave1.6-dev (<= 1.6.1914+ds-1)
    - libpg-query-dev (<= 13-2.1.2-2)
    - librbl-dev (<= 2.11.0~beta2-7)
    - libre-dev (<= 1.1.0-1+b1)
    - libshishi-dev (<= 1.0.2-11)
    - libslurm-dev (<= 21.08.8.2-1)
    - libsocksd0-dev (<= 1.4.2+dfsg-7+b4)
    - libspf2-dev (<= 1.2.10-7.1+b1)
    - libstrophe-dev (<= 0.12.1-2)
    - libtaningia-dev (<= 0.2.2-2+b1)
    - libvbr-dev (<= 2.11.0~beta2-7)
    - open-vm-tools-dev (<= 2:12.0.5-2)
    - pidgin-librvp (<= 0.9.7cvs-3)
    - proftpd-dev (<= 1.3.7d+dfsg-2)
    - slurm-wlm-basic-plugins-dev (<= 21.08.8.2-1)
  * debian/debhelper.in/libc-dev.NEWS: New file to explain how to update
    programs to use the TI-RPC library instead of the Sun RPC one.  Closes:
    #1014735.
  * debian/control.in/main: tighten build-dependency on g++-11 on riscv64 to
    get the fix for GCC PR95115.
  * debian/patches/riscv64/local-asin-acos-raise-invalid.diff: Drop now that
    GCC is fixed.
  * debian/debhelper.in/*.lintian-overrides: update lintian override once
    more, sigh.
  * debian/debhelper.in/libc-bin.install, debian/rules.d/build.mk,
    debian/rules: rename the C.UTF-8 locale into C.utf8 to match upstream
    naming.
  * debian/control.in/libc: Update breaks against libvtk7-dev.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 07 Aug 2022 22:00:25 +0200

glibc (2.34-0experimental5) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/powerpc/local-powerpc8xx-dcbz.diff: rebase.
    - debian/rules.d/build.mk: stop passing --with-default-link=no which is
      now the default.
  * debian/control.in/libc: Add breaks in libc6-dev against dev packages that
    encode the path to libpthread.so, librt.so or libutil.so, they need to be
    binNMUed:
    - libassimp-dev (<= 5.2.4~ds0-1)
    - libbson-dev (<= 1.22.0-1)
    - libdeal.ii-dev (<= 9.4.0-1)
    - libdolfin-dev-common (<= 2019.2.0~git20220407.d29e24d-5)
    - libeckit-dev (<= 1.20.0-1)
    - libfclib-dev (<= 3.1.0+dfsg-2)
    - libfltk1.3-dev (<= 1.3.8-4+b1)
    - libinsighttoolkit4-dev (<= 4.13.3withdata-dfsg2-3+b1)
    - libinsighttoolkit5-dev (<= 5.2.1-5+b1)
    - libismrmrd-dev (<= 1.8.0-2)
    - liblog4cplus-dev (<= 2.0.7-1)
    - libmgl-dev (<= 8.0.1-2)
    - libmimalloc2.0 (<= 2.0.6+ds-1)
    - libminc-dev (<= 2.4.03-5)
    - libmrpt-ros1bridge-dev (<= 1:2.4.9+ds-4+b2)
    - libnetcdf-dev (<= 1:4.9.0-2)
    - libnetcdf-mpi-dev (<= 1:4.9.0-1)
    - libnetcdf-pnetcdf-dev (<= 1:4.9.0-1)
    - libns3-dev (<= 3.36.1+dfsg-4)
    - libopenms-dev (<= 2.6.0+cleaned1-3+b1)
    - libtrilinos-amesos2-dev (<= 13.2.0-3)
    - libtrilinos-amesos-dev (<= 13.2.0-3)
    - libtrilinos-anasazi-dev (<= 13.2.0-3)
    - libtrilinos-aztecoo-dev (<= 13.2.0-3)
    - libtrilinos-belos-dev (<= 13.2.0-3)
    - libtrilinos-epetra-dev (<= 13.2.0-3)
    - libtrilinos-epetraext-dev (<= 13.2.0-3)
    - libtrilinos-galeri-dev (<= 13.2.0-3)
    - libtrilinos-ifpack2-dev (<= 13.2.0-3)
    - libtrilinos-ifpack-dev (<= 13.2.0-3)
    - libtrilinos-intrepid2-dev (<= 13.2.0-3)
    - libtrilinos-intrepid-dev (<= 13.2.0-3)
    - libtrilinos-isorropia-dev (<= 13.2.0-3)
    - libtrilinos-kokkos-dev (<= 13.2.0-3)
    - libtrilinos-kokkos-kernels-dev (<= 13.2.0-3)
    - libtrilinos-komplex-dev (<= 13.2.0-3)
    - libtrilinos-ml-dev (<= 13.2.0-3)
    - libtrilinos-moertel-dev (<= 13.2.0-3)
    - libtrilinos-muelu-dev (<= 13.2.0-3)
    - libtrilinos-nox-dev (<= 13.2.0-3)
    - libtrilinos-phalanx-dev (<= 13.2.0-3)
    - libtrilinos-pike-dev (<= 13.2.0-3)
    - libtrilinos-piro-dev (<= 13.2.0-3)
    - libtrilinos-pliris-dev (<= 13.2.0-3)
    - libtrilinos-rol-dev (<= 13.2.0-3)
    - libtrilinos-rtop-dev (<= 13.2.0-3)
    - libtrilinos-rythmos-dev (<= 13.2.0-3)
    - libtrilinos-sacado-dev (<= 13.2.0-3)
    - libtrilinos-shylu-dev (<= 13.2.0-3)
    - libtrilinos-stokhos-dev (<= 13.2.0-3)
    - libtrilinos-stratimikos-dev (<= 13.2.0-3)
    - libtrilinos-teko-dev (<= 13.2.0-3)
    - libtrilinos-teuchos-dev (<= 13.2.0-3)
    - libtrilinos-thyra-dev (<= 13.2.0-3)
    - libtrilinos-tpetra-dev (<= 13.2.0-3)
    - libtrilinos-trilinoscouplings-dev (<= 13.2.0-3)
    - libtrilinos-triutils-dev (<= 13.2.0-3)
    - libtrilinos-xpetra-dev (<= 13.2.0-3)
    - libtrilinos-zoltan2-dev (<= 13.2.0-3)
    - libvisp-dev (<= 3.5.0-2+b1)
    - libvotca-dev (<= 2022-3)
    - libvtk6-dev (<= 6.3.0+dfsg2-8.1+b1)
    - libvtk7-dev (<= 7.1.1+dfsg2-10.1+b2)
  * debian/testsuite-xfail-debian.mk: XFAIL recently backports audit tests on
    MIPS.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 11 Jul 2022 19:30:26 +0200

glibc (2.34-0experimental4) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes spurious EINTR when thread cancellation is disabled.  Closes:
      #1008174.
    - debian/patches/any/local-revert-bz13979.diff: refresh.

  [ Johannes Schauer Marin Rodrigues ]
  * debian/debhelper.in/libc.postinst: do not re-exec init if DPKG_ROOT is
    set.  Closes: #1006692.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 16 Apr 2022 13:10:56 +0200

glibc (2.34-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: whitelist again test-xfail-tst-pkey on
    powerpc, as 32-bit protection key support on powerpc is unclear.
  * debian/testsuite-xfail-debian.mk: whitelist dirent/tst-readdir64-compat
    and signal/tst-minsigstksz-5.  Closes: #1002041.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/rules.d/build.mk: Move the dynamic linker into the slibdir location
    and replace it with a symlink. This is needed for TCC which is not able to
    find the dynamic linker if it is not in a lib directory.
  * debian/rules.d/build.mk, debian/debhelper.in/libc.postrm: correctly
    recreate the dynamic linker symlink with the new naming scheme.
  * debian/libc*.symbols.*: force __sysconf@GLIBC_2.* and sysconf@GLIBC_2.*
    dependencies to 2.34 to correctly support the new definition of MINSIGSTKSZ
    and SIGSTKSZ.
  * debian/debhelper.in/libc*.fixperms: remove, they are ignored by
    dh_fixperms.
  * debian/debhelper.in/libc-alt.lintian-overrides: adjust overrides for the
    case slibdir = rtlddir.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd tests.
  * debian/patches/hurd-i386/git-random-getrandom.diff: Fix random translator
    startup.
  * debian/control: Break hurd << 1:0.9.git20211230-2 accordingly.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 21 Feb 2022 12:53:23 +0100

glibc (2.34-0experimental2) experimental; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debhelper.in/libc.lintian-overrides, debhelper.in/libc.lintian-overrides,
    debhelper.in/libc-otherbuild.lintian-overrides: use wildcards to match the
    dynamic linker name. This changes the overrides files to be identical on
    all architectures and make them multiarch installable.  Closes: #1001967.
  * debian/libc-dev.lintian-overrides, debian/libc-dev-alt.lintian-overrides:
    add lintian overrides for now empty libpthread.a, libdl.a, libutil.a,
    and libanl.a.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 20 Dec 2021 00:01:20 +0100

glibc (2.34-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd tests.
  * debian/patches/hurd-i386/git-machrules-chk_fail.diff: Fix static link.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/arm/local-vfp-sysdeps.diff: drop, causes issues with GCC
    11, the other compilers have probably been fixed during the last 9 years.
  * debian/testsuite-xfail-debian.mk: whitelist failing new test on mips*.
  * debian/testsuite-xfail-debian.mk: drop whitelist for kernel bug #889817
    now that oldstable and newer kernels are fixed.
  * debian/testsuite-xfail-debian.mk: drop whitelist for tst-cancel24-static,
    fixed since glibc 2.25.
  * debian/testsuite-xfail-debian.mk: drop whitelist for test-xfail-tst-pkey,
    fixed since glibc 2.31.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 18 Dec 2021 00:15:36 +0100

glibc (2.34-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Treat 'W' as a distinct character in sv_SE locale.  Closes: #511357.
    - Fix a deadlock between pthread_create and ctors.  Closes: #903514,
      #904544, #906516.
    - Add y2106 support for mips64.  Closes: #983769.
    - debian/symbols.wildcard: add 2.34.
    - debian/libc6.symbols.common, debian/libc6.1.symbols.alpha,
      debian/libc0.1.symbols.common, debian/libc0.3.symbols.hurd-i386: add
      libc_malloc_debug.so.0.
    - debian/patches/arm/local-sigaction.diff: rebased.
    - debian/patches/hppa/git-fcntl.h-update.diff: upstreamed.
    - debian/patches/hurd-i386/git-tiocflush.diff: upstreamed.
    - debian/patches/hurd-i386/git-eintr.diff: upstreamed.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: rebased.
    - debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: rebased.
    - debian/patches/hurd-i386/local-fix-nss.diff: rebased.
    - debian/patches/all/submitted-po-fr-fixes.diff: rebased.
    - debian/patches/any/local-ldso-disable-hwcap.diff: rebased.
    - debian/patches/any/submitted-nptl-invalid-td.patch: rebased.
    - debian/debhelper.in/libc-udeb.install{,.hurd-i386}: adjust paths
      following the drop of the version number from the soname.
    - debian/rules.d/build.mk: do not create symlink for ld.so.
    - debian/rules.d/debhelper.mk: Stop making libpthread.so.0 executable and
      strip it differently now that it is an empty library.
    - debian/rules.d/debhelper.mk, debian/debhelper.in/libc.fixperms,
      debian/debhelper.in/libc-alt.fixperms,
      debian/debhelper.in/libc-otherbuild.fixperm: Use dh_fixperms to keep
      ld.so and libc.so.6 executable now that they have a version independent
      name.
    - debian/rules.d/debhelper.mk, debian/debhelper.in/libc.postrm,
      debian/debhelper.in/libc-otherbuild.lintian-overrides,
      debian/debhelper.in/libc.lintian-overrides: change RTLD_SO to only
      contain the basename instead of the absolute path.
    - debhelper.in/libc.lintian-overrides, debhelper.in/libc.lintian-overrides,
      debhelper.in/libc-otherbuild.lintian-overrides: update for the new
      library naming.
  * debian/control.in/main, debian/rules.d/control.mk, debian/rules: build
    with GCC 11.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd tests.
  * debian/patches/hurd-i386/tg-glibc-2.24-restore-malloc-hook.diff: Drop
    patch.
  * debian/patches/hurd-i386/local-mach_print.diff: Drop patch.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 Dec 2021 23:52:06 +0100

glibc (2.33-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-spawni-reauth.diff: Fix make calls to spawni.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix testsuite on arm64 with recent binutils versions.  Closes: #1014109.
  * debian/rules.d/build.mk, debian/testsuite-mips-nan2008.c: disable the
    testsuite if the CPU NaN doesn't encoding matches the ABI. This fixes FTBFS
    on broken mips build daemons.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 10 Jul 2022 22:29:34 +0200

glibc (2.33-7) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: pass --with-default-link=no to configure to
    ensure that libio vtable protection is enabled.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix wrong fallback of strncmp-avx2-rtm and wcsncmp-avx2-rtm fallback to
      non-rtm variants when avoiding overflow.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 21 Feb 2022 09:47:11 +0100

glibc (2.33-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/pthread_once.diff: Fix pthread_key safety.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix HTM aborts in AVX2 multiarch string functions
    - Fix an overflow bug in some implementation of wcsnlen, wmemchr, and
      wcsncat
    - Fix an overflow bug in wcsncmp_avx2 and wcsncmp_evex
    - Fix a race condition in __opensock

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 15 Feb 2022 12:21:20 +0100

glibc (2.33-5) unstable; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix build failure on hppa and ia64.  Closes: #1004390.
    - Fix autopkgtest failure on arm64.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 26 Jan 2022 23:01:02 +0100

glibc (2.33-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix FTBFS on powerpc and ppc64 with recent binutils snapshots.
    - Fix autopkgtest on armhf.
    - Fix an unexpected return value from realpath() for too long results
      (CVE-2021-3998).
    - Fix a an off-by-one buffer overflow/underflow in getcwd()
      (CVE-2021-3999).
    - debian/patches/any/local-ldso-disable-hwcap.diff: rebase.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-pthread_kill_exited.diff: Fix pthread_kill on
    exiting/ted thread.
  * debian/patches/hurd-i386/git-reply_bogus.diff: Fix cleaning the reply
    port.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 25 Jan 2022 00:13:12 +0100

glibc (2.33-3) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-ttydefaults.diff: New patch to fix default
    character for termio cc[VSTATE].
  * debian/patches/hurd-i386/git-const.diff: Constify RPCs server-side.
    - debian/control: Bump mig build-dep accordingly.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix FTBFS on ppc64el with recent binutils snapshots.  Closes: #1003847.
    - Fix crashes in bzero/memset on i386 with SSE2 when the cache size cannot
      be determined.  Closes: #1003574, #1003610.
    - Fix a buffer overflow in sunrpc svcunix_create (CVE-2022-23218).
    - Fix a buffer overflow in sunrpc clnt_create (CVE-2022-23219).

  [ Gunnar Hjalmarsson ]
  * debian/local/usr_sbin/update-locale: tweak validation of args to
    update-locale().

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 18 Jan 2022 19:06:44 +0100

glibc (2.33-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/unsubmitted-getaux_at_secure.diff: Fix according
    to new __getauxval2 function.
  * debian/libc0.3.symbols.hurd-i386: Add vm_region_create_proxy.
  * debian/patches/hurd-i386/git-lib-map.diff: Unlock libraries load
    addresses.
  * debian/patches/hurd-i386/git-large-text.diff: Fix clang startup.
  * debian/patches/hurd-i386/git-get_dtable.diff: Implement msg_get_dtable.
  * debian/patches/hurd-i386/git-auth-leak.diff: Fix auth port leaks.
  * debian/patches/hurd-i386/git-nuke_ports_on_exec.diff: Fix ports leaks.
  * debian/testsuite-xfail-debian.mk: Update hurd tests.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix syscall() on ppc64 with POWER9 CPUs.  Closes: #1003201.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 06 Jan 2022 22:32:53 +0100

glibc (2.33-1) unstable; urgency=medium

  * Upload to unstable.
  * debian/control.in/libc: drop ${locale-compat:Depends} leftover from
    Provides.
  * debian/patches/any/submitted-localedef-check-magic.patch: rename into
    git-localedef-check-magic.patch.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 Dec 2021 12:04:30 +0100

glibc (2.33-0experimental3) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd tests.
  * debian/debhelper.in/libc.preinst: Require gnumach kernel >=
    1.8+git20210923 for the xrstor fix, needed for the ifunc-optimized memcpy
    etc.
  * debian/patches/hurd-i386/git-htl-init_sigset.diff: Fix sudo.

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc-dev{,-alt}.install, debian/rules.d/build.mk:
    install an empty libpthread_nonshared.a to support broken closed source
    software.  Closes: #971273.
  * debian/sysdeps/arm64.mk: enable Memory Tagging Extension (MTE) (heap)
    checking on arm64.  Closes: #995269.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/any/local-revert-bz13979.diff: re-add patch removed in
    2.33-0experimental0, but limited to removing the warning when
    optimizations are disabled and _FORTIFY_SOURCE > 0. At least cgo and
    gnucobol3 always invoke the compiler with _FORTIFY_SOURCE > 0, even when
    the optimizations are disabled.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 05 Dec 2021 19:12:47 +0100

glibc (2.33-0experimental2) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd tests.
  * debian/patches/hurd-i386/tg-sysvshm.diff: Fix spurious plt.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 22 Sep 2021 22:09:53 +0200

glibc (2.33-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd tests.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 15 Sep 2021 07:56:46 +0200

glibc (2.33-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - debian/symbols.wildcard: add 2.33.
    - debian/sysdeps/hurd-i386.mk: do not disable ifunc on hurd-i386, it is
      now supported.
    - debian/patches/alpha/local-string-functions.diff: upstreamed.
    - debian/patches/hppa/git-fcntl.h-update.diff: rebased.
    - debian/patches/hurd-i386/git-posix_openpt.diff: upstreamed.
    - debian/patches/hurd-i386/git-hurdsig-SA_SIGINFO.diff: upstreamed.
    - debian/patches/hurd-i386/git-sbrk-end.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigstate_thread_reference.diff: upstreamed.
    - debian/patches/hurd-i386/git-sched_sets.diff: upstreamed.
    - debian/patches/hurd-i386/git-sched_gets_hidden.diff: upstreamed.
    - debian/patches/hurd-i386/git-bsd4.3-ioctls.diff: upstreamed.
    - debian/patches/hurd-i386/git-clock-cputime.diff: upstreamed.
    - debian/patches/hurd-i386/git-WAIT.diff: upstreamed.
    - debian/patches/hurd-i386/git-cthreads.diff: upstreamed.
    - debian/patches/hurd-i386/git-cthreads-symbols.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread_plt.diff: upstreamed.
    - debian/patches/hurd-i386/git-lll-initializer.diff: upstreamed.
    - debian/patches/hurd-i386/git-lll-ptr.diff: upstreamed.
    - debian/patches/hurd-i386/git-ld-library-path-checks.diff: upstreamed.
    - debian/patches/hurd-i386/git-lll-wait-intr.diff: upstreamed.
    - debian/patches/hurd-i386/git-lll-private.diff: upstreamed.
    - debian/patches/hurd-i386/git-futex-internal.diff: upstreamed.
    - debian/patches/hurd-i386/git-libc-open.diff: upstreamed.
    - debian/patches/hurd-i386/git-sem-pshared.diff: upstreamed.
    - debian/patches/hurd-i386/git-sem-open-init.diff: upstreamed.
    - debian/patches/hurd-i386/git-sem-open.diff: upstreamed.
    - debian/patches/hurd-i386/git-siginfo_uesp.diff: upstreamed.
    - debian/patches/hurd-i386/git-mmap-EINVAL.diff: upstreamed.
    - debian/patches/hurd-i386/git-waitid.diff: upstreamed.
    - debian/patches/hurd-i386/git-hurd-version.diff: upstreamed.
    - debian/patches/hurd-i386/git-mmap_addr.diff: upstreamed.
    - debian/patches/hurd-i386/git-ELF_MACHINE_USER_ADDRESS_MASK.diff:
      upstreamed.
    - debian/patches/hurd-i386/git-drop-rmh.diff: rebased.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: rebased.
    - debian/patches/hurd-i386/tg-EIEIO-fr.diff: rebased.
    - debian/patches/hurd-i386/tg-EGREGIOUS-fr.diff: rebased.
    - debian/patches/i386/unsubmitted-quiet-ldconfig.diff: rebased.
    - debian/patches/kfreebsd/submitted-auxv.diff: rebased.
    - debian/patches/kfreebsd/local-no-execfn.diff: rebased.
    - debian/patches/riscv64/git-riscv64-gnu-ifunc.diff: upstreamed.
    - debian/patches/all/local-ldd.diff: updated to take into account the new
      exit values returned by ld.so.  Closes: #982203.
    - debian/local/etc/nss: import latest version from upstream and keep
      installing it in /etc/defaults/nss, until we find a way to move this
      file to the libnss-nis package.
    - debian/patches/all/local-nis-shadow.diff: removed, obsolete.
    - debian/patches/all/submitted-po-fr-fixes.diff: rebased.
    - debian/patches/any/local-ldso-disable-hwcap.diff: rebased.
    - debian/patches/any/local-nss-upgrade.diff: removed, obsolete. The patch
      was added to prepare the upgrade from glibc 2.2.X to 2.3.X, but has never
      been useful due to a typo in the NSS module name. In addition the new NSS
      code is able to use an in-memory version of a module if it has been
      removed from disk.
    - debian/patches/any/local-revert-bz13979.diff: removed, obsolete. 8+
      years after, AC macros should have been fixed.
    - debian/patches/any/git-ld.so-cache-endianness-markup.diff: upstreamed.
    - debian/patches/hurd-i386/submitted-net.diff: rebased.
    - debian/patches/hurd-i386/unsubmitted-getaux_at_secure.diff: rebased.
    - debian/debhelper.in/libc-bin.install: move zdump to /usr/bin.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 06 Sep 2021 07:03:55 +0200

glibc (2.32-5) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: add a breaks against tinydns (<< 1:1.05-14).
    Closes: #997912.
  * debian/debhelper.in/libc-bin.postinst: stop replacing older versions from
    /etc/nsswitch.conf.  Closes: #998008.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix bad conversion from ISO-2022-JP-3 with iconv (CVE-2021-43396).
      Closes: #998622.
  * debian/control.in/main: rename libselinux-dev build-dependency into
    libselinux1-dev.
  * debian/patches/any/submitted-localedef-check-magic.patch: new patch to
    display a proper error message for bad locale-archive files.  Closes:
    #993772.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 05 Dec 2021 16:46:21 +0100

glibc (2.32-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.preinst: make sure USE_DEBCONF can't be defined
    from the environment.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/any/submitted-getcwd-gnu-extension-warning.diff:
      upstreamed.
  * debian/control.in/libc: remove the Breaks against dazzdb, it will be fixed
    in Buster.
  * debian/patches/i386/local-setcontext-revert-eax-ecx-edx.patch: revert
    upstream commit to not save and restore EAX, ECX and EDX in setcontext to
    temporarily workaround a bug in libunwind8. See bug#994510.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 19 Sep 2021 20:46:59 +0200

glibc (2.32-3) unstable; urgency=medium

  [ John David Anglin ]
  * debian/testsuite-xfail-debian.mk: whitelist test-xfail-tst-cond24 on
    hppa.  Closes: #993954.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/debhelper.in/libc.preinst: drop fragile check for working debconf
    frontend now that it is done directly in debconf (see bug#985572) and now
    that this version is available in Bullseye.
  * debian/control.in/libc: add a Breaks against aide (<< 0.17.3-4+b3). See
    bug#994091.
  * debian/debhelper.in/libc.preinst: force systemd-logind to do NSS lookups
    to workaround the impossibility of restarting systemd-logind.  Closes:
    #994006.
  * debian/control.in/libc: add a Breaks against python3-iptables (<<
    1.0.0-2).  Closes: #994233.
  * debian/patches/all/submitted-po-fr-fixes.diff: fix French translation of
    short options.  Closes: #994133.
  * debian/control.in/libc: add a Breaks against fakechroot (<< 2.19-3.5).
    See bug#993946.
  * debian/control.in/libc: add a Breaks against dazzdb
    (<< 1.0+git20201103.8d98c37-1.1). See bug#993770.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/any/submitted-getcwd-gnu-extension-warning.diff: fix
    a warning when using the GNU extension of getcwd(). This is a TEMPORARY
    fix until upstream takes a decision on the removal of this extension. This
    might be REMOVED at a later point, in that case packages should be fixed
    instead, like other distributions have already done.  Closes: #993973.

  [ Simon McVittie ]
  * debian/libc6-i386.symbols.x32, debian/libc6.symbols.mips,
    debian/libc6.symbols.mipsel: fix too aggressive cleanup, leading
    unnecessarily tight dependencies on libc6.  Closes: #994232.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 14 Sep 2021 23:47:37 +0200

glibc (2.32-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: do not try to install audit/sotruss-lib.so
    in stage1 profile.
  * debian/debhelper.in/libc.postinst: grab patch from Ubuntu to carefully
    restart systemd on libc6 upgrade.  Closes: #993821.
  * debian/debhelper.in/libc.lintian-overrides: and an override about the
    systemctl call in libc6.postinst.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 07 Sep 2021 21:57:34 +0200

glibc (2.32-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/riscv64/git-riscv64-gnu-ifunc.diff: backport GNU indirect
    function from upstream to fix failures in the testsuite with binutils
    2.37.
  * debian/rules, rules.d/build.mk, rules.d/debhelper.mk,
    debian/libc*.symbols*, debhelper.in/*install*: drop support for building
    with libcrypt now that the transition has been done in bullseye.
  * debian/libc6.symbols.hppa: drop symbol overrides for linuxthreads -> NPTL
    transition.
  * debian/libc6.symbols.sparc, debian/libc6-sparc.symbols.sparc64: drop symbol
    overrides for SPARCV8 -> SPARCV8PLUS ABI transition.
  * debian/libc6.symbols.arm: drop file, the arm architecture is not supported
    anymore for quite some time.
  * debian/libc6.symbols.armel, debian/libc6.symbols.armhf: drop symbol
    overrides for make/get/set/swapcontext.
  * debian/libc6-i386.symbols.x32, debian/libc6.symbols.i386: drop symbol
    overrides for TLS support.
  * debian/libc6.symbols.powerpc: drop symbol overrides for TLS support.
  * debian/libc6.symbols.mips, debian/libc6.symbols.mipsel: drop symbol
    overrides for TLS support.
  * debian/rules.d/debhelper.mk: drop workaround for an old dpkg-shlibdeps
    bugs (see #433723).
  * debian/debhelper.in/libc-dev.install, debian/debhelper.in/libc.install,
    debian/control.in/libc: move sotruss-lib.so from libc6 to libc6-dev.
    Closes: #976133.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-msync.diff: Fix msync.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 05 Sep 2021 22:21:47 +0200

glibc (2.32-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Complete with
    timed locks.
  * debian/testsuite-xfail-debian.mk: Update tests.
  * debian/patches/hurd-i386/git-get_errlist.diff: Fix get_errlist.
  * debian/patches/hurd-i386/local-mach_print.diff: Keep mach_print@GLIBC_2.21
    for now, until packages are rebuilt against mach_print@@GLIBC_2.32.
  * debian/patches/hurd-i386/local-stack_chk_guard.diff: Fix compatibility with
    binaries that reference __stack_chk_guard.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix tst-sysvshm-linux failure on armel and x32.
  * Remove the libc0.3-xen and libc6-xen packages as glibc 2.32 removed
    support for the nosegneg hwcap, and 32-bit Xen PV support has been removed
    from Linux kernel 5.9:
    - debian/control.in/opt: remove libc0.3-xen and libc6-xen.
    - debian/patches/any/local-ldso-disable-hwcap.diff: stop looking for
      /etc/ld.so.nohwcap on i386.
    - debian/sysdeps/hurd-i386.mk, debian/sysdeps/i386.mk: remove the xen
      pass.
    - debian/debhelper.in/libc.NEWS: add an entry explaining the removal of
      the libc0.3-xen and libc6-xen packages.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 24 Aug 2021 20:42:24 +0200

glibc (2.32-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Fixes a use-after-free in the mq_notify function (CVE-2021-33574).
      Closes: #989147.
    - debian/symbols.wildcard: add 2.32.
    - debian/patches/localedata/supported.diff: refresh.
    - debian/patches/localedata/git-unicode-13-support.diff: upstreamed.
    - debian/patches/amd64/git-x86_64-remove-pie-check.diff: upstreamed.
    - debian/patches/hurd-i386/git-fork-pthread_exit.diff: upstreamed.
    - debian/patches/hurd-i386/git-spin_lock.diff: upstreamed.
    - debian/patches/hurd-i386/git-barrier-1.diff: upstreamed.
    - debian/patches/hurd-i386/git-sem-intr.diff: upstreamed.
    - debian/patches/hurd-i386/git-register-atfork.diff: upstreamed.
    - debian/patches/hurd-i386/git-register-atfork2.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_self.diff: upstreamed.
    - debian/patches/hurd-i386/git-trunc-times.diff: upstreamed.
    - debian/patches/hurd-i386/git-ss_init.diff: upstreamed.
    - debian/patches/hurd-i386/git-tst-udp.diff: upstreamed.
    - debian/patches/hurd-i386/git-pselect.diff: upstreamed.
    - debian/patches/hurd-i386/git-fexecve.diff: upstreamed.
    - debian/patches/hurd-i386/git-cond_destroy.diff: upstreamed.
    - debian/patches/hurd-i386/git-holes.diff: upstreamed.
    - debian/patches/hurd-i386/git-longjmp-onstack.diff: upstreamed.
    - debian/patches/hurd-i386/git-intr-msg-unwind.diff: upstreamed.
    - debian/patches/hurd-i386/git-strtol-test.diff: upstreamed.
    - debian/patches/hurd-i386/git-fix-longjmp.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_atfork-hidden.diff: upstreamed.
    - debian/patches/hurd-i386/git-raise.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_link_tests.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread_syms.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread-nodelete.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_get_cleanup_stack.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread-testcancel.diff: upstreamed.
    - debian/patches/hurd-i386/git-SEM_VALUE_MAX.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigstate_thread_reference.diff: rebased.
    - debian/patches/hurd-i386/git-libpthread_plt.diff: rebased.
    - debian/patches/hurd-i386/git-lll-ptr.diff: rebased.
    - debian/patches/hurd-i386/git-ld-library-path-checks.diff: rebased.
    - debian/patches/hurd-i386/git-sem-pshared.diff: rebased.
    - debian/patches/hurd-i386/git-sem-open.diff: rebased.
    - debian/patches/hurd-i386/git-waitid.diff: rebased.
    - debian/patches/hurd-i386/tg-sendmsg-SCM_CREDS.diff: rebased.
    - debian/patches/hurd-i386/tg-EIEIO-fr.diff: rebased.
    - debian/patches/hurd-i386/tg-EGREGIOUS-fr.diff: rebased.
    - debian/patches/kfreebsd/submitted-auxv.diff: rebased.
    - debian/patches/all/local-remove-manual.diff: rebased.
    - debian/patches/any/local-bindresvport_blacklist.diff: removed, obsolete.
    - debian/patches/all/submitted-po-fr-fixes.diff: rebased.
    - debian/patches/any/local-ldso-disable-hwcap.diff: rebased.
    - debian/patches/any/local-nss-overflow.diff: rebased.
    - debian/patches/any/submitted-ld.so-cache-new-format.diff: upstreamed.
    - debian/patches/debian/patches/any/git-surplus-tls-accounting.diff:
      upstreamed.
    - debian/patches/any/git-ld.so-cache-endianness-markup.diff: rebased.
    - debian/patches/hurd-i386/unsubmitted-mremap.diff: removed, obsolete.
  * debian/patches/hurd-i386/git-sched_gets_hidden.diff: new patch from
    upstream to fix FTBFS on hurd-i386.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 21 Aug 2021 19:24:41 +0200

glibc (2.31-17) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests.

  [ Aurelien Jarno ]
  * debian/debhelper.in/locales.NEWS: fix charset mismatch in example iconv
    command.  Closes: #992568
  * Replace the non UTF-8 locales removal by a deprecation as they are still
    used in many other packages (especially testsuites): non UTF-8 locales are
    not offered anymore in the debconf dialog (except for the ones already
    configured), but they are still listed in SUPPORTED and provided in the
    locales-all package (Closes: #992500, #992653):
    - debian/patches/localedata/locale-en_DK.diff,
      debian/patches/localedata/locale-eu_FR.diff,
      debian/patches/localedata/supported.diff: revert the removal of non-UTF-8
      locales.
    - debian/debhelper.in/locales-all.NEWS: remove 2.31-14 entry.
    - debian/rules.d/debhelper.mk: fill __PROVIDED_LOCALES__ with UTF-8
      locales only.

  [ Johannes Schauer Marin Rodrigues ]
  * additional bits to support DPKG_ROOT (closes: #983412)

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 23 Aug 2021 21:31:23 +0200

glibc (2.31-16) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.postinst, debian/debhelper.in/libc.preinst:
    replace calls to which by call to command -v.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 18 Aug 2021 11:22:40 +0200

glibc (2.31-15) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/amd64/git-x86_64-remove-pie-check.diff: new patch from
    upstream to fix FTBFS on amd64 with binutils 2.37.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 17 Aug 2021 21:46:43 +0200

glibc (2.31-14) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests.
  * debian/patches/hurd-i386/tg-eintr.diff: Replace with upstream's
    more complete git-eintr.diff.
  * debian/patches/hurd-i386/proc_reauth.diff: Use the new
    __proc_reauthenticate_complete protocol.
  * control: Break hurd version that erroneously depended on an update libc0.3
    for the auth_complete_reauthentication RPC
  * debian/libc0.3.symbols.hurd-i386: Add missing gsync_wait_intr symbol.
  * debian/patches/hurd-i386/git-AT_NO_AUTOMOUNT.diff: Fix glib's fileinfo.
  * debian/patches/hurd-i386/git-ELF_MACHINE_USER_ADDRESS_MASK.diff: Fix
    ELF_MACHINE_USER_ADDRESS_MASK value.
  * debian/patches/hurd-i386/tg-bigmem.diff: Relace by git-drop-rmh.diff.
  * debian/patches/series: Reorder hurd-i386 git patches according to glibc
    release dates.
  * debian/patches/hurd-i386/sysvshm-lll.diff: Fold into tg-sysvshm.diff.

  [ Aurelien Jarno ]
  * Drop debian/patches/arm/local-soname-hack.diff: not needed anymore.
  * Drop debian/patches/arm/unsubmitted-ldconfig-cache-abi.diff: not needed
    anymore.
  * debian/sysdeps/armhf.mk: drop old armhf compat symlink, this is not
    supported anymore.
  * debian/control.in/main: remove Adam Conrad from Uploaders. RIP.  Closes:
    #986951.
  * debian/testsuite-xfail-debian.mk: drop tst-malloc-usable-tunables from
    XFAIL, the kernel bug has been fixed.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: Drop the depends in
    libcrypt1 as upgrades from buster to bookworm are not supported. Demote
    the libnss-nis and libnss-nisplus recommends to suggests.  Closes:
    #975077.
  * debian/patches/hppa/git-fcntl.h-update.diff: new patch from upstream to
    update EFD_NONBLOCK, IN_NONBLOCK, SFD_NONBLOCK and TFD_NONBLOCK on HPPA.
    Closes: #981650.
  * debian/debhelper.in/locales.postinst: simplify locales-all detection.
  * debian/control.in/main: drop arch specific depends on gcc-10 now that the
    minimum version is already in bullseye.
  * debian/debhelper.in/libc.preinst: simplify the version comparison by only
    comparing the two first parts, now that kernel 2.X are not supported
    anymore.
  * debian/debhelper.in/libc.preinst: drop the check for kernel release > 255
    now that glibc and preinstall script are fixed.  Closes: #987266.
  * debian/rules.d/build.mk: stop passing --enable-obsolete-rpc.
  * debian/debhelper.in/libc-dev.install{,.hurd-i386}: do not install
    librpcsvc.a.
  * debian/debhelper.in/libc-dev-bin.manpage, debian/local/manpages/rpcgen.1:
    do not install rpcgen (1) manpage.
  * debian/rules.d/build.mk: stop deleting <rpcsvc/yppasswd.h> and
    <rpcsvc/yppasswd.x>.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: make libc6-dev to
    depend on rpcsvc-proto, except for stage1 and stage2.
  * debian/patches/localedata/supported.diff: update to drop all non-UTF-8
    locales.  Closes: #603914.
  * debian/patches/localedata/sort-UTF8-first.diff: drop.
  * debian/script.in/nsscheck.sh: restart openssh-server even if it has been
    deconfigured during the upgrade.  Closes: #990069.

  [ Helmut Grohne ]
  * Fix FTCBFS: (Closes: #990031)
    + debian/control.in/main: Annotate binutils dependency with -for-host.
    + debian/control.in/main, debian/rules.d/control.mk: Use suffixed cross
      compilers until there is -for-host.
    + debian/patches/any/local-cross.patch: LIBGD detection actually works.

  [ Matthias Klose ]
  * debian/rules, debian/rules.d/build.mk: Run checks for every pass before
    failing the build.  Closes: #982360.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 17 Aug 2021 16:27:59 +0200

glibc (2.31-13) unstable; urgency=medium

  [ Colin Watson ]
  * debian/debhelper.in/libc.postinst, script.in/nsscheck.sh: Look for
    openssh-server package rather than ssh.  Closes: #990069

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix an arbitrary read in wordexp() (CVE-2021-35942).  Closes:
      #990542.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 06 Jul 2021 21:16:59 +0200

glibc (2.31-12) unstable; urgency=medium

  * debian/po/de.po: fix encoding declaration.  Closes: #986450.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - On s390x, check for vector support in memmove ifunc-selector in
      addition to Miscellaneous-Instruction-Extensions.
  * debian/patches/any/local-rtlddir-cross.diff: drop patch, letting upstream
    makefiles to install the dynamic linker symlink directly in the right
    location. This fixes the temporary installation done by upstream makefiles
    to run some tests in a container.  Closes: #973278, #985617.
  * debian/rules.d/build.mk: do not create the dynamic linker manually.
  * debian/sysdeps/*.mk: do not create the dynamic linker manually for
    bi/tri-arch packages.
  * debian/rules.d/build.mk: create the soname symlink for ld-2.xx.so, to
    avoid its creation later by ldconfig.
  * debian/debhelper.in/libc.install, debhelper.in/libc-alt.install,
    debhelper.in/libc-udeb.install, debhelper.in/libc-udeb.install.hurd-i386:
    adjust given that the dynamic linker symlink is now already at the correct
    location.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix GLIBC_TUNABLES parsing for AT_SECURE binaries.
  * debian/rules.d/build.mk: escape EOL so that $configure_build is correctly
    passed to the configure script.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 01 May 2021 22:56:06 +0200

glibc (2.31-11) unstable; urgency=medium

  * debian/debhelper.in/libc.preinst: handle the case where debconf
    configuration has never been done.  Closes: #986180.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 31 Mar 2021 22:09:32 +0200

glibc (2.31-10) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-tiocflush.diff: Cope with
    BSD 4.1-ish ioctl(..., TIOCFLUSH, NULL).
  * debian/debhelper.in/libc-udeb.install.hurd-i386: Add missing
    libmachuser/libhurduser.
  * debian/testsuite-xfail-debian.mk: Update tests.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a possible assertion failure in iconv when converting
      from ISO-2022-JP-3 to UTF-8 (CVE-2021-3326).  Closes: #981198.
    - Fix a possible double-free in nscd when processing a request for netgroup
      lookup (CVE-2021-27645).  Closes: #983479.
  * debian/debhelper.in/libc.preinst: fallback to text mode in case 1) debconf
    is about to use the dialog frontend with whiptail or frontend and 2) the
    corresponding executable is unusable.  Closes: #984533.
  * debian/rules.d/debhelper.mk: correctly strip libpthread.so for bi/triarch
    builds.  Closes: #983457.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 21 Mar 2021 00:38:37 +0100

glibc (2.31-9) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update tests.
  * debian/patches/hurd-i386/git-mmap_addr.diff: Fix long-running ghc processes.

  [ Aurelien Jarno ]
  * Upload to unstable.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a buffer over-read when processing invalid multi-byte input
      sequences in the EUC-KR encoding (CVE-2019-25013).  Closes: #979273.
  * debian/control.in/libc: add a Breaks: against libgegl-0.4-0 (<< 0.4.18).
    Closes: #968349.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 Jan 2021 06:47:42 +0100

glibc (2.31-8) experimental; urgency=medium

  [ Stephen Kitt ]
  * Build memusage and memusagestat in the libc pass and ship them into
    libc-devtools. Move mtrace, sotruss and sprof into that package.
    Closes: #91815.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Jan 2021 18:55:16 +0100

glibc (2.31-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update with 2.33 tests.
  * debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Also accept
    CLOCK_MONOTONIC_RAW, CLOCK_REALTIME_COARSE, CLOCK_MONOTONIC_COARSE.
  * debian/patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Rename to
    git-hurdsig-SA_SIGINFO.diff.
  * debian/patches/hurd-i386/tg-sigstate_thread_reference.diff: Rename to
    git-sigstate_thread_reference.diff.
  * debian/patches/hurd-i386/git-siginfo_uesp.diff: Fix ss_sp field in
    siginfo.
  * debian/patches/hurd-i386/git-mmap-EINVAL.diff: Fix mmap EINVAL return value.
  * debian/patches/hurd-i386/git-waitid.diff: Support
    WEXITED/WCONTINUED/WSTOPPED/WNOWAIT.
  * debian/patches/hurd-i386/git-hurd-version.diff: Accept including
    hurd/version.h.
  * debian/patches/kfreebsd/submitted-waitid.diff: Refresh.
  * debian/control: Bump hurd-dev build-dep to get proc_waitid RPC.
  * debian/libc0.3.symbols.hurd-i386: Add proc_waitid RPC.
  * debian/debhelper.in/libc-dev.install.hurd-i386: Add missing
    libpthread_syms.a.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix assertion failure in iconv when converting invalid UCS4
      (CVE-2020-29562).  Closes: #976391.
  * debian/sysdeps/arm64.mk: enable static PIE support on arm64.  Closes:
    #973430.
  * debian/patches/localedata/git-unicode-13-support.diff: backport Unicode 13
    support from upstream.  Closes: #977691.
  * debian/local/manpages/po/pt_BR.po: recode to UTF-8 to make lintian happy.
  * debian/debhelper.in/*.lintian-overrides: update for recent lintian
    versions.
  * debian/patches/any/git-ld.so-cache-endianness-markup.diff: backport ld.so
    cache endianness support from upstream.  Closes: #731082.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Jan 2021 17:01:18 +0100

glibc (2.31-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update with 2.33 tests.
  * debian/patches/hurd-i386/git-pthread_link_tests.diff: Fix linking static
    tests with the build libpthread.a.
  * debian/patches/hurd-i386/git-libpthread_syms.diff: Fix linking static tests
    by factorizing the symbols list.
  * debian/patches/hurd-i386/git-libpthread-nodelete.diff: initialize
    libpthread.so first and prevent from unloading.
  * debian/patches/hurd-i386/git-cthreads.diff: Fix build without cthreads.h.
  * debian/patches/hurd-i386/git-cthreads-symbols.diff: Fix libpthread
    detection from libc.
  * debian/patches/hurd-i386/git-libpthread_plt.diff: Fix spurious PLT.
  * debian/patches/hurd-i386/git-lll-initializer.diff,
    debian/patches/hurd-i386/sysvshm-lll.diff,
    debian/patches/hurd-i386/git-lll-ptr.diff,
    debian/patches/hurd-i386/git-ld-library-path-checks.diff,
    debian/patches/hurd-i386/git-lll-wait-intr.diff,
    debian/patches/hurd-i386/git-lll-private.diff,
    debian/patches/hurd-i386/git-futex-internal.diff,
    debian/patches/hurd-i386/git-libc-open.diff,
    debian/patches/hurd-i386/git-pthread_get_cleanup_stack.diff,
    debian/patches/hurd-i386/git-libpthread-testcancel.diff,
    debian/patches/hurd-i386/git-SEM_VALUE_MAX.diff,
    debian/patches/hurd-i386/git-sem-pshared.diff,
    debian/patches/hurd-i386/git-sem-open-init.diff,
    debian/patches/hurd-i386/git-sem-open.diff: Add sem_open support.

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.NEWS: fix the name if the libnss-nis package,
    thanks to Diederik de Haas for the hint.

 -- Samuel Thibault <sthibault@debian.org>  Wed, 16 Dec 2020 22:33:25 +0100

glibc (2.31-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update with 2.33 tests.
  * debian/patches/hurd-i386/git-clock-cputime.diff: New patch to support
    clock_gettime(CPUTIME).
  * debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Refresh.
  * debian/patches/hurd-i386/local-posix_cputime.diff: Remove.
  * debian/patches/hurd-i386/git-raise.diff: Reject raising invalid signals.
  * debian/patches/hurd-i386/git-sbrk-end.diff: Remove the tst-sbrk tests,
    they fail on various architectures.  Closes: #972510.
  * debian/patches/hurd-i386/git-posix_openpt.diff: Note that patch is
    committed upstream.
  * debian/patches/hurd-i386/git-WAIT.diff: Fix printing fd in ps' WAIT
    output.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix missing floating-point rounding and exception handling functions
      missing on SH4.  Closes: #975421.
    - Fix an infinite loop in iconv with input containing redundant shift
      sequences in the IBM1364, ++  IBM1371, IBM1388, IBM1390, or IBM1399
      character sets (CVE-2020-27618).  Closes: #973914.
  * debian/patches/localedata/locale-C.diff: replace the LC_CTYPE definition
    by 'copy "i18n"'. Note that with this change the "blank", "cntrl",
    "space" classes do not conform to POSIX anymore, however this matches the
    Fedora behaviour.  Closes: #973647.
  * debian/control.in/libc: downgrade libnss-nis and libnss-nisplus
    dependencies to recommends. Closes: #972770, #975052, #972552.
  * debian/debhelper.in/libc.NEWS: add an entry about libnss-nis and
    libnss-nisplus packages.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 Dec 2020 08:42:44 +0100

glibc (2.31-4) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/{unsubmitted-sbrk-_end.diff,tg-pie-sbrk.diff}:
    Merge into...
  * debian/patches/hurd-i386/git-sbrk-end.diff: ... committed patch.
  * debian/patches/hurd-i386/unsubmitted-sched_sets.diff: Rename to...
  * debian/patches/hurd-i386/git-sched_sets.diff: ... committed patch.
  * debian/patches/hurd-i386/local-posix_cputime.diff: New patch to avoid
    applications trying to use extended clock ids.
  * debian/patches/hurd-i386/git-bsd4.3-ioctls.diff: New patch to avoid
    defining elder macros.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Handle translation output codesets with suffixes.  Closes: #968260.
  * debian/control.in/libc: add a Breaks: against libgegl-0.4-0 (<< 0.4.18).
    Closes: #968342.
  * debian/control.in/libc: add a Breaks: against busybox (<< 1.30.1-6) due to
    bug #966074.
  * debian/debhelper.in/libc-dev{,-alt}.lintian-overrides: remove files as
    lintian is now smarter.
  * debian/po/it.po: Update Italian debconf translation, by Luca Monducci.
    Closes: #969219.
  * debian/po/pt_BR.po: Update Brazilian Portuguese debconf translation, by
    Adriano Rafael Gomes. Closes: #970199.
  * debian/po/de.po: recode to UTF-8.
  * debian/rules.d/build.mk: stop passing --enable-obsolete-nsl.
  * debian/debhelper.in/libc-dev{,-alt}.install: do not install libnsl.a.
  * debian/debhelper.in/libc-dev.install.hurd-i386: ditto.
  * debian/libc0.1.symbols.common, debian/libc0.3.symbols.hurd-i386,
    debian/libc6.1.symbols.alpha, debian/libc6.symbols{common,hppa,sparc}:
    remove libnss_nis.so.2 and libnss_nisplus.so.2 symbols.
  * debian/rules.d/build.mk: do not ship <rpcsvc/yppasswd.h> and
    <rpcsvc/yppasswd.x> as they are shipped by libnsl-dev.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: make libc6 to depend on
    libnss-nis and libnss-nisplus, except for stage1 and stage2.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: make libc6-dev to
    depend on libnsl-dev, except for stage1 and stage2.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 10 Oct 2020 21:54:24 +0200

glibc (2.31-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: add a Breaks: against openarena (<< 0.8.8+dfsg-4~)
    due to bug#966150.
  * debian/control.in/libc: add a Breaks: against ioquake3
    (<< 1.36+u20200211.f2c61c1~dfsg-2~) as previous versions are not correctly
    linked with libm.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix an infinite loop in the iconv program (CVE-2016-10228).  Closes:
      #856503.
    - debian/patches/any/submitted-selinux-deprecations.diff: upstreamed.
    - debian/patches/x32/submitted-fix-nptl-setgroups-x32.diff: upstreamed.
  * debian/rules.d/build.mk: install <finclude/math-vector-fortran.h> in the
    multiarch path.  Closes: #962457.

  [ Samuel Thibault ]
  * debian/libc0.3.symbols.hurd-i386: Fix dependency of __errno_location and
    __h_errno_location symbols in libpthread.
  * patches/hurd-i386/unsubmitted-sbrk-_end.diff: Fix _end symbol appearance
    by reworking sbrk.
  * patches/hurd-i386/unsubmitted-sched_sets.diff: Add sched_set/getscheduler.
  * patches/hurd-i386/git-pthread_atfork-hidden.diff: Hide pthread_atfork
    symbols imported to applications, to avoid leaking them.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 04 Aug 2020 17:02:38 +0200

glibc (2.31-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: add a Breaks: against macs (<< 2.2.7.1-3~) due to
    bug #965073.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a signed comparison vulnerability in the ARMv7 memcpy and memmove
      functions (CVE-2020-6096).  Closes: #961452.
  * debian/control.in/libc: do not limit the openssh-server breaks to 32-bit
    architectures, clock_nanosleep has to be allowed in addition to
    clock_gettime64.  Closes: #965932.
  * debian/patches/any/submitted-selinux-deprecations.diff: proposed patch to
    ignore the selinux deprecations introduced in libselinux (>= 3.1), fixing
    an FTBFS.  Closes: #965941.
  * debian/patches/x32/submitted-fix-nptl-setgroups-x32.patch: proposed patch
    to fix the setgroups functions in threaded applications on x32 (without
    the testsuite part).  Closes: #965091.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-tls-ie-align.diff: Fix TLS IE load with >=
    8 byte alignment.
  * debian/testsuite-xfail-debian.mk: Update backtrace result.
  * debian/patches/hurd-i386/git-fix-longjmp.diff: Fix longjmp from dl loader.
    Notably fixes calling setuid programs from eatmydata.
  * debian/control: Build-depend on gnumach-dev with userland driver RPC interface.
  * debian/libc0.3.symbols.hurd-i386: Add userland driver RPC interface stubs.
  * debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Make
    clock_nanosleep accept CLOCK_MONOTONIC as well.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 23 Jul 2020 00:26:24 +0200

glibc (2.31-1) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/control: Build-depend on gcc-10 version that defaults to i686 on
    hurd-i386.
  * debian/control: Build-depend on mig-for-host instead of mig.
  * debian/sysdeps/hurd-i386.mk: Drop adding -march=i686.
  * debian/hurd-i386/git-pselect.diff: Fix pselect atomicity.
  * debian/hurd-i386/git-fexecve.diff: Fix fexecve.
  * debian/hurd-i386/git-cond_destroy.diff: Fix cond_destroy synchronization
    with woken threads.
  * debian/hurd-i386/git-holes.diff: Fix detecting support for file holes.
  * debian/hurd-i386/local-clock_gettime_MONOTONIC.diff: Also fix clock_getres
    with CLOCK_MONOTONIC.
  * debian/hurd-i386/git-longjmp-onstack.diff: Fix longjmp-ing from altstack.
  * debian/hurd-i386/git-register-atfork2.diff: Fix register-atfork ordering.
  * debian/hurd-i386/git-intr-msg-unwind.diff: Fix unwinding over interruptible
    RPC.
  * debian/hurd-i386/git-strtol-test.diff: Fix testing strtol errors.
  * debian/testsuite-xfail-debian.mk: Update.
  * debian/debhelper.in/libc-udeb.install.hurd-i386: Add missing
    libmachuser/libhurduser.
  * debian/rules.d/debhelper.mk: Add dh_link pass to libc-udeb binaryinst.
  * debian/debhelper.in/libc-udeb.links.hurd-i386: Add missing ld.so link.
  * debian/rules: Clean links file.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/any/git-surplus-tls-accounting.diff: backport TLS surplus
    accounting from upstream.  Closes: #964141.
  * debian/control.in/main: update breaks on cross-toolchain-base* as they
    will need changes to build with glibc 2.31.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 13 Jul 2020 21:34:17 +0200

glibc (2.31-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * Add an explicit dependency on $(stamp)build_libc for the build-indep
    target. Currently the build is made during the binary-indep target
    instead.
  * debian/control.in/main: build-depends on gcc-10 (>= 10-20200431) on arm64
    to ensure that -moutline-atomics is enabled by default.  Closes: #956418.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/debhelper.in/libc.NEWS: add an entry explaining the new trust-ad
    option in resolv.conf.
  * debian/patches/riscv64/local-asin-acos-raise-invalid.diff: new patch to
    workaround a GCC 10 bug on riscv64.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-tst-udp.diff: New patch to fix
    sunrpc/tst-udp-* failures.
  * debian/sysdeps/hurd-i386.mk: Add -march=i686 to fix math issues until gcc
    is fixed to switch to i686 as was actually expected already.
  * debian/testsuite-xfail-debian.mk: Update hurd-i386 results.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 19 May 2020 00:19:13 +0200

glibc (2.31-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd-i386 results.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Add clone3 syscall to arm64 version of arch-syscall.h.
  * debian/debhelper.in/libc-udeb.install, debian/rules.d/debhelper.mk: use
    the multiarch path in the udeb package.
  * debian/control.in/libc, debian/debhelper.in/libc-pic.install,
    debian/rules, debian/rules.d/debhelper.mk,
    debian/patches/any/local-libpic.diff: stop building the libc6-pic package.
  * debian/control.in/main, debian/rules: build with GCC 10.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 12 May 2020 13:12:35 +0200

glibc (2.31-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Adds GNU hash support on MIPS (closes: #943538).
    - debian/symbols.wildcard: add 2.31.
    - debian/debhelper.in/libc-dev{,-alt}.install: drop libmvec_nonshared.a.
    - debian/patches/localedata/locales/ku_TR: rebased.
    - debian/patches/localedata/fo_FO-date_fmt.diff: rebased.
    - debian/patches/localedata/locales-fr.diff: rebased.
    - debian/patches/localedata/locale-zh_TW.diff: rebased.
    - debian/patches/localedata/submitted-bz9725-locale-sv_SE.diff:
      upstreamed.
    - debian/patches/localedata/submitted-en_AU-date_fmt.diff: upstreamed.
    - debian/patches/alpha/local-string-functions.diff: rebased.
    - debian/patches/hurd-i386/git-ONSTACK.diff: upstreamed.
    - debian/patches/hurd-i386/git-getrandom.diff: upstreamed.
    - debian/patches/hurd-i386/git-altstack-RPC.diff: upstreamed.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: rebased.
    - debian/patches/hurd-i386/git-context_functions.diff: upstreamed.
    - debian/patches/hurd-i386/tg-thread-cancel.diff: rebased.
    - debian/patches/hurd-i386/git-sendmsg-SCM_RIGHTS.diff: upstreamed.
    - debian/patches/hurd-i386/git-hurdsig-fixes.diff: upstreamed.
    - debian/patches/hurd-i386/git-hurdsig-global-dispositions.diff:
      upstreamed.
    - debian/patches/hurd-i386/git-hurdsig-globaldisp-version.diff: upstreamed.
    - debian/patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: rebased.
    - debian/patches/hurd-i386/git-hurdsig-fixes-2.diff: upstreamed.
    - debian/patches/hurd-i386/git-hurdsig-boot-fix.diff: upstreamed.
    - debian/patches/hurd-i386/git-single-select-timeout.diff: upstreamed.
    - debian/patches/hurd-i386/git-setitimer.diff: upstreamed.
    - debian/patches/hurd-i386/git-remap_getcwd.diff: upstreamed.
    - debian/patches/hurd-i386/git-io_select_timeout.diff: upstreamed.
    - debian/patches/hurd-i386/git-poll_errors_fixes.diff: upstreamed.
    - debian/patches/hurd-i386/local-mach_print.diff: rebased.
    - debian/patches/hurd-i386/local-exec_filename.diff: rebased.
    - debian/patches/hurd-i386/git-libpthread_sigs.diff: upstreamed.
    - debian/patches/hurd-i386/git-hurd_sigstate-PLT.diff: upstreamed.
    - debian/patches/hurd-i386/git-rlock.diff: upstreamed.
    - debian/patches/hurd-i386/git-errno_location.diff: upstreamed.
    - debian/patches/powerpc/local-powerpc8xx-dcbz.diff: rebased.
    - debian/patches/sh4/local-fpscr_values.diff: rebased.
    - debian/patches/any/local-ldconfig.diff: upstreamed.
    - debian/patches/any/submitted-bits-fcntl_h-at.diff: rebased.
    - debian/patches/any/unsubmitted-dlopen-static-crash.diff: obsolete.
    - debian/patches/any/local-test-install.diff: rebased.
  * debian/control.in/libc: add a Breaks on openssh-server (<< 1:8.1p1-5) on
    32-bit architectures with seccomp support, to the allow clock_gettime64
    syscall.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Refresh.
  * debian/patches/hurd-i386/submitted-net.diff: Refresh.
  * debian/testsuite-xfail-debian.mk: Update hurd-i386 results.
  * debian/debhelper.in/libc-dev.install.hurd-i386: Do not install
    libpthread_nonshared, removed upstream.
  * debian/patches/hurd-i386/local-atfork-link.diff: Remove, now useless.
  * debian/patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Fix build.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 Mar 2020 07:10:01 +0100

glibc (2.30-8) unstable; urgency=medium

  * sysdeps/hurd.mk: Move ld.so link creation to hurd-i386.mk since it is
    32bit-specific.
  * sysdeps/hurd-i386.mk: Move i386-specific mach headers to multiarch
    directory, so they get accessible from the "machine" symlink of the
    gnumach-dev package.
  * patches/hurd-i386/git-ss_init.diff: Add missing ss initialization. Fixes
    Xorg startup error, and possibly a lot other bugs with threads.

 -- Samuel Thibault <sthibault@debian.org>  Mon, 11 May 2020 02:04:03 +0200

glibc (2.30-7) unstable; urgency=medium

  * debian/debhelper.in/libc.postinst: re-add /etc/ld.so.nohwcapc code.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 May 2020 20:12:38 +0200

glibc (2.30-6) unstable; urgency=medium

  * debian/sysdeps/s390x.mk: do not set libc_rtlddir, it is set to the
    default.
  * debian/rules.d/debhelper.mk: only create the dynamic linker in the udeb
    if it doesn't already exist.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 May 2020 12:32:42 +0200

glibc (2.30-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-trunc-times.diff: New patch to fix updating
    mtime/ctime on O_TRUNC.  Closes: #955270.
  * debian/control: Drop dependency on libihash-dev, not used any more by htl.
  * debian/sysdeps/hurd.mk: Try to symlink mach/hurd headers from multiarch
    directory when they are there.

  [ Aurelien Jarno ]
  * debian/rules: Add -fdebug-prefix-map= to CFLAGS to improve
    reproducibility.
  * debian/control.in/libc: Make libcX-dev declare a Breaks against python3.7
    (<< 3.7.7-1+b1) and python3.8 (<< 3.8.2-1+b1) due to #955474.
  * debian/rules.d/debhelper.mk: install the dynamic loader symlink in the
    udeb package.
  * debian/control: conflict against libgcc-X-dev versions that might need the
    __glibc_has_include macro.
  * debian/patches/any/local-revert-glibc_has_include.diff: drop patch,
    obsolete.
  * debian/control.in/libc: add a Provides: libc6-dbgsym to the libc6-dbg
    package.  Closes: #953654.
  * debian/control.in/libc: qualify the libselinux-dev build-depends with
    <!stage2>.
  * debian/debhelper.in/libc.postinst: drop the code removing
    /etc/ld.so.hwcappkgs, it's not needed anymore since Squeeze.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes data race in setting function descriptor during lazy binding on
      hppa. Closes: #941174.
    - debian/patches/any/local-tst-system-disable-shell-tests.diff: obsolete.

  [ Helmut Grohne ]
  * Refactor generation of multilib include symlinks. (Closes: #958674).
  * Initial, minimal support for DPKG_ROOT. (Closes: #910685).

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 04 May 2020 23:39:18 +0200

glibc (2.30-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.preinst, debian/rules.d/debhelper.mk: there
    is no easy way to check if a file belongs to a package with usrmerge.
    Just drop all safety checks...  Closes: #954915.
  * debian/patches/any/local-tst-system-disable-shell-tests.diff: disable
    tests that rely on a particular shell until a fix is found upstream.

  [ John Paul Adrian Glaubitz ]
  * debian/testsuite-xfail-debian.mk: mark nptl/tst-cond8-static and
    nptl/tst-mutex{,pi}8-static as XFAIL on sparc64.  Closes: #953869.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 25 Mar 2020 13:56:56 +0100

glibc (2.30-3) unstable; urgency=medium

  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a defect in the PowerPC backtrace function that could cause an
      out-of-bounds write when executed in a signal frame context
      (CVE-2020-1751).
    - Fix use-after-free vulnerability in the glob function when expanding
      ~user (CVE-2020-1752).  Closes: #953788.
  * debian/debhelper.in/libc.preinst, debian/rules.d/debhelper.mk: determine
    ld.so ELF magic at build time instead of at run time to avoid using
    "readlink -m".  Closes: #954374.
  * debian/rules.d/build.mk: unset LANGUAGE when running the testsuite.
  * debian/testsuite-xfail-debian.mk: ignore signal/tst-minsigstksz-1 and
    signal/tst-minsigstksz-2 on i386, they fail on i386 with an AVX-512 CPUs
    due to a kernel bug.  Closes: #954715.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: Make libcX-dev
    declare a Breaks against libcX-dev-${DEB_HOST_ARCH}-cross
    (<< ${CURRENT_UPSTREAM_VERSION}~).  Closes: #954393.
  * debian/control.in/libc, debian/control.in/main: drop Conflicts, Breaks and
    Replaces against package version older than the one available in
    oldstable.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 24 Mar 2020 23:31:35 +0100

glibc (2.30-2) unstable; urgency=medium

  * debian/rules.d/debhelper.mk: depends on libgcc-sN instead of libgccN.
    Closes: #953657.
  * debian/rules.d/build.mk: do not install <finclude/math-vector-fortran.h>
    for now as it is not multiarch safe.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 Mar 2020 23:47:03 +0100

glibc (2.30-1) unstable; urgency=medium

  [ Samuel Thibault ]
  * testsuite-xfail-debian.mk: Update non-regressions.
  * debian/patches/hurd-i386/git-fork-pthread_exit.diff: New patch to fix
    pthread_exit after fork.
  * debian/patches/hurd-i386/git-spin_lock.diff: New patch to fix
    pthread_spin_lock behavior for shared memory.
  * debian/patches/hurd-i386/git-barrier-1.diff: New patch to fix
    pthread_barrier_wait with one thread.
  * debian/patches/hurd-i386/git-sem-intr.diff: New patch to make
    sem_wait/timedwait interruptible.
  * debian/patches/hurd-i386/local-atfork-link.diff: New patch to fix
    libpthread link.
  * debian/patches/hurd-i386/git-register-atfork.diff: Fix linking with static
    libpthread.
  * debian/patches/hurd-i386/git-pthread_self.diff: New patch to improve
    libpthread performance.

  [ Aurelien Jarno ]
  * debian/patches/any/local-revert-24323.diff: drop, obsolete.
  * debian/control.in/libc: add a Breaks: against wcc (<< 0.0.2+dfsg-3).
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix argument passing for inlined syscalls on mips* and riscv64.
      Closes: #951237.
    - Fix stack corruption in trigonometric functions when passing a
      pseudo-zero argument on x86 (CVE-2020-10029).  Closes: #953108.
    - debian/patches/any/submitted-stt-gnu-ifunc-detection.patch: upstreamed.
  * debian/sysdeps/*.mk: stop building libcrypt for multilib packages.
    Closes: #951880.
  * debian/debhelper.in/libc.postinst: drop upstart support.
  * debian/patches/any/local-revert-glibc_has_include.diff: partial revert
    of upstream commit bfa864e1645e until gcc stops providing fix-includes.
    Closes: #953083.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 11 Mar 2020 22:02:51 +0100

glibc (2.30-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/patches/any/submitted-stt-gnu-ifunc-detection.patch: fix
    STT_GNU_IFUNC assembler and linker detection for toolchains defaulting to
    PIE.
  * debian/sysdeps/mips*.mk: drop -no-pie.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 05 Feb 2020 23:01:35 +0100

glibc (2.30-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-sendmsg-SCM_RIGHTS.diff: Rename to
    git-sendmsg-SCM_RIGHTS.diff.
  * patches/hurd-i386/tg-context_functions.diff: Rename to
    git-context_functions.diff.
  * patches/hurd-i386/tg-hurdsig-fixes.diff: Rename to git-hurdsig-fixes.diff.
  * patches/hurd-i386/tg-hurdsig-global-dispositions.diff: Rename to
    git-hurdsig-global-dispositions.diff, refresh.
  * patches/hurd-i386/local-hurdsig-globaldisp-version.diff: Rename to
    git-hurdsig-globaldisp-version.diff.
  * patches/hurd-i386/tg-hurdsig-fixes-2.diff: Rename to
    git-hurdsig-fixes-2.diff.
  * patches/hurd-i386/tg-hurdsig-boot-fix.diff: Rename to
    git-hurdsig-boot-fix.diff.
  * patches/hurd-i386/libpthread_sigs.diff: Rename to libpthread_sigs.diff.
  * patches/hurd-i386/local-hurd_sigstate-PLT.diff: Rename to
    git-hurd_sigstate-PLT.diff.
  * patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Refresh.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 02 Jan 2020 12:16:20 +0100

glibc (2.30-0experimental0) experimental; urgency=medium

  [ Adam Conrad ]
  * New upstream release 2.30, with git updates up to 2019-09-08:
    - debian/symbols.wildcard: Add 2.30, and debian/control: Regenerate.
    - debian/patches/any/git-libio-stdout-putc.diff: Upstreamed.
    - debian/patches/any/git-pexpect-pretty-printers.diff: Upstreamed.
    - debian/patches/any/git-socket-constants.diff: Upstreamed.
    - debian/patches/any/local-tst-eintr1-eagain.diff: Obsolete.
    - debian/patches/hurd-i386/git-renameat2.diff: Upstreamed.
    - debian/patches/any/submitted-resolv-unaligned.diff: Rebased.
    - debian/patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Rebased.
    - debian/patches/hurd-i386/tg-hurdsig-fixes-2.diff: Rebased.
    - debian/patches/hurd-i386/tg-hurdsig-fixes.diff: Rebased.
    - debian/patches/hurd-i386/tg-hurdsig-global-dispositions.diff: Rebased.
    - debian/patches/hurd-i386/tg-io_select_timeout.diff: Rebased.
    - debian/patches/hurd-i386/tg-thread-cancel.diff: Rebased.
    - debian/patches/kfreebsd/submitted-auxv.diff: Rebased.
    - debian/patches/locale/locale-print-LANGUAGE.diff: Update for new test.
  * debian/patches/any/local-test-install.diff: Use install_root rather than
    DESTDIR when installing container root, since we override install_root.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-fix-nss.diff: Rebased.
  * debian/patches/hurd-i386/{tg-single-select-timeout.diff,tg-setitimer.diff,
    tg-remap_getcwd.diff,tg-io_select_timeout.diff,tg-poll_errors_fixes.diff,
    submitted-anon-mmap-shared.diff,tg-ONSTACK.diff}: Rename to git-foo,
    committed upstream for 2.31.
  * debian/testsuite-xfail-debian.mk: Update with new failing tests and fixed
    tests.
  * debian/patches/hurd-i386/git-ONSTACK.diff: Move earlier in the queue,
    since was applied upstream.
  * debian/patches/hurd-i386/tg-hurdsig-global-dispositions.diff: Rebase
    accordingly.
  * debian/patches/hurd-i386/libpthread_version.diff: Remove, now useless.
  * debian/patches/hurd-i386/local-hurdsig-globaldisp-version.diff: Remove
    version compatibility symbols, now useless.
  * debian/libc0.3.symbols.hurd-i386: Update accordingly.
  * debian/patches/hurd-i386/tg-sysvshm.diff: Fix warning.
  * debian/patches/hurd-i386/local-versionshack.diff: Remove, now useless.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 06 Dec 2019 23:18:04 +0100

glibc (2.29-10) unstable; urgency=medium

  * debian/debhelper.in/libc.{preinst,postrm}: Remove fallback to dpkg
    --print-architecture for pre-multiarch systems.
  * debian/debhelper.in/libc.preinst: fallback to text output in case
    perl debconf is used and perl is not usable.  Closes: #946599, #950389.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 04 Feb 2020 20:37:26 +0100

glibc (2.29-9) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/local-fix-nss.diff: Refresh.
  * patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Fix setitimer.

  [ Aurelien Jarno ]
  * debian/sysdeps/{amd64,x32}.mk: do not optimize i386 pass for pentium4.
    Closes: #948396.
  * debian/patches/any/local-revert-24323.diff: revert upstream change
    preventing dlopening PIE executable, The patch is correct, but breaks
    the autopkgtest for wcc and prevents the migration of glibc to testing.
    Revert it temporarily until wcc is fixed. See #948613.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 10 Jan 2020 23:21:25 +0100

glibc (2.29-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/posix_openpt.diff: Add posix_openpt support.
  * patches/hurd-i386/git-errno_location.diff: Fix pthread link of protobuf.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes ASLR bypass for setuid programs (CVE-2019-19126).  Closes: #945250.
    - debian/patches/any/git-socket-constants.diff: upstreamed.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 05 Jan 2020 13:03:42 +0100

glibc (2.29-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/git-altstack-RPC.diff: Fix restoring from altstack while
    blocked in an RPC.
  * patches/hurd-i386/git-getrandom.diff: Add support for getrandom &
    getentropy.

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: change dependency from libcrypt1-dev to
    libcrypt-dev.  Closes: #947778.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 30 Dec 2019 19:12:42 +0100

glibc (2.29-6) unstable; urgency=medium

  * debian/shlibs-add-udebs: drop libcrypt.
  * Fix rebootstrap and cross-toolchain-base (Closes: #946396):
    - debian/control.in/libc: replace libcrypt1 by ${libcrypt:Depends} and
      libcrypt1-dev by ${libcrypt-dev:Depends}.
    - debian/rules.d/debhelper.mk: add libcrypt:Depends=libcrypt1 and
      libcrypt-dev:Depends=libcrypt1-dev to substvars unless build with stage1
      or stage2 profiles.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 10 Dec 2019 00:06:38 +0100

glibc (2.29-5) unstable; urgency=medium

  * Upload to unstable.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 06 Dec 2019 21:33:17 +0100

glibc (2.29-4) experimental; urgency=medium

  [ Aurelien Jarno ]
  * Upload to experimental.
  * debian/control.in/libc: make libc depends on libcrypt1, libc-dev depends
    on libcrypt1-dev and libc-udeb depends on libcrypt1-udeb.  Closes:
    #941853.
  * debian/rules, debian/rules.d/build.mk, debian/rules.d/debhelper.mk,
    debian/sysdeps/amd64.mk: disable libcrypt by passing --disable-crypt
    except for bi/triarch builds.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 25 Nov 2019 22:36:50 +0100

glibc (2.29-3) unstable; urgency=medium

  [ Svante Signell ]
  * patches/hurd-i386/git-rlock.diff: New patch to add support for record
    locking.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-locarchive.diff,tg-WRLCK-upgrade.diff: Remove, now
    useless.
  * control: Bump hurd-dev dependency to get record locking RPC.
  * libc0.3.symbols.hurd-i386: Update accordingly.
  * patches/arm/unsubmitted-ldso-abi-check.diff: Remove obsolete patch.
    Closes: #943798.

 -- Samuel Thibault <sthibault@debian.org>  Thu, 31 Oct 2019 23:31:12 +0100

glibc (2.29-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/main: drop the <!nocheck> profile from the
    python3:native build-depends.  Closes: #939871.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix getegid, geteuid and getppid on alpha with < 5.1 kernels.
      Closes: #939898.

  [ Sven Joachim ]
  * debian/script.in/nsscheck.sh: Do not restart services of different
    architecture than libc.  Closes: #700472.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-anon-mmap-shared.diff: Re-disable, actually
    makes some tests fail.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 20 Sep 2019 21:39:03 +0200

glibc (2.29-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix math tests on alpha.
  * debian/sysdeps/alpha.mk, debian/control.in/main: do not force build with
    gcc-8.
  * debian/testsuite-xfail-debian.mk: XFAIL narrowing add/sub tests, they
    have always failed since they have been introduced.
  * debian/control.in/libc: add a Breaks: iraf-fitsutil (<< 2018.07.06-4) to
    libc0.1/0.3/6/6.1. See bug#939523.
  * debian/testsuite-xfail-debian.mk: drop XFAILs related to the wrong value
    of (MIN)SIGSTKSZ for 32-bit processes on arm64, now that (old-)stable
    kernels are fixed.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-anon-mmap-shared.diff: Enable, now that
    hurd 2017 is behind.
  * control: Break old version of hurd package accordingly.
  * debian/patches/hurd-i386/local-exec_filename.diff: Fix glibc 2.26
    _hurd_exec_paths symbol visibility.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 08 Sep 2019 22:34:02 +0200

glibc (2.29-0experimental1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/hurd-i386/submitted-net.diff: rebase.
  * debian/patches/hurd-i386/local-fix-nss.diff: rebase.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix math tests on hppa.
  * debian/testsuite-xfail-debian.mk: XFAIL two new tests on HPPA that are
    due to a bug in the testsuite, reported upstream.
  * debian/sysdeps/sparc64.mk: disable PIE on sparc64 as it produces broken
    binaries, causing issues in the testsuite.
  * debian/sysdeps/alpha.mk, debian/control.in/main: build with gcc-8 on alpha
    as gcc-9 introduces math errors in the testsuite.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 21 Aug 2019 11:13:51 +0200

glibc (2.29-0experimental0) experimental; urgency=medium

  [ Adam Conrad ]
  * New upstream release 2.29, with git updates up to 2019-02-20:
    - Add PF_XDP, AF_XDP and SOL_XDP to bits/socket.h.  Closes: #933800.
    - debian/symbols.wildcard: Add 2.29, and debian/control: Regenrate.
    - debian/patches/localedata/locales_CH.diff: Applied upstream.
    - debian/patches/localedata/submitted-it_IT-thousands_sep.diff: Upstreamed.
    - debian/patches/localedata/git-en_US-date_fmt.diff: Applied upstream.
    - debian/patches/hurd-i386/git-magic-pid.diff: Applied upstream.
    - debian/patches/hurd-i386/git-interrupt_timeout_EIO.diff: Upstreamed.
    - debian/patches/hurd-i386/git-interrupt_timeout.diff: Applied upstream.
    - debian/patches/hurd-i386/git-intr-msg.diff: Applied upstream.
    - debian/patches/hurd-i386/git-pci.diff: Applied upstream.
    - debian/patches/hurd-i386/git-msync.diff: Applied upstream.
    - debian/patches/hurd-i386/git-spawn-open.diff: Applied upstream.
    - debian/patches/hurd-i386/git-tst-preadvwritev2-common.c.diff: Upstreamed.
    - debian/patches/hurd-i386/git-fcntl64.diff: Applied upstream.
    - debian/patches/hurd-i386/git-lockf-0.diff: Applied upstream.
    - debian/patches/hurd-i386/git-libpthread_setpshared.diff: Upstreamed.
    - debian/patches/hurd-i386/git-AT_EMPTY_PATH.diff: Applied upstream.
    - debian/patches/hurd-i386/git-altstack.diff: Applied upstream.
    - debian/patches/riscv64/git-thread-debugging.diff: Applied upstream.
    - debian/patches/sparc/submitted-sparc64-socketcall.diff: Applied upstream.
    - debian/patches/any/local-tst-mktime2.diff: Applied upstream.
    - debian/patches/all/local-remove-manual.diff: Rebased.
    - debian/patches/alpha/local-string-functions.diff: Rebased.
    - debian/patches/any/git-libio-stdout-putc.diff: Rebased.
    - debian/patches/hurd-i386/local-exec_filename.diff: Rebased.
    - debian/patches/hurd-i386/local-hurdsig-globaldisp-version.diff: Rebased.
    - debian/patches/hurd-i386/submitted-anon-mmap-shared.diff: Rebased.
    - debian/patches/hurd-i386/tg-EGREGIOUS-fr.diff: Rebased.
    - debian/patches/hurd-i386/tg-EIEIO-fr.diff: Rebased.
    - debian/patches/hurd-i386/tg-hurdsig-global-dispositions.diff: Rebased.
    - debian/patches/hurd-i386/tg-io_select_timeout.diff: Rebased.
    - debian/patches/kfreebsd/submitted-auxv.diff: Rebased.
  * debian/rules.d/build.mk: Switch to new localedata/install-locale-files:
    - debian/patches/localedata/local-all-no-archive.diff: Dropped for above.
  * debian/testsuite-xfail-debian.mk: XFAIL tst-thread-exit-clobber, and
    tst-minsigstksz*, and tst-xsigstack on armhf, which fail on aarch64 hosts.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-net.diff: Rebased.
  * debian/patches/hurd-i386/tg-bits_atomic.h_multiple_threads.diff: Rebased.
  * debian/patches/hurd-i386/local-fix-nss.diff: Fix tst-nss-test3 test.
  * debian/testsuite-xfail-debian.mk: Clean out test build failures, they are
    now handled upstream. Clean out now-fixed tests.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix build on alpha with recent kernel headers.  Closes: #934823.
    - debian/patches/any/git-libio-stdout-putc.diff: rebased.
  * debian/control.in/main, debian/rules: drop the multiarch-support package.
    Closes: #910669.
  * debian/glibc-source.filelist, debian/libc6.symbols.powerpcspe,
    debian/rules.d/control.mk, debian/sysdeps/powerpcspe.mk,
    debian/testsuite-xfail-debian.mk: Drop the powerpcspe architecture, it is
    not supported anymore by GCC 9 and will be removed in GLIBC 2.30.
  * debian/rules: do not export SHELL, it is already set through configparms.
  * debian/patches/git-pexpect-pretty-printers.diff: backport pretty printer
    fix to support recent versions of GDB with color output.
  * debian/testsuite-xfail-debian.mk: drop XFAILs that were due to kernel bugs
    which are now fixed in both oldstable and stable kernels.
  * debian/rules: drop -no-pie -fno-PIE options. This is now fully supported
    by the GNU libc.
  * debian/testsuite-xfail-debian.mk: drop XFAILs that have been fixed for
    quite some time.
  * debian/control.in/main, debian/rules: build with GCC 9.
  * debian/sysdeps/mips*.mk: drop -mno-plt, but keep -mno-pie.
  * debian/patches/any/git-socket-constants.diff: backport upstream change to
    use in-tree copy of SO_ constants for !__USE_MISC to fix compatibility
    with recent kernel headers.
  * debian/shlibs-add-udebs: remove the udeb entries automatically added by
    dh_makeshlibs before proceeding to workaround debhelper bugs#934889 and
    #934891.

  [ YunQiang Su ]
  * Fix ld.so link on mips{64,n32}r6{,el}.  Closes: #933513.

  [ Sven Mueller ]
  * debian/rules: honor noudeb build profile.  Closes: #930734.

  [ Josh Triplett ]
  * debian/patches/any/submitted-ld.so-cache-new-format.diff: default to the
    new format for ld.so.cache.  Closes: #908946.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 16 Aug 2019 12:42:42 +0200

glibc (2.28-10) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix infinite loop in pldd.  Closes: #913929.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 01 May 2019 19:24:19 +0200

glibc (2.28-9) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix heap-based buffer over-read in regular-expression matching
      (CVE-2019-9169).  Closes: #924612.
    - Add entry for the new Japanese era to the ja_JP locale.  Closes:
      #927914.

  [ Adam Conrad ]
  * debian/patches/arm/unsubmitted-ldso-abi-check.diff: Fix rtld segv in
    dl_open() introduced via merge with upstream at 2.28 (LP: #1821677)

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 25 Apr 2019 21:12:03 +0200

glibc (2.28-8) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * Update Danish debconf translation, by Joe Hansen.  Closes: #923055.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/libpthread_sigs.diff: Enable patch to restore
    per-thread signal distribution, lost on upgrading to 2.28. Fixes go.
  * debian/patches/hurd-i386/git-renameat2.diff: New patch, fixes renameat2,
    now used by coreutils.

 -- Samuel Thibault <sthibault@debian.org>  Wed, 27 Feb 2019 21:56:01 -0800

glibc (2.28-7) unstable; urgency=medium

  * debian/patches/hurd-i386/local-no-bootstrap-fs-access.diff: Refresh.

 -- Samuel Thibault <sthibault@debian.org>  Sat, 09 Feb 2019 18:34:27 +0100

glibc (2.28-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-AT_EMPTY_PATH.diff: New patch, fixes qt's
    file size query.
  * debian/patches/hurd-i386/git-altstack.diff: New patch, fixes altstack
    initial state.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a buffer overflow in string/memory functions on x32 (CVE-2019-6488).
    - Reject IP addresses with trailing characters (CVE-2016-10739).  Closes:
      #920047.
    - Fix wrong return value for memcmp on amd64 and x32 due to mishandling
      of most significant bit (CVE-2019-7309).
  * Update Russian debconf translation, by Lev Lamberov.  Closes:
    #921165.
  * debian/patches/any/local-ldso-disable-hwcap.diff: only check for
    /etc/ld.so.nohwcap on alpha, hurd-i386 and i386. Based on a patch from
    Josh Triplett.  Closes: #908928.
  * debian/patches/any/git-libio-stdout-putc.diff: fix puts and putchar output
    with change stdout pointer.  Closes: #761300.
  * debhelper.in/locales.bug-presubj: drop obsolete file, the dependency
    mechanism for locales has been changes a lot of time ago.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 Feb 2019 19:55:42 +0100

glibc (2.28-5) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/script.in/nsscheck.sh: fix a typo s/samaba/samba/. Closes:
    #909047.
  * debian/debhelper.in/libc.postrm: suidmanager is long gone, remove support
    for it.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/arm/submitted-gcc-8-kernel-assisted-atomics.diff:
      upstreamed.
    - any/submitted-workaround-math-errno-gcc-bug.diff: upstreamed.
  * debian/control.in/libc: fix nocache Breaks, set it to (<< 1.1-1~). Closes:
    #918583.
  * debian/patches/localedata/git-en_US-date_fmt.diff: backport from upstream
    support for date_fmt for the en_US locale. Closes: #877900.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-libpthread_setpshared.diff: New patch to
    avoid letting packages use setpshared.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 12 Jan 2019 18:50:25 +0100

glibc (2.28-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: whitelist math/test-fenv on riscv64.
    This failure is also due to a kernel bug.
  * debian/sysdeps/riscv64.mk: increase TIMEOUTFACTOR to 100 on riscv64.
  * debian/local/manpages/*: remove manpages that are not installed in the
    binary packages.
  * debian/local/manpages/po/de.po: update German manpages translations, by
    Helge Kreutzmann. Closes: #877434.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/any/submitted-sigaction-sa-restorer.diff: upstreamed.
  * debian/testsuite-xfail-debian.mk: whitelist tests that sometimes fail in
    a riscv64 QEMU VM, but not on a HiFive Unleashed board.
  * debian/patches/submitted-gcc-8-kernel-assisted-atomics.diff: fix kernel
    assisted atomics on armel with GCC 8.
  * debian/control.in/main, debian/sysdeps/armel.mk: build with GCC 8 on
    armel.
  * debian/patches/any/submitted-workaround-math-errno-gcc-bug.diff:
    workaround GCC bug BZ #88576 / Debian #917115 by not using -fmath-errno
    outside of libm.  Closes: #916779.
  * debian/patches/riscv64/git-thread-debugging.diff: fix thread debugging
    in gdb on riscv64.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: whitelist failing new tests on hurd.
  * debian/patches/hurd-i386/git-fcntl64.diff: Fix 64bit implementation.
  * debian/patches/hurd-i386/tg-context_functions.diff: Update from topgit.
  * debian/patches/hurd-i386/tg-sysvshm.diff: Update from topgit.
  * debian/patches/hurd-i386/tg-magic-pid.diff: rename to git-magic-pid.diff.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 29 Dec 2018 11:04:27 +0100

glibc (2.28-3) unstable; urgency=medium

  [ John David Anglin ]
  * debian/testsuite-xfail-debian.mk: whitelist misc/tst-preadvwritev2,
    misc/tst-preadvwritev64v2 and test-xfail-tst-setcontext7 on hppa.  Closes:
    #915676.

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: whitelist math/test-float64x-float128-mul
    on sparc64.  Closes: #916124.
  * debian/control.in/libc: add a Breaks: nocache (<< 1.0-1 ) to
    @libc@ as it doesn't work with glibc 2.28.
  * debian/testsuite-xfail-debian.mk: whitelist math/test-fpucw,
    math/test-fpucw-ieee, math/test-fpucw-ieee-static and
    math/test-fpucw-static on riscv64. Thoses failures are due to a kernel
    bug.
  * debian/sysdeps/riscv64.mk: increase TIMEOUTFACTOR to 50 on riscv64.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/riscv64/submitted-start-cfi.diff: upstreamed.
  * debian/patches/submitted-sigaction-sa-restorer.diff: fix a regression in
    sigaction on m68k.  Closes: #915958.
  * debian/script.in/nsscheck.sh: drop direct support for file-rc and always
    run invoke-rc.d instead. invoke-rc.d in stretch has support for file-rc.
    Closes: #916588.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 16 Dec 2018 18:25:59 +0100

glibc (2.28-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/git-fcntl64.diff: Fix returning value returned by
    __f_setlk.

  [ Aurelien Jarno ]
  * debian/control.in/libc: breaks r-cran-later (<< 0.7.5+dfsg-2), ie
    versions built with tinycthread.  Closes: #915339.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/testsuite-xfail-debian.mk: allow tst-pkey to fail on ppc64el, ppc64
    powerpc and powerpcspe as the glibc implementation is still only partial.
    Closes: #914997.
  * debian/control.in/main: glibc-source: add breaks on cross-toolchain-base
    (<< 29~) and cross-toolchain-base-ports (<< 25~) as those packages are not
    compatible with glibc 2.28.  Closes: #915621.
  * debian/testsuite-xfail-debian.mk: whitelist misc/tst-preadvwritev2 and
    misc/tst-preadvwritev64v2 on x32. The failing part of those tests is new,
    and the it looks like a kernel bug in the compat layer.
  * debian/testsuite-xfail-debian.mk: whitelist elf/tst-execstack-needed on
    riscv64, it is similar to the already whitelisted test
    elf/test-xfail-tst-execstack.
  * debian/debhelper.in/locales.postinst: fix regexp checking for installed
    locales package.  Closes: #903964.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 05 Dec 2018 19:50:21 +0100

glibc (2.28-1) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/git-fcntl64.diff: Fix tst-utmp* tests.
  * debian/patches/hurd-i386/tg-WRLCK-upgrade.diff: Refresh.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a file descriptor leak in if_nametoindex() (CVE-2018-19591).
      Closes: #914837.
  * debian/control.in/main: Update Vcs-Git to point to the default branch.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 28 Nov 2018 23:42:08 +0100

glibc (2.28-0experimental1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/main: Update Vcs-Git to point to the 2.28 branch.
  * debian/testsuite-xfail-debian.mk: Allow nptl/tst-signal6 to fail on armhf.
    The failure is due to a kernel bug when building armhf on an ARM64
    machine.
  * debian/testsuite-xfail-debian.mk: Allow math/test-ildouble-fma and
    math/test-ldouble-fma to fail on powerpc, ppc64, ppc64el. This is a known
    bug and not a regression.
  * debian/testsuite-xfail-debian.mk: remove fixed XFAILs.
  * debian/testsuite-xfail-debian.mk: update XFAILs for the mips* Octeon 3 FPU
    bug with the new tests.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/control.in/main, debian/sysdeps/armel.mk: build with gcc-7 as
    gcc-8 triggers issues in the testsuite.

  [ Samuel Thibault ]
  * patches/hurd-i386/git-tst-preadvwritev2-common.c.diff: Backport fix for
    build failure.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 12 Nov 2018 21:54:56 +0100

glibc (2.28-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release:
    - Fix undefined behaviour in regexec.  Closes: #292550.
    - debian/control: regenerate.
    - debian/symbols.wildcard: update for 2.28.
    - debian/debhelper.in/libc-dev{,-alt}.install: do not install
      libpthread_nonshared.a.
    - debian/patches/git-updates.diff: update from upstream stable branch.
    - debian/patches/localedata/locale-ku_TR.diff: rebased.
    - debian/patches/localedata/locale-csb_PL.diff: dropped, obsolete.
    - debian/patches/localedata/locale-se_NO.diff: dropped, obsolete.
    - debian/patches/localedata/tailor-iso14651_t1.diff: rebased.
    - debian/patches/arm/local-sigaction.diff: rebased.
    - debian/patches/hppa/git-check-execstack.diff: upstreamed.
    - debian/patches/hurd-i386/tg-context_functions.diff: rebased.
    - debian/patches/hurd-i386/git-tls.diff: upstreamed.
    - debian/patches/hurd-i386/git-tls-threadvar.diff: upstreamed.
    - debian/patches/hurd-i386/tg-sysvshm.diff: rebased.
    - debian/patches/hurd-i386/git-_dl_random.diff: upstreamed.
    - debian/patches/hurd-i386/git-grantpt.diff: upstreamed.
    - debian/patches/hurd-i386/git-posix_thread.diff: upstreamed.
    - debian/patches/hurd-i386/git-gai_misc.diff: upstreamed.
    - debian/patches/hurd-i386/tg-hurdsig-fixes.diff: rebased.
    - debian/patches/hurd-i386/tg-hurdsig-global-dispositions.diff: rebased.
    - debian/patches/hurd-i386/local-hurdsig-global-dispositions-version.diff:
      rebased.
    - debian/patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: rebased.
    - debian/patches/hurd-i386/cvs-libpthread.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-libpthread.abilist.diff: upstreamed.
    - debian/patches/hurd-i386/libpthread_build.diff: upstreamed.
    - debian/patches/hurd-i386/tg-libpthread_depends.diff: upstreamed.
    - debian/patches/hurd-i386/libpthread_version.diff: rebased.
    - debian/patches/hurd-i386/tg-remap_getcwd.diff: rebased.
    - debian/patches/hurd-i386/git-exec-static.diff: upstreamed.
    - debian/patches/hurd-i386/git-socket_flags.diff: upstreamed.
    - debian/patches/hurd-i386/git-socketpair_flags.diff: upstreamed.
    - debian/patches/hurd-i386/git-pipe2.diff: upstreamed.
    - debian/patches/hurd-i386/tg-libc_getspecific.diff: dropped, obsolete.
    - debian/patches/hurd-i386/git-futimens.diff: upstreamed.
    - debian/patches/hurd-i386/tg-sigstate_thread_reference.diff: rebased.
    - debian/patches/hurd-i386/git-tls_thread_leak.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread-stacksize.diff: upstreamed.
    - debian/patches/hurd-i386/git-reboot-startup.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-revert-gnu-gnu-cleanup.diff: upstreamed.
    - debian/patches/hurd-i386/git-gsync-libc.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_deps.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread-gsync-spin.diff: upstreamed.
    - debian/patches/hurd-i386/git-libpthread-gsync-mutex.diff: upstreamed.
    - debian/patches/hurd-i386/git-NOFOLLOW.diff: upstreamed.
    - debian/patches/hurd-i386/git-NOFOLLOW-DIRECTORY.diff: upstreamed.
    - debian/patches/hurd-i386/git-mlockall.diff: upstreamed.
    - debian/patches/hurd-i386/git2.25-tls.diff: upstreamed.
    - debian/patches/hurd-i386/local-nocheck-installed-headers.diff: rebased.
    - debian/patches/hurd-i386/git-libpthread-2.26.diff: upstreamed.
    - debian/patches/hurd-i386/git-thread-linkspace.diff: upstreamed.
    - debian/patches/hurd-i386/libpthread_includes.diff: dropped, obsolete.
    - debian/patches/hurd-i386/local-exec_filename.diff: rebased.
    - debian/patches/hurd-i386/git-libpthread-trylock.diff: upstreamed.
    - debian/patches/hurd-i386/git-test-atexit-race-common.diff: upstreamed.
    - debian/patches/hurd-i386/git-UTIME.diff: upstreamed.
    - debian/patches/hurd-i386/git-timer_create_sigmask.diff: upstreamed.
    - debian/patches/hurd-i386/git-pthread_deps.diff: upstreamed.
    - debian/patches/kfreebsd/local-fbtl-depends.diff: rebased.
    - debian/patches/any/local-ldconfig-fsync.diff: dropped, obsolete.
    - debian/patches/any/submitted-bits-fcntl_h-at.diff: rebased.
    - debian/patches/any/submitted-intl-tstgettext.diff: upstreamed.
    - debian/patches/any/git-abilist-ignore-absolute.diff: upstreamed.
    - debian/debhelper.in/libc{-alt,-otherbuild,}.lintian-overrides: drop
      libcidn.so override.
    - debian/libc6.symbols.{common,hppa,sparc}, debian/libc6.1.symbols.alpha,
      debian/libc0.1.symbols.common, debian/libc0.3.symbols.hurd-i386: drop
      libcidn.so.
  * debian/control.in/main: bump binutils build-dependency to 2.29 on all
    architectures.
  * debian/control.in/main, debian/rules: build with GCC 8.
  * debian/control.in/main: build-depends on libidn2-0 (>= 2.0.5~) for the
    tests.
  * debian/control.in/libc: recommends libidn2-0 (>= 2.0.5~) to support IDN
    domain names in getaddrinfo and getnameinfo.
  * debian/testsuite-xfail-debian.mk: update XFAILs for the mips* Octeon 3 FPU
    bug with the new tests.
  * debian/control.in/main: bump Standards-Version to 4.2.1 (no changes).
  * debian/source/options: drop.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-gscope.diff: upstreamed.
  * debian/patches/hurd-i386/git-hurd-abilist.diff: Remove patch, now useless.
  * debian/patches/hurd-i386/git-pagesize.diff: upstreamed.
  * debian/patches/hurd-i386/git-timer_routines.diff: upstreamed.
  * debian/patches/hurd-i386/submitted-net.diff: rebased.
  * debian/patches/hurd-i386/tg-context_functions.diff: update.
  * debian/patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: update.
  * debian/patches/hurd-i386/tg-sysvshm.diff: update.
  * debian/patches/hurd-i386/tg-verify.h.diff: remove, now useless.
  * debian/patches/hurd-i386/tg2.26-sched_param.diff: upstreamed.
  * debian/patches/hurd-i386/libpthread_version.diff: Remove now-useless part.
  * debian/patches/hurd-i386/local-hurdsig-global-dispositions-version.diff:
    Likewise.
  * debian/patches/hurd-i386/tg-ifaddrs_v6.diff: Fix PLT.
  * debian/patches/hurd-i386/local-hurd_sigstate-PLT.diff: New patch to fix
    PLTs.
  * debian/patches/hurd-i386/libpthread_pthread_types.diff: Remove, now
    useless.
  * debian/patches/hurd-i386/local-nocheck-installed-headers.diff: Remove, now
    fixed.
  * debian/testsuite-xfail-debian.mk: Update.

  [ Adam Conrad ]
  * debian/patches/localedata/tailor-iso14651_t1.diff: Build without errors.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 30 Oct 2018 00:11:37 +0100

glibc (2.27-9) UNRELEASED; urgency=medium

  * debian/control: Bump hurd-dev dependency to >= 1:0.9.git20181030-1 to get
    pci.defs.
  * hurd-i386/git-pci.diff: Enable pci RPCs.
  * patches/hurd-i386/git-msync.diff: Support msync.
  * debian/control: Bump gnumach-dev build-dep accordingly.
  * libc0.3.symbols.hurd-i386: Update symbols accordingly.
  * patches/hurd-i386/git-spawn-open.diff: Fix crash on spawn with open
    operation.
  * patches/hurd-i386/git-lockf-0.diff: Support lockf at offset 0 with size 0 or
    1.

 -- Samuel Thibault <sthibault@debian.org>  Sat, 03 Nov 2018 22:50:40 +0100

glibc (2.27-8) unstable; urgency=medium

  * patches/hurd-i386/git-intr-msg.diff: Fix a cancellation case.
  * patches/hurd-i386/git-interrupt_timeout_EIO.diff: return EIEIO instead of
    EIO.

 -- Samuel Thibault <sthibault@debian.org>  Mon, 29 Oct 2018 21:36:01 +0100

glibc (2.27-7) unstable; urgency=medium

  * patches/hurd-i386/local-no_unsupported_ioctls.diff: Undefine useless bit
    macros too.
  * patches/hurd-i386/git-interrupt_timeout{,_EIO}.diff: Fix double-writes in
    ghc.
  * patches/hurd-i386/git-intr-msg.diff: Fix crashes due to a race between
    calling RPC and handling a signal.

 -- Samuel Thibault <sthibault@debian.org>  Sun, 28 Oct 2018 10:46:23 +0100

glibc (2.27-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-socket_flags.diff: Rename to git-socket_flags.diff.
  * patches/hurd-i386/tg-socketpair_flags.diff: Rename to
    git-socketpair_flags.diff.
  * patches/hurd-i386/tg-pipe2.diff: Rename to git-pipe2.diff.
  * patches/hurd-i386/tg-posix_thread.diff: Rename to git-posix_thread.diff.
  * patches/hurd-i386/tg-pthread_deps.diff: Rename to git-pthread_deps.diff.
  * patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Fix standardization of
    exposition of sigaction
  * patches/kfreebsd/local-tst-unique.diff: Fix patch application.
  * patches/hurd-i386/unsubmitted-getaux_at_secure.diff: Fix
    getauxval(AT_SECURE).
  * patches/hppa/git-check-execstack.diff: Ignore executable stacks.
    Closes: #904056.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Samuel Thibault <sthibault@debian.org>  Tue, 04 Sep 2018 21:13:02 +0200

glibc (2.27-5) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/any/git-abilist-ignore-absolute.diff: backport support
    for binutils 2.31 from upstream.
  * debian/rules.d/control.mk: Add support for riscv64.  Closes: #888793.
  * debian/testsuite-xfail-debian.mk: add reference testsuite results for
    riscv64.
  * debian/patches/git-updates.diff: update from upstream stable branch.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd-i386 result to new upstream
    stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 16 Jul 2018 22:23:13 +0200

glibc (2.27-4) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-gsync-libc.diff: Rename to hurd-i386/git-gsync-libc.diff.
  * hurd-i386/git-timer_create_sigmask.diff: New patch to fix interaction
    between SIGCHLD and timer_create.  Closes: Bug#894379.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix stack buffer overflow in realpath() (CVE-2018-11236).  Closes:
      #899071.
    - Fix buffer overflow in AVX-512-optimized implementation of mempcpy()
      (CVE-2018-11237).  Closes: #899070.
    - Fix crashes with binaries using vtable interposition.  Closes:
      #861116.
    - Fix LC_PAPER for es_BO locale.  Closes: #880675.
    - debian/patches/arm/unsubmitted-ldso-abi-check.diff: refresh, sigh.
  * debian/debhelper.in/libc.docs: do not try to install BUGS in the
    documentation, it has been removed upstream in version 2.27 as
    obsolete.  Closes: #902800.
  * debian/debhelper.in/libc-dev.docs: drop, as both CONFORMANCE and
    NAMESPACE have been removed upstream in version 2.27.
  * debian/debhelper.in/libc-dev-bin.docs: drop as NAMESPACE has been
    removed upstream in version 2.27.
  * debian/patches/riscv64/submitted-start-cfi.diff: fix endless loop
    when throwing an exception from a constructor.
  * debian/control.in/main: bump Standards-Version to 4.1.4 (no changes).

  [ Laurent Bigonville ]
  * debian/local/etc/nsswitch.conf: Switch from the compat to the files
    module.  Closes: #880846.

  [ Bjarni Ingi Gislason ]
  * debian/local/manpages/catchsegv.1: apply some corrections to the
    manpage.  Closes: #902236.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 07 Jul 2018 18:34:34 +0200

glibc (2.27-3) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-NOFOLLOW.diff: Rename to hurd-i386/git-NOFOLLOW.diff.
  * hurd-i386/tg-NOFOLLOW-DIRECTORY.diff: Rename to
    hurd-i386/git-NOFOLLOW-DIRECTORY.diff.
  * hurd-i386/tg-_dl_random.diff: Rename to hurd-i386/git-_dl_random.diff.
  * hurd-i386/tg-exec-static.diff: Rename to hurd-i386/git-exec-static.diff.
  * hurd-i386/tg-futimens.diff: Rename to hurd-i386/git-futimens.diff.
  * hurd-i386/tg-gai_misc.diff: Rename to hurd-i386/git-gai_misc.diff.
  * hurd-i386/tg-grantpt.diff: Rename to hurd-i386/git-grantpt.diff.
  * hurd-i386/tg-gscope.diff: Rename to hurd-i386/git-gscope.diff.
  * hurd-i386/tg-libpthread-gsync-mutex.diff: Rename to
    hurd-i386/git-libpthread-gsync-mutex.diff.
  * hurd-i386/tg-libpthread-gsync-spin.diff: Rename to
    hurd-i386/git-libpthread-gsync-spin.diff.
  * hurd-i386/tg-mlockall.diff: Rename to hurd-i386/git-mlockall.diff.
  * hurd-i386/tg-pagesize.diff: Rename to hurd-i386/git-pagesize.diff.
  * hurd-i386/tg-reboot-startup.diff: Rename to
    hurd-i386/git-reboot-startup.diff.
  * hurd-i386/tg-thread-linkspace.diff: Rename to
    hurd-i386/git-thread-linkspace.diff.
  * hurd-i386/tg-timer_routines.diff: Rename to
    hurd-i386/git-timer_routines.diff.
  * hurd-i386/tg-tls-threadvar.diff: Rename to
    hurd-i386/git-tls-threadvar.diff.
  * hurd-i386/tg-tls.diff: Rename to hurd-i386/git-tls.diff.
  * hurd-i386/tg-tls_thread_leak.diff: Rename to
    hurd-i386/git-tls_thread_leak.diff.
  * hurd-i386/tg2.25-tls.diff: Rename to hurd-i386/git2.25-tls.diff.
  * hurd-i386/submitted-hurd-abilist.diff: Rename to
    hurd-i386/git-hurd-abilist.diff.
  * hurd-i386/local-libpthread-stacksize.diff: Rename to
    hurd-i386/git-libpthread-stacksize.diff.

  [ Aurelien Jarno ]
  * debian/patches/localedata/locales-fr.diff: fix conversion from <Uxxxx>
    format to ascii during the latest rebase.  Closes: bug#894078.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a missing reorder-end keyword in et_EE locale.  Closes: #894395.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 29 Mar 2018 21:47:29 +0200

glibc (2.27-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-UTIME.diff: New patch.  Closes: #762677.
  * debian/control: Bump hurd build dep accordingly.
  * debian/libc0.3.symbols.hurd-i386: Update accordingly.

  [ Aurelien Jarno ]
  * debian/control.in/main: drop the branch from Vcs-Git.
  * debian/patches/any/local-bootstrap-headers.diff: update to install
    gnu/lib-names-$abi.h.  Closes: #892126.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix FTBFS on powerpcspe.
    - debian/patches/sparc/submitted-sparc32-makecontext.diff: upstreamed.

  [ Helmut Grohne ]
  * debian/rules: drop DEB_STAGE and DEB_BUILD_PROFILE support.
  * debian/rules: disable tests for stage1.
  * debian/control.in/*: drop libc*-dev -> libc* dependencies in stage1.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 09 Mar 2018 21:48:04 +0100

glibc (2.27-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/sysdeps/*.mk: install gnu/lib-names-*.h for multilib builds.
  * debian/patches/alpha/submitted-makecontext.diff: new patch to fix
    infinite backtrace within a context created by makecontext.
  * debian/patches/sparc/submitted-sparc32-makecontext.diff: new patch
    to fix infinite backtrace within a context created by makecontext.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 03 Mar 2018 11:47:56 +0100

glibc (2.27-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-test-atexit-race-common.diff: New patch,
    fixes hurd-i386 build.

  [ Aurelien Jarno ]
  * debian/patches/any/local-ldconfig-ignore-ld.so.diff: add riscv64 program
    interpreters.
  * debian/libc6.symbols.riscv64: add riscv64 symbols file.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/testsuite-xfail-debian.mk: Allow tst-malloc-usable-tunables to fail
    on alpha, arm64, mips64el, ppc64el, ppc64, s390x and sparc64. The failure
    is due to a kernel bug.
  * debian/control: Update Vcs-Git and Vcs-Browser fields following the move
    to Salsa.
  * debian/control.in/main: do not build-depends on g++-7-multilib for the
    nobiarch build profile.  Closes: #890131.
  * debian/rules.d/build.mk: use the just built iconvconfig if not
    cross-compiling.  Closes: #890132.
  * debian/patches/any/local-ldconfig.diff: fix a typo.
  * debian/patches/hurd-i386/submitted-bind_umask2.diff: fix a typo.
  * debian/patches/hurd-i386/tg-hurdsig-global-dispositions.diff: fix a typo.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: drop the version
    from the linux-libc-dev dependency, as the <bits/syscall.h> file is not
    generated anymore from the installed kernel headers.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 24 Feb 2018 23:49:00 +0100

glibc (2.27-0experimental0) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/git-abilist.diff: Add ABI list.
  * debian/patches/hurd-i386/cvs-libpthread.abilist.diff: Add libpthread ABI
  list.
  * debian/patches/hurd-i386/libpthread_version.diff: Add compatibility ABI
  list.
  * debian/patches/hurd-i386/local-exec_filename.diff: Add compatibility ABI
  list.
  * debian/patches/hurd-i386/local-hurdsig-global-dispositions-version.diff:
  Add additional ABI list.
  * debian/patches/hurd-i386/local-mach_print.diff: Add local ABI list.
  * debian/patches/hurd-i386/local-usr.diff: Fix local ABI list.
  * debian/patches/hurd-i386/tg-gsync-libc.diff: Update ABI list.
  * debian/patches/hurd-i386/tg-extern_inline.diff: Update ABI list.
  * debian/patches/hurd-i386/local-versions.diff: Remove, merged upstream.
  * debian/testsuite-xfail-debian.mk: Remove ABI list blacklist.

  [ Aurelien Jarno ]
  * New upstream version:
    - debian/control: regenerate.
    - debian/symbols.wildcards: update for 2.27.
    - debian/patches/hurd-i386/tg-tls-threadvar.diff: refreshed.
    - debian/patches/hurd-i386/tg-tlsdesc.sym.diff: upstreamed.
    - debian/patches/hurd-i386/tg-no-hp-timing.diff: upstreamed.
    - debian/patches/hurd-i386/local-hurdsig-global-dispositions-version.diff:
      refreshed.
    - debian/patches/hurd-i386/unsubmitted-gnumach.defs.diff: upstreamed.
    - debian/patches/hurd-i386/tg-sigstate_thread_reference.diff: upstreamed.
    - debian/patches/hurd-i386/tg-allocalim.diff: upstreamed.
    - debian/patches/hurd-i386/tg-extern_inline.diff: upstreamed.
    - debian/patches/hurd-i386/tg-gsync-libc.diff: upstreamed.
    - debian/patches/hurd-i386/tg2.26-sigsetops.h.diff: upstreamed.
    - debian/patches/hurd-i386/submitted-net.diff: refreshed.
    - debian/patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: refreshed.
    - debian/patches/hurd-i386/tg-fcntl-internal.h.diff: upstreamed.
    - debian/patches/hurd-i386/tg-pagesize.diff: refreshed.
  * debian/rules: tweak GCC garbage collector on 32-bit MIPS builders.
  * debian/rules.d/tarball.mk: do a local bare clone before using git archive
    as it doesn't support https.
  * debian/control.in/main, debian/sysdeps/{amd64,i386,x32}.mk: enable support
    for building static PIE.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 03 Feb 2018 16:31:03 +0100

glibc (2.26.9000+20180127.7e23a7dd-0experimental0) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-exec_filename.diff: Add glibc 2.26
    _hurd_exec_paths compatibility symbol for now.
  * debian/patches/hurd-i386/tg-gsync-libc.diff: Update.

  [ Aurelien Jarno ]
  * New upstream snapshot from 20180127:
    - Fix stack corruption by __pthread_register_cancel.  Closes: #887078,
      #887886.
    - debian/patches/hurd-i386/local-hurdsig-global-dispositions-version.diff:
      rebased.
    - debian/patches/hurd-i386/git-exec_filename.diff: upstreamed.
    - debian/patches/hurd-i386/tg-faccessat.diff: upstreamed.
    - debian/patches/hurd-i386/local-exec_filename.diff: rebased.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 27 Jan 2018 18:15:52 +0100

glibc (2.26.9000+20180108.401311cf-0experimental0) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/sysdeps/hurd.mk: Do not add libpthread add-on since add-ons
    mechanism is no more.
  * debian/patches/hurd-i386/submitted-net.diff: rebased.
  * debian/patches/hurd-i386/unsubmitted-prof-eintr.diff: rebased.
  * debian/patches/hurd-i386/libpthread_build.diff: Add more Implies to fix
    build.  Drop deprecated internal_function.
  * debian/patches/hurd-i386/libpthread_includes.diff: Move headers for
    sysdeps to find them.
  * debian/patches/hurd-i386/tg-gsync-libc.diff: Update.
  * debian/testsuite-xfail-debian.mk: Update for hurd-i386.

  [ Aurelien Jarno ]
  * New upstream snapshot from 20180108.
  * debian/control.in/main: Update Vcs-Git to point to the 2.27 branch.
  * debian/testsuite-xfail-debian.mk: update XFAILs for the mips*el Loongson 3
    FPU bug with the new tests.
  * debian/testsuite-xfail-debian.mk: the arm kernel also pulled the new pkey
    syscalls without real support, XFAIL the corresponding test.
  * debian/testsuite-xfail-debian.mk: remove two math XFAIL on armel now that
    GCC has been fixed.
  * debian/testsuite-xfail-debian.mk: update XFAILs for the mips* Octeon 3 FPU
    bug with the new tests.
  * debian/testsuite-xfail-debian.mk: update XFAILs on alpha, add new math
    tests only causing wrong exception flags, remove tests that have been
    fixed in this release.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 08 Jan 2018 23:27:20 +0100

glibc (2.26.9000+20180105.a6d0afb5-0experimental0) experimental; urgency=medium

  * New upstream snapshot from 20180105:
    - debian/patches/git-updates.diff: remove and disable.
    - debian/patches/locale/preprocessor-collate-uli-sucks.diff: drop,
      obsolete.
    - debian/patches/locale/preprocessor-collate.diff: drop, obsolete.
    - debian/patches/locale/LC_IDENTIFICATION-optional-fields.diff: rebased.
    - debian/patches/locale/LC_COLLATE-keywords-ordering.diff: drop, obsolete.
    - debian/patches/locale/local-all-no-archive.diff: rebased.
    - debian/patches/localedata/sort-UTF8-first.diff: rebased.
    - debian/patches/localedata/supported.diff: rebased.
    - debian/patches/localedata/new-valencian-locale.diff: upstreamed.
    - debian/patches/localedata/locale-ku_TR.diff: rebased.
    - debian/patches/localedata/tl_PH-yesexpr.diff: upstreamed.
    - debian/patches/localedata/fo_FO-date_fmt.diff: rebased.
    - debian/patches/localedata/locales_CH.diff: rebased.
    - debian/patches/localedata/locales-fr.diff: rebased.
    - debian/patches/localedata/locale-en_DK.diff: rebased.
    - debian/patches/localedata/locale-zh_TW.diff: rebased.
    - debian/patches/localedata/tailor-iso14651_t1.diff: rebased, partly
      upstreamed.
    - debian/patches/localedata/locale-hsb_DE.diff: upstreamed.
    - debian/patches/localedata/tailor-iso14651_t1-common.diff: drop,
      obsolete.
    - debian/patches/localedata/submitted-bz9725-locale-sv_SE.diff: rebased.
    - debian/patches/localedata/locale-C.diff: add a LC_MONETARY section.
    - debian/patches/localedata/submitted-en_AU-date_fmt.diff: rebased.
    - debian/patches/localedata/submitted-es_MX-decimal_point.diff: rebased.
    - debian/patches/localedata/submitted-it_IT-thousands_sep.diff: rebased.
    - debian/patches/alpha/local-string-functions.diff: rebased.
    - debian/patches/alpha/submitted-fminmax.diff: upstreamed.
    - debian/patches/alpha/submitted-rlimit.diff: upstreamed.
    - debian/patches/arm/git-arm64-memcmp.diff: upstreamed.
    - debian/patches/hppa/local-elf-make-cflags.diff: upstreamed.
    - debian/patches/hppa/submitted-gmon-start.diff: upstreamed.
    - debian/patches/hurd-i386/tg-context_functions.diff: rebased.
    - debian/patches/hurd-i386/tg-tls-threadvar.diff: rebased.
    - debian/patches/hurd-i386/tg-faccessat.diff: rebased.
    - debian/patches/hurd-i386/tg-gsync-libc.diff: rebased.
    - debian/patches/hurd-i386/submitted-shm_open_pthread.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-libc_init_secure.diff: upstreamed.
    - debian/patches/hurd-i386/local-nocheck-installed-headers.diff: rebased.
    - debian/patches/hurd-i386/git-bits-sysmacros.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-stack_chk_fail_local.diff: upstreamed.
    - debian/patches/hurd-i386/git-stack-protect-static.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigsetops.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigsetops-2.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigsetops-3.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-bits_socket.h.diff: upstreamed.
    - debian/patches/hurd-i386/git-preadwritev2.diff: upstreamed.
    - debian/patches/hurd-i386/git-preadwritev2-2.diff: upstreamed.
    - debian/patches/hurd-i386/git-preadwritev2-3.diff: upstreamed.
    - debian/patches/hurd-i386/git-rtld-access.diff: upstreamed.
    - debian/patches/hurd-i386/git-rtld-sbrk.diff: upstreamed.
    - debian/patches/hurd-i386/git-rtld-sbrk-2.diff: upstreamed.
    - debian/patches/hurd-i386/git-divdi.diff: upstreamed.
    - debian/patches/hurd-i386/git-feraiseexcept.diff: upstreamed.
    - debian/patches/hurd-i386/git-x86-tunables.diff: upstreamed.
    - debian/patches/hurd-i386/git-i386-implies-x86.diff: upstreamed.
    - debian/patches/hurd-i386/git-rtld-strtoul_internal.diff: upstreamed.
    - debian/patches/hurd-i386/git-clone.diff: upstreamed.
    - debian/patches/hurd-i386/git-gethostname.diff: upstreamed.
    - debian/patches/hurd-i386/git-tst-udp-timeout.diff: upstreamed.
    - debian/patches/hurd-i386/git-tst-udp-nonblocking.diff: upstreamed.
    - debian/patches/hurd-i386/git-hidden-def.diff: upstreamed.
    - debian/patches/hurd-i386/git-hidden-def-2.diff: upstreamed.
    - debian/patches/hurd-i386/git-dl-sysdep-check.diff: upstreamed.
    - debian/patches/hurd-i386/git-socket-limit.diff: upstreamed.
    - debian/patches/hurd-i386/git-clock_gettime_gettimeofday.diff: upstreamed.
    - debian/patches/hurd-i386/git-sigsuspend_not_cancel.diff: upstreamed.
    - debian/patches/hurd-i386/git-dirfd-linknamespace.diff: upstreamed.
    - debian/patches/hurd-i386/git-revoke-linknamespace.diff: upstreamed.
    - debian/patches/hurd-i386/git-seekdir-linknamespace.diff: upstreamed.
    - debian/patches/hurd-i386/git-ifaddrs-linknamespace.diff: upstreamed.
    - debian/patches/hurd-i386/git-NO_HIDDEN.diff: upstreamed.
    - debian/patches/hurd-i386/git-mount_namespace.diff: upstreamed.
    - debian/patches/mips/git-syscalls5-7-unbound-stack.diff: upstreamed.
    - debian/patches/any/local-ld-multiarch.diff: rebased.
    - debian/patches/any/local-disable-libnss-db.diff: rebased.
    - debian/patches/any/local-cudacc-float128.diff: rebased.
    - debian/patches/any/submitted-ldconfig-c-collation.diff: upstreamed.
    - debian/patches/any/git-any-ld.so-newline.diff: upstreamed.
    - debian/control.in/main: add a Build-Depends on bison.
    - debian/symbols.wildcards: update for 2.26.9000.
    - debian/rules: do not remove po/*.mo* on cleanup, they are not built in
      the source directory anymore.
    - debian/debhelper.in/glibc-doc.install: rename into glibc-docs.docs and
      update to the new changelogs location.
    - debian/changelog.upstream: update changelogs size.
    - debian/debhelper.in/libc-dev{,-alt}.{install,lintian-overrides}: remove
      libieee.a.
    - debian/testsuite-xfail-debian.mk: rename math XFAILs: float -> float32,
      double -> float64, ldouble -> float128.
  * debian/testsuite-xfail-debian.mk: mark misc/tst-pkey as XFAIL on alpha,
    arm64 and mips*, as there is a disagreement between kernel and glibc how
    to report missing protection key support when the syscalls have been
    wired.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 05 Jan 2018 22:08:07 +0100

glibc (2.26-7) UNRELEASED; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/tg-grantpt.diff: Update patch.
  * debian/patches/hurd-i386/git-libpthread-trylock.diff: New patch.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 17 Feb 2018 23:20:49 +0100

glibc (2.26-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix build with binutils 2.30 on arm64.  Closes: #888477.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 26 Jan 2018 23:35:29 +0100

glibc (2.26-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * debian/patches/any/local-cudacc-float128.diff: Disable _Float128 for icc
    too.

  [ Aurelien Jarno ]
  * debian/control.in/libc: set the priority of the libc{0.1,0.3,0.6} packages
    to optional following the changes on the ftp-master side (see bug#846982).
  * debian/control.in/libc: build-depends on gcc-7 (>= 7.2.0-20) on amd64, i386
    and x32 to avoid a missed optimization causing SSE registers to be pushed
    on the stack.  Closes: #886447.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/hurd-i386/git-mount_namespace.diff: upstreamed.
  * debian/testsuite-xfail-debian.mk: update with new tests.
  * debian/debhelper.in/libc.NEWS: note that the minimum required Linux kernel
    is now 3.2 to avoid aborts in the middle of an upgrade.  Closes: #888183.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 23 Jan 2018 22:51:51 +0100

glibc (2.26-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: since we now also run the testsuite for
    the multilib flavours, simplify the mips* entries into mips*, mips be and
    mips le, instead of trying to keep all the flavours in sync. Remove
    XFAILs for tests that have been fixed.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix a buffer underflow in getcwd() (CVE-2018-1000001).  Closes:
      #887001.
  * debian/control.in/*: add conflicts to only allow one to install one set
    of multilib packages simultaneously.  Closes: #702962, #743618, #784015,
    #820826, #870257.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 14 Jan 2018 11:24:48 +0100

glibc (2.26-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: the Loongson 3 FPU bug also applies
    to mips64el.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix memchr pointer overflow on ia64.  Closes: #886840.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-malloc-setstate.diff: Disable for now, it
    actually introduces issues.
  * debian/patches/hurd-i386/submitted-exec_filename.diff: Update submitted
    patch into committed git-exec_filename.diff.
  * debian/patches/hurd-i386/local-exec_filename.diff: New patch to keep
    compatibility with previous submission.
  * debian/patches/hurd-i386/tg-io_select_timeout.diff: Refresh.
  * debian/control: Bump hurd-dev build-dependency to get exec_paths RPC
    definitions.
  * debian/libc0.3.symbols.hurd-i386: Update accordingly.

 -- Samuel Thibault <sthibault@debian.org>  Thu, 11 Jan 2018 23:12:24 +0100

glibc (2.26-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/unsubmitted-mount_namespace.diff: Rename to
    git-mount_namespace.diff.

  [ Helmut Grohne ]
  * debian/rules.d/build.mk: Remove a left-over closing brace, breaking
    stage 1.  Closes: #886301.

  [ Aurelien Jarno ]
  * debian/sysdeps/hppa.mk: increase TIMEOUTFACTOR to 600 on HPPA.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 05 Jan 2018 19:09:39 +0100

glibc (2.26-1) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/unsubmitted-mount_namespace.diff: New patch to fix build
    of support/support_enter_mount_namespace.c on hurd-i386.

  [ Aurelien Jarno ]
  * debian/control.in/main: this upload targets unstable, update Vcs-Git
    accordingly.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 03 Jan 2018 18:30:46 +0100

glibc (2.26-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/any/local-ldso-disable-hwcap.diff: Include <fcntl.h>
    before <not-errno.h>.
  * debian/rules, debian/rules.d/build.mk: stop logging build/check messages
    to files, both sbuild and debuild are able to do that.
  * debian/rules, debian/rules.d/build.mk: allow TIMEOUTFACTOR to be override
    per architecture.
  * debian/sysdeps/hppa.mk: set TIMEOUTFACTOR to 100 on HPPA.
  * debian/testsuite-xfail-debian.mk: remove tst-create-detached from XFAIL
    on HPPA.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix tst-realloc when heap space is exhausted.
  * debian/testsuite-xfail-debian.mk: convert alpha math XFAILs into granular
    XFAILs.
  * debian/testsuite-xfail-debian.mk: remove tst-realloc from XFAIL on
    sparc64.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 01 Jan 2018 13:50:41 +0100

glibc (2.26-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: move double-lround XFAILs from mips64el
    to mipsel.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix malloc returning pointer from tcache_get when it should returns
      NULL (CVE-2017-17426).  Closes: #883729.
    - Drop debian/patches/ia64/git-ia64-crash-thread-exit.diff (merged
      upstream).
  * debian/control.in/libc: add a Breaks: libperl5.26 (<< 5.26.1-3) to
    @libc@-dev to handle the xlocale.h removal.  Closes: #883392.
  * debian/control.in/main: point the Vcs-Git field to the glibc-2.26 branch
    to shut up tracker.debian.org about missing commits.
  * debian/testsuite-xfail-debian.mk: x32: remove a bunch of conform issues,
    add tst-platform-1, as this test has x86-64 specific expectations.
  * debian/sysdeps/sparc64.mk: don't force -mcpu=ultrasparc as that
    miscompiles at least pthread_barrier_wait.c. Mark tst-realloc as XFAIL, as
    there are way to trigger the issue on older libc and/or other
    architectures.
  * debian/patches/locale/fix-LC_COLLATE-rules.diff: drop, not useful anymore
    and has side effects.
  * debian/patches/localedata/local-hu_HU-sort.diff: removed, the hu_HU
    collation is now the same than upstream.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 17 Dec 2017 18:44:55 +0100

glibc (2.26-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: Update hurd-i386 xfail with new test.

  [ Aurelien Jarno ]
  * Bump build-dependency on binutils to >= 2.25, as required by glibc 2.26.
  * debian/testsuite-xfail-debian.mk: re-add double-lround XFAILs for
    mips64el.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 22 Nov 2017 17:46:32 +0100

glibc (2.26-0experimental0) experimental; urgency=medium

  [ Adam Conrad ]
  * New upstream release (LP: #1703368), with git updates to 2017-10-10:
    - debian/{symbols.wildcards,control}: Update and regen for 2.26.
    - debian/patches/alpha/submitted-termios_h.diff: upstreamed.
    - debian/patches/arm/submitted-strip-bit-0.diff: upstreamed.
    - debian/patches/hurd-i386/git-__inet6_scopeid_pton.diff: upstreamed.
    - debian/patches/any/submitted-string2-strcmp.diff: obsolete.
    - debian/patches/any/local-tst-writev.diff: fixed upstream.
    - debian/patches/any/local-dynamic-resolvconf.diff: fixed upstream.
    - debian/patches/any/submitted-unicode-9.0.0.diff: obsolete.
    - debian/patches/any/cvs-malloc-hardening.diff: upstreamed.
    - debian/patches/any/local-bits-sigstack.diff: fixed upstream.
    - debian/patches/powerpc/submitted-tst-tlsopt-powerpc.diff: upstreamed.
    - debian/patches/i386/local-cmov.diff: dropped, no longer useful.
    - debian/patches/all/local-ldd.diff: rebased.
    - debian/patches/any/local-ldso-disable-hwcap.diff: rebased.
    - debian/patches/any/local-tcsetaddr.diff: rebased.
    - debian/patches/any/submitted-resolv-unaligned.diff: rebased.
    - debian/patches/arm/local-arm-futex.diff: rebased.
    - debian/patches/hurd-i386/local-ED.diff: rebased.
    - debian/patches/hurd-i386/tg-EGREGIOUS-fr.diff: rebased.
    - debian/patches/hurd-i386/tg-EIEIO-fr.diff: rebased.
    - debian/patches/kfreebsd/submitted-auxv.diff: rebased.
    - debian/patches/kfreebsd/submitted-waitid.diff: rebased.
    - debian/patches/localedata/locales-fr.diff: rebased.
    - debian/patches/sparc/submitted-sparc64-socketcall.diff: rebased.
    - debian/patches/localedata/local-hu_HU-sort.diff: Make testsuite
      agree with the sorting we see in Debian, may need another look.
    - debian/patches/any/local-cudacc-float128.diff: Local patch to prevent
      defining __HAVE_FLOAT128 on NVIDIA's CUDA compilers (LP: #1717257)
    - debian/patches/arm/git-arm64-memcmp.diff: Backport optimized memcmp
      for AArch64, improving performance from 25% to 500% (LP: #1720832)
    - debian/control.in/libc: Drop ancient Breaks satisfied in oldoldstable.
    - debian/{debhelper.in/libc.preinst,sysdeps/amd64.mk,sysdeps/i386.mk}:
      Bump MIN_KERNEL_SUPPORTED to 3.2 on x86, following upstream's change.
    - debian/sysdeps/{powerpc.mk,ppc64.mk,s390x.mk}: Disable lock-elision on
      powerpc and s390, following IBM's recommendation.
    - debian/testsuite-xfail-debian.mk: Re-enable xfailed resolv tests.
    - debian/testsuite-xfail-debian.mk: Allow tst-create-detached to fail on
      all platforms; the design of this test is such that the outcome relies
      on cache sizes and noisiness of the build system, which is unreliable.
    - debian/rules.d/build.mk: Configure with --enable-obsolete-nsl until we
      sort out a reasonable nsswitch migration strategy from compat to files.

  [ Samuel Thibault ]
  * Adjust hurd-i386 patches to restore build and functionality with 2.26:
    - patches/hurd-i386/tg-gsync-libc.diff: rebased.
    - patches/hurd-i386/tg-hurdsig-global-dispositions.diff: rebased.
    - patches/hurd-i386/tg-pipe2.diff: rebased.
    - patches/hurd-i386/tg-socket_flags.diff: rebased.
    - patches/hurd-i386/tg2.25-tls.diff: rebased.
    - patches/hurd-i386/tg2.26-sched_param.diff: New patch.
    - patches/hurd-i386/git-sigsetops.h.diff: New patch.
    - patches/hurd-i386/git-sigsetops-2.h.diff: New patch.
    - patches/hurd-i386/git-sigsetops-3.h.diff: New patch.
    - patches/hurd-i386/tg2.26-sigsetops.h.diff: New patch.
    - patches/hurd-i386/git-bits_socket.h.diff: New patch.
    - patches/hurd-i386/git-preadwritev2.diff: New patch.
    - patches/hurd-i386/git-preadwritev2-2.diff: New patch.
    - patches/hurd-i386/git-preadwritev2-3.diff: New patch.
    - patches/hurd-i386/git-rtld-access.diff: New patch.
    - patches/hurd-i386/git-rtld-sbrk.diff: New patch.
    - patches/hurd-i386/git-rtld-sbrk-2.diff: New patch.
    - patches/hurd-i386/git-divdi.diff: New patch.
    - patches/hurd-i386/git-feraiseexcept.diff: New patch.
    - patches/hurd-i386/cvs-libpthread.diff: Update.
    - patches/hurd-i386/git-libpthread-2.26.diff: New patch.
    - patches/hurd-i386/git-i386-implies-x86.diff: New patch.
    - patches/hurd-i386/git-x86-tunables.diff: New patch.
    - patches/hurd-i386/git-rtld-strtoul_internal.diff: New patch.
    - patches/hurd-i386/git-clone.diff: New patch.
    - patches/hurd-i386/git-gethostname.diff: New patch.
    - patches/hurd-i386/cvs-libpthread-sigstate.diff: Remove unused merged
    patch.
    - patches/hurd-i386/cvs-send-recv-posix.diff: Remove unused merged patch.
    - patches/hurd-i386/cvs-truncate64.diff: Remove unused merged patch.
    - patches/hurd-i386/git-tst-udp-timeout.diff: New patch.
    - patches/hurd-i386/git-tst-udp-nonblocking.diff: New patch.
    - patches/hurd-i386/unsubmitted-exp-hidden-jump.diff: New patch.
    - patches/hurd-i386/git-hidden-def.diff: New patch.
    - patches/hurd-i386/git-hidden-def.diff-2: New patch.
    - patches/hurd-i386/git-dl-sysdep-check.diff: New patch.
    - patches/hurd-i386/git-socket-limit.diff: New patch.
    - patches/hurd-i386/tg-thread-linkspace.diff: New patch.
    - patches/hurd-i386/git-clock_gettime_gettimeofday.diff: New patch.
    - patches/hurd-i386/tg-gsync-libc.diff: Update.
    - patches/hurd-i386/tg-libpthread-gsync-mutex.diff: Update.
    - patches/hurd-i386/tg-sendmsg-SCM_CREDS.diff: Update.
    - patches/hurd-i386/git-sigsuspend_not_cancel.diff: New patch.
    - patches/hurd-i386/tg-sysvshm.diff: Update.
    - patches/hurd-i386/tg-ifaddrs_v6.diff: Update.
    - patches/hurd-i386/git-dirfd-linknamespace.diff: New patch.
    - patches/hurd-i386/git-revoke-linknamespace.diff: New patch.
    - patches/hurd-i386/git-seekdir-linknamespace.diff: New patch.
    - patches/hurd-i386/git-ifaddrs-linknamespace.diff: New patch.
    - patches/hurd-i386/git-NO_HIDDEN.diff: New patch.
    - patches/hurd-i386/unsubmitted-NO_HIDDEN.diff: Remove patch.
    - patches/hurd-i386/unsubmitted-exp-hidden-jump.diff: Remove patch.
    - testsuite-xfail-debian.mk: Update.
    - testsuite-xfail-debian.mk: Remove now-removed XPG3 entries.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix buffer overflow in glob with GLOB_TILDE (CVE-2017-15670).  Closes:
      #879501.
    - Fix memory leak in glob with GLOB_TILDE (CVE-2017-15671).  Closes:
      #879500.
  * debian/rules, debian/control.in/main: build with GCC 7.
  * debian/testsuite-xfail-debian.mk: remove a few XFAIL on s390x that were
    due to GCC 6 issues.
  * debian/testsuite-xfail-debian.mk: drop support for s390.
  * debian/testsuite-xfail-debian.mk: Use granular fma XFAIL on mips*.
  * debian/testsuite-xfail-debian.mk: mark misc/tst-set_ppr as XFAIL on
    powerpc as it requires a recent CPU or a recent kernel for CPU feature
    detection.
  * debian/patches/any/local-libgcc-compat-{abilists,main,ports}.diff: drop
    workaround for binaries built with some broken versions of GCC 3.2 more
    than 10 years ago.
  * debian/testsuite-xfail-debian.mk: remove many XFAIL from mips, mipsel and
    mips64el.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 19 Nov 2017 12:49:13 +0100

glibc (2.25-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/main: add mips r6 architectures to Build-Depends:
    g++-6-multilib.  Closes: #884774.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fixes incorrect RPATH/RUNPATH handling for SUID binaries
      (CVE-2017-16997).  Closes: #884615.
  * debian/control.in/main, debian/copyright, rules.d/tarball.mk: prefer
    https for upstream links.
  * debian/control.in/main: bump Standards-Version to 4.1.3.
  * debian/patches/alpha/submitted-rlimit.diff: new patch to fix getrlimit
    and setrlimit with RLIM_INFINITY on alpha.
  * debian/patches/alpha/submitted-fminmax.diff: new patch to fix fmin and
    fmax on alpha.
  * debian/testsuite-xfail-debian.mk: mark test-fexcept, test-ldouble and
    test-ldouble-finite as XFAIL as the failures are due to new tests, and
    thus not a regression.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 31 Dec 2017 18:50:30 +0100

glibc (2.25-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/git-rtld-access.diff: Fix spurious errno update.

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: strip all *crt*.o files, unless
    DEB_BUILD_OPTIONS contains nostrip.  Closes: #884524.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix memory leak in ld.so (CVE-2017-1000408).  Closes: #884132.
    - Fix buffer overflow in ld.so (CVE-2017-1000409).  Closes: #884133.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 16 Dec 2017 15:37:43 +0100

glibc (2.25-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/kfreebsd/local-sysdeps.diff: update to revision 6194 (from
    glibc-bsd):
    - Provide TCP_KEEPIDLE in netinet/tcp.h.  Closes: #881185.
    - Fix FTBFS on kfreebsd-amd64.
  * debian/control.in/libc: add conflicts with libc0.1-i686 on kfreebsd-i386
    and libc6-i686 on i386, to make sure the transitional packages are not
    kept when upgrading from stretch.
  * debian/patches/any/local-ldso-disable-hwcap.diff: use __access_noerrno
    instead of __access.  Closes: #877493.
  * debian/rules, debian/rules.d/debhelper.mk: reverse the logic to build
    libc6-dbg. Only fill it with files from the main libc and optimized
    flavours. Other debugging symbols are available in the dbgsym packages.
    Closes: #520680.
  * debian/rules.d/build.mk: add /usr/local multi-arch paths to ld.so.conf
    files.  Closes: #685519, #771934.
  * debian/patches/any/git-any-ld.so-newline.diff: add missing newline after
    "cannot allocate TLS data structures for initial thread".  Closes:
    #776659.
  * debian/glibc-source.filelist: update with the latest mips* symbol files.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix SysV IPC on IA64.  Closes: #884194.

  [ Samuel Thibault ]
  * patches/hurd-i386/local-no-bootstrap-fs-access.diff: Refresh.
  * patches/hurd-i386/git-rtld-access.diff: New patch.
  * patches/hurd-i386/local-msg-nosignal.diff: Remove, now useless.
  * testsuite-xfail-debian.mk: Update gnu-gnu according to git-updates.diff.
  * control: Bump hurd-dev build-dep.
  * libc0.3.symbols.hurd-i386: Update symbols accordingly.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 12 Dec 2017 20:21:48 +0100

glibc (2.25-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix assertion failure in posix_spawn().  Closes: #882794.
    - Fix missing posix_fadvise64 from static mips64el build. Closes:
      #883186.
    - Fix buffer overflow in glob with GLOB_TILDE (CVE-2017-15670).  Closes:
      #879501.
    - Fix memory leak in glob with GLOB_TILDE (CVE-2017-15671).  Closes:
      #879500.
    - Fix a buffer overflow in glob with GLOB_TILDE in unescaping
      (CVE-2017-15804).  Closes: #879955.
  * debian/patches/any/local-dlfptr.diff: remove, it's not used anymore by
    HPPA and causes issues on IA64.  Closes: #882874.
  * debian/patches/submitted-ldconfig-c-collation.diff: New patch to process
    include directives in ldconfig using the C/POSIX collation.
  * debian/patches/ia64/git-ia64-crash-thread-exit.diff: Fix crash on thread
    exit on IA64.  Closes: #883285.
  * debian/sysdeps/x32.mk: set the minimum kernel version to 2.6.32 for the
    libc6-amd64:x32 and libc6-i386:x32 flavours, to match libc6:amd64 and
    libc6:i386.  Closes: #882255.
  * debian/sysdeps/linux.mk: note that all builds for a given gnu triplet
    have the same minimum kernel version.

  [ Samuel Thibault ]
  * libc0.3.symbols.hurd-i386: Update against newer hurd definitions.
  * control: Bump dependency accordingly.

  [ Jason Duerstock ]
  * debian/control.in/libc, debian/control.in/main, debian/rules.d/control.mk:
    Add support for IA64.  Closes: #883012.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 02 Dec 2017 11:07:17 +0100

glibc (2.25-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: move corner cases FPU XFAIL from
    mips/mipsel section to mips* section.
  * debian/control.in/libc: add a Conflicts: again openrc (<< 0.27-2~).
    Closes: #882129.
  * debian/control.in/libc: add Breaks: and Replaces against
    kfreebsd-kernel-headers (<< 10.3~4) to avoid <sys/random.h> conflict.
    Closes: #882346.
  * debian/testsuite-xfail-debian.mk: mark tst-create-detached on HPPA.
    Closes: #882152.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Don't use IFUNC resolver for longjmp or system in libpthread.
      Closes: #882336.
  * debian/script.in/nohwcap.sh: always check for all optimized packages
    as multiarch allows one to install foreign architectures.  Closes:
    #882272.

  [ YunQiang Su ]
  * Add symbol files for mipsn32 and mips64.

  [ YunQiang Su / Aurelien Jarno ]
  * Add mipsr6, mipsr6el, mipsn32r6, mipsn32r6el, mips64r6, mips64r6el
    architectures.  Closes: #824985, #881457.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 22 Nov 2017 00:14:20 +0100

glibc (2.25-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: relax the dependency on linux-libc-dev
    to the major upstream version.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 18 Nov 2017 10:13:37 +0100

glibc (2.25-0experimental4) experimental; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/git-bits-sysmacros.h.diff: New patch.
  * patches/hurd-i386/git-stack_chk_fail_local.diff: New patch.
  * patches/hurd-i386/git-stack-protect-static.diff: New patch.
  * patches/hurd-i386/cvs-libpthread.diff: Update, fixes rt/tst-aio and
    rt/tst-aio64 sync ordering.
  * sysdeps/hurd.mk: Enable stack-protector on the Hurd.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix TLS relocations against local symbols on powerpc, sparc and
      sparc64.  Closes: #874074.
  * Replace debian/patches/mips/submitted-syscalls5-7-unbound-stack.diff
    by the final version git/submitted-syscalls5-7-unbound-stack.diff.
  * debian/rules.d/debhelper.mk: do not install gdb python hooks for stage 1.
    Closes: #874491.
  * Update Portuguese debconf translation, by Pedro Ribeiro.
    Closes: #874610.
  * Update German debconf translation, by Helge Kreutzman.  Closes: #877291.
  * debian/sysdeps/ppc64el.mk: disable lock elision.  Closes:# 878071.
  * debian/script.in/nohwcap.sh: fix alpha ev67 optimized package name.
    Closes: #881147.
  * debian/debhelper.in/libc.postinst, script.in/nsscheck.sh: check for
    postgresql in NSS check.  Closes: #710275.
  * debian/sysdeps/{alpha,hurd-i386,i386}.mk: do not build optimized libraries
    libc6.1-alphaev67, libc6-xen and libc0.3-xen during stage 1 and stage 2.
    Closes: #881455, #881636.
  * debian/rules, debian/sysdeps/*.mk: skip the multilib pass for the nobiarch
    profile (in addition to skipping the package creation).
  * debian/rules: only build -dev multilib packages in stage1.  Closes:
    #881454, #881646.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 14 Nov 2017 23:38:04 +0100

glibc (2.25-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc-dev-alt.install, debian/rules.d/debhelper.mk: do
    no try to install libm-*.a for builds without mvec.
  * debian/rules.d/build.mk: run configure with --enable-stack-protector=
    strong.
  * debian/sysdeps/hurd.mk: disable stack-protector on the Hurd.
  * debian/patches/kfreebsd/local-sysdeps.diff: update to revision 6172 (from
    glibc-bsd).
  * debian/rules, debian/rules.d/build.mk, debian/control.in/main: use
    dh_update_autotools_config from debhelper instead of
    dh_autotools-dev_updateconfig from autotools-dev.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 27 Aug 2017 01:49:39 +0200

glibc (2.25-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * Do not try to install NPTL GDB pretty-printers on non-Linux.
  * debian/control.in/main: build-depends on autotools-dev.
  * debian/rules, debian/rules.d/build.mk: update/restore config.guess and
    config.sub on configure/clean.
  * debian/debhelper.in/libc-dev{-alt,}.install: install libm-*.a to also
    install the versioned static library on architectures with mvec support.
    Closes: #872852.
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/rules.d/build.mk: reduce TIMEOUTFACTOR to 15 from 25. This should
    fix FTBFS on HPPA.
  * debian/debhelper.in/nscd.init: add support for the try-restart argument
    to nscd's init script.
  * debian/debhelper.in/libc.postinst, debian/script.in/nsscheck.sh: drop
    wheezy to jessie upgrade code for samba.
  * debian/debhelper.in/libc.postinst, debian/debhelper.in/libc.templates,
    debian/po/*: do not call /etc/init.d scripts even as a fallback as
    invoke-rc.d is now always available.
  * debian/debhelper.in/libc.preinst, debian/debhelper.in/libc.postrm: drop
    code to handle upgrades from wheezy.
  * debian/script.in/nohwcap.sh: drop code to support libc0.1-i686 and
    libc6-i686.
  * debhelper.in/*.lintian-overrides: cleanup lintian overrides.
  * debian/control.in/main: drop the XS-Testsuite field, it has been replaced
    by a Testsuite field automatically added by dpkg.
  * debian/control.in/main: bump Standards-Version to 4.0.1.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 26 Aug 2017 16:22:03 +0200

glibc (2.25-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-net.diff: rebased.
  * patches/hurd-i386/tg-tls.diff: update.
  * patches/hurd-i386/submitted-malloc-setstate.diff: update.
  * patches/hurd-i386/submitted-shm_open_pthread.diff: new patch.
  * patches/hurd-i386/cvs-libc_init_secure.diff: new patch.
  * patches/hurd-i386/cvs-libpthread.diff: update.
  * patches/hurd-i386/git-__inet6_scopeid_pton.diff: new patch from upstream.
  * patches/hurd-i386/tg2.25-tls.diff: new patch.
  * patches/hurd-i386/local-nocheck-installed-headers.diff: New patch to
    disable checking hurd and mach headers for standards, they are not.
  * patches/hurd-i386/submitted-net.diff: Disable installing if_ppp.h, it just
    does not work without OS-specific ppp_defs.h.
  * testsuite-xfail-debian.mk: update for hurd-i386.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Reduce EDNS payload size to 1200 bytes (CVE-2017-12132). Closes:
      #870650.
    - debian/patches/hppa/local-fptr-table-size.diff: upstreamed.
    - debian/patches/hppa/local-shmlba.diff: upstreamed.
    - debian/patches/hppa/submitted-gmon-start.diff: partially upstreamed.
    - debian/patches/hppa/submitted-dladdr.diff: upstreamed.
    - debian/patches/hppa/local-stack-grows-up.diff: upstreamed.
    - debian/patches/hppa/submitted-setcontext.diff: upstreamed.
    - debian/patches/hppa/submitted-sysdeps-cancel.diff: upstreamed.
    - debian/patches/hppa/submitted-longjmp.diff: upstreamed.
  * debian/patches/kfreebsd/local-sysdeps.diff, local-fbtl.diff:
    update to revision 6171 (from glibc-bsd).
  * testsuite-xfail-debian.mk: update for kfreebsd-i386.
  * debian/patches/any/local-bits-sigstack.diff: new patch to fix
    <bits/sigstack.h> on Hurd and kFreeBSD.
  * debian/control.in/main: Build-Depends on python3 when running the
    testsuite.
  * debian/rules.d/build.mk, debian/debhelper.in/libc-dev.install,
    debian/debhelper.in/libc-dev-alt.install: install the NPTL GDB
    pretty-printer python macros in the libc6-dev and libc6-*-dev packages.
    Closes: #868247.
  * debian/debhelper.in/libc-dev-alt.{preinst,postinst}: remove, used to
    handle the multiarch transition.
  * debian/debhelper.in/libc.{preinst,postinst}: remove code not needed
    since jessie.
  * debian/patches/mips/submitted-syscalls5-7-unbound-stack.diff: new
    patch to fix unbounded stack allocation in O32 syscalls with 5 to 7
    arguments, causing nptl/tst-rwlock15 to fail on mips and mipsel.
  * debian/control.in/main,debian/compat: switch to debhelper 10.

  [ John David Anglin ]
  * debian/patches/any/submitted-resolv-unaligned.diff: new patch to fix
    misaligned accesses in res_query.c to fields in HEADER struct (closes:
    #827703).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 20 Aug 2017 19:02:51 +0200

glibc (2.25-0experimental0) experimental; urgency=medium

  * New upstream release:
    - debian/control: regenerate.
    - debian/symbols.wildcard: update for 2.25.
    - debian/patches/git-updates.diff: update from upstream stable branch.
    - debian/patches/alpha/local-string-functions.diff: rebased.
    - debian/patches/alpha/submitted-fegetenv-namespace.diff: upstreamed.
    - debian/patches/amd64/local-blacklist-for-Intel-TSX.diff: upstreamed.
    - debian/patches/hppa/cvs-atomic-machine.diff: upstreamed.
    - debian/patches/hurd-i386/tg-tls.diff: rebased.
    - debian/patches/hurd-i386/tg-tls-threadvar.diff: rebased.
    - debian/patches/hurd-i386/tg-hurdsig-fixes-2.diff: rebased.
    - debian/patches/hurd-i386/unsubmitted-NO_HIDDEN.diff: rebased.
    - debian/patches/hurd-i386/cvs-check-local-headers.diff: upstreamed.
    - debian/patches/hurd-i386/tg-faccessat.diff: rebased and reworked.
    - debian/patches/hurd-i386/tg-gsync-libc.diff: rebased.
    - debian/patches/hurd-i386/git-recvmsg.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-adjtime-NULL.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-mallocfork.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-hurd_signal.h_c++.diff: upstreamed.
    - debian/patches/i386/cvs-cpuid-level2.diff: upstreamed.
    - debian/patches/kfreebsd/submitted-auxv.diff: rebased.
    - debian/patches/sparc/cvs-test-strncmp.diff: upstreamed.
    - debian/patches/any/local-rtlddir-cross.diff: rebased.
    - debian/patches/any/local-asserth-decls.diff: rebased.
    - debian/patches/any/submitted-longdouble.diff: dropped, obsolete.
    - debian/patches/any/local-disable-libnss-db.diff: rebased.
    - debian/patches/any/local-revert-bz13979.diff: rebased.
    - debian/patches/any/submitted-dlopen-noload.diff: upstreamed.
    - debian/patches/any/cvs-malloc-hardening.diff: rebased.
  * debian/testsuite-xfail-debian.mk: mark a few resolv related tests as
    XFAIL, as they fail due to local-dynamic-resolvconf.diff, which
    automatically reload a changed /etc/resolv.conf file. A better version
    of this patch has been merged in glibc 2.26, but is not easily
    backportable.
  * debian/testsuite-xfail-debian.mk: mark tst-strfrom and tst-strfrom-locale
    as XFAIL on mips*, they are due to corner case bugs in the FPU. Give more
    details about each issue.
  * debian/testsuite-xfail-debian.mk: mark test-double, test-idouble,
    test-ifloat and test-ildouble as XFAIL on s390x, they are due to a bug in
    GCC 6 (fixed in GCC 7) and not a regression from 2.24.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 02 Aug 2017 18:54:56 +0200

glibc (2.24-18) UNRELEASED; urgency=medium

  [ Samuel Thibault ]
  * libc0.3.symbols.hurd-i386: Update with proc_set/get_exe RPCs.
  * patches/hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Always define SA_SIGINFO.
  * patches/hurd-i386/local-no_unsupported_ioctls.diff: New patch.
  * patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Complete with
    clock_getres().
  * patches/hurd-i386/local-bootstrap.diff: Renamed to tg-bootstrap.diff.
  * patches/hurd-i386/submitted-add-needed.diff: Renamed to
    tg-mach-hurd-link.diff.

  [ Svante Signell ]
  * patches/hurd-i386/submitted-exec_filename.diff: Update, fixes
    execve/spawni relative path case.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 26 Aug 2017 11:11:58 +0200

glibc (2.24-17) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/unsubmitted-clock_t_centiseconds.diff: Drop clock() part
    from patch, it always uses CLOCKS_PER_SEC which is always 1000000. Should
    fix ffmpeg build.  Closes: Bug#872556.

  [ Aurelien Jarno ]
  * debian/patches/any/submitted-intl-tstgettext.diff: new patch to fix the
    intl/tst-gettext with newer gettext versions.  Closes: #873097.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 26 Aug 2017 11:09:24 +0200

glibc (2.24-16) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/sysdeps/kfreebsd-i386.mk: don't try to build libc0.1-i686.
  * debian/sysdeps/hurd-i386.mk: don't try to build libc0.3-i686.
  * debian/sysdeps/i386.mk: don't try to build libc6-i686.
  * debian/testsuite-xfail-debian.mk: update kfreebsd* according to
    git-updates.diff.

  [ Samuel Thibault ]
  * debian/testsuite-xfail-debian.mk: update hurd according to git-updates.diff.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 21 Aug 2017 08:51:25 +0200

glibc (2.24-15) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Avoid use-after-free read access in clntudp_call (CVE-2017-12133).
      Closes: #870648.
  * debian/control.in/*: Change back gcc-multilib to a Recommends for
    biarch packages. It provides the /usr/include/linux/asm symlink.
  * debian/control.in/x32: Add a gcc-multilib Recommends for libc6-dev-x32.
  * Update French debconf translation, by Alban Vidal.  Closes: #872025.
  * debian/control.in/main: Change multiarch-support to priority optional
    and section oldlibs.
  * debian/control.in/opt: Remove transitional packages libc0.1-i686,
    libc0.3-i686, libc6-i686.
  * debian/control.in/libc, debian/control.in/main, debian/control.in/opt:
    change the priority of libc0.1-dbg, libc0.1-udeb, libc0.3-dbg,
    libc0.3-udeb, libc0.3-xen, libc6.1-alphaev67, libc6.1-dbg, libc6.1-udeb,
    libc6-dbg, libc6-udeb, libc6-xen and locales-all to optional.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 20 Aug 2017 15:12:10 +0200

glibc (2.24-14) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix namespace register pollution on sh4.  Closes: #776471.
  * debian/patches/powerpc/submitted-tst-tlsopt-powerpc.diff: new proposed
    patch to fix tst-tlsopt-powerpc when built with binutils >= 2.29.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 Aug 2017 13:46:34 +0200

glibc (2.24-13) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix ld.so segfault on arm64.
    - Fix build with newer binutils.  Closes: #869717.
    - debian/patches/any/submitted-perl-inc.diff: drop, upstreamd.
    - debian/patches/any/local-CVE-2017-1000366-rtld-LD_LIBRARY_PATH.diff:
      drop, upstreamd.
    - debian/patches/any/local-CVE-2017-1000366-rtld-LD_PRELOAD.diff: drop,
      upstreamed.
    - debian/patches/any/local-CVE-2017-1000366-rtld-LD_AUDIT.diff: drop,
      upstreamed.
    - debian/patches/any/cvs-vectorized-strcspn-guards.diff: drop, upstreamed.
    - debian/patches/any/cvs-hwcap-AT_SECURE.diff: drop, upstreamed.
  * debian/rules.d/debhelper.mk: relax the dependency on linux-libc-dev to the
    upstream version.
  * Greek debconf translation update from Vangelis Skarmoutsos.  Closes:
    #867474.
  * Update Dutch debconf translation, by Frans Spiesschaert.  Closes: #867981.
  * debian/debhelper.in/libc-bin.triggers: declare the trigger as
    interest-await.
  * debian/control.in/*: Demote gcc-multilib 'Recommends' to a 'Suggests'.
    Closes: #865429.

  [ Adam Conrad ]
  * debian/patches/arm/submitted-strip-bit-0.diff: Fix ld.so crash on armv7t.

  [ Santiago Vila ]
  * debian/debhelper.in/libc-bin.postinst: do not update /etc/nsswitch.conf
    when its content already matches the default.  Closes: #865144.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 31 Jul 2017 16:54:16 +0200

glibc (2.24-12) unstable; urgency=high

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Drop patches/any/cvs-remove-pid-tid-cache-clone.diff (merged upstream).
    - Remove wrong assertion on parent PID in fork.
    - Fix 64-bit atomics on m68k.  Closes: #855692.
  * debian/debhelper.in/libc.templates: update the kernel 3.2 warning to
    mention that the support limitation comes from Debian and not from
    upstream.  Closes: #864720.
  * debian/rules, debian/rules.d/build.mk: do not capture the build path
    when generating glibc-source tarball.  Closes: #861183.
  * debian/control.in/main: build-depends on gperf.  Closes: #847478.
  * debian/patches/hppa/submitted-longjmp.diff: new patch from Helge Deller
    to fix longjmp on hppa.  Closes: #858738.
  * debian/sysdeps/mipsel.mk, debian/sysdeps/mips64el.mk: leave the default
    GCC ISA level, currently MIPS32R2/MIPS64R2.
  * debian/patches/any/local-CVE-2017-1000366-rtld-LD_AUDIT.diff,
    debian/patches/any/local-CVE-2017-1000366-rtld-LD_LIBRARY_PATH.diff,
    debian/patches/any/local-CVE-2017-1000366-rtld-LD_PRELOAD.diff: add
    patches to protect the dynamic linker against stack clashes
    (CVE-2017-1000366).
  * debian/patches/any/cvs-vectorized-strcspn-guards.diff: patch backported
    from upstream to allow usage of strcspn in ld.so.
  * debian/patches/any/cvs-hwcap-AT_SECURE.diff: patch backported from
    upstream to disable HWCAP for AT_SECURE programs.

  [ John Paul Adrian Glaubitz ]
  * debian/sysdeps/sh3.mk: copy from sh4.mk.  Closes: #851867.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 18 Jun 2017 20:04:53 +0200

glibc (2.24-11) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Improve memcpy/memset performance on Skylake server.
  * debian/patches/any/cvs-malloc-hardening.diff: patch backported from
    upstream to further harden glibc malloc metadata against 1-byte
    overflows.  Closes: #862950.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 28 May 2017 19:29:33 +0200

glibc (2.24-10) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/cvs-truncate64.diff: New patch to support 64bit truncate.
  * hurd-i386/cvs-send-recv-posix.diff: New patch to make send/recv more
    posix.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix readahead on mips64el.
    - Improve branch predication in _dl_runtime_resolve_avx512_opt;
    - Fix symbol redirect for fts_set on 32-bit architectures.
    - Fix AVX2/AVX512 optimized unaligned memset.
    - Don't use PLT nor GOT in static archives on amd64.
    - Drop GLIBC_TUNABLES in setxid processes.
    - Fix write-after-destroy in lock elision on powerpc/ppc64el.
  * Drop patches/any/cvs-resolv-internal-qtype.diff, merged upstream.
  * any/cvs-remove-pid-tid-cache-clone.diff: patch from upstream to remove
    cached PID/TID in clone.  Closes: #857909.
  * debian/rules.d/build.mk: do not fail the build in case of testsuite
    regressions when building a +debXuX version. That way changes in the
    environment (e.g.: kernel) do not prevent security or stable versions
    to be built.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 12 Apr 2017 00:13:55 +0200

glibc (2.24-9) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-libpthread-gsync-mutex.diff: Update patch, fixes trylock
    error return.
  * hurd-i386/tg-magic-pid.diff: New patch, add support for /proc/self.
  * hurd-i386/tg-mlockall.diff: New patch, add support for mlockall.
    - control: Bump gnumach-dev build-depend accordingly.
  * hurd-i386/tg-gsync-libc.diff: Fix linking against built libmachuser
    instead of installed libmachuser.
  * libc0.3.symbols.hurd-i386: Add vm_wire_all symbols.

  [ Aurelien Jarno ]
  * debian/sysdeps/{amd64,i386,x32}.mk: disable lock elision (aka Intel TSX)
    on x86 architectures. This causes programs (wrongly) unlocking an already
    unlocked mutex to abort. More importantly most of the other distributions
    decided to disable it, so we don't want to be the only distribution left
    testing this code path.  Closes: #850182.
  * debian/rules.d/build.mk: pass --no-recursion before -T in the call to tar
    to workaround or fix bug#829738. This reduces the size of the glibc-source
    package by 40%
  * debian/patches/localedata/supported.diff: rename the kk_KZ locale with the
    RK1048 charset to kk_KZ.RK1048 to avoid conflicting with the kk_KZ locale
    with the PT154 charset.  Closes: #847596.
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/alpha/submitted-math-fixes.diff: Drop, merged upstream.
  * patches/any/cvs-resolv-internal-qtype.diff: patch from upstream to fix a
    NULL pointer dereference in libresolv when receiving a T_UNSPEC internal
    QTYPE (CVE-2015-5180).  Closes: #796106.
  * Make the package build reproducibly, thanks to Ximin Luo for the patch.
    Closes: #783210.
    - debian/rules: export SOURCE_DATE_EPOCH when not building with
      dpkg-buildpackage.
    - debian/rules.d/build.mk: use --clamp-mtime instead of touching the
      files.
    - debian/rules.d/debhelper.mk: do not chmod +x the shell script, call
      it with sh instead.
  * debian/rules.d/control.mk: Add the sh3 architecture to libc6_archs.
    Closes: #850565.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 16 Jan 2017 18:43:37 +0100

glibc (2.24-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-libc_rwlock_recursive.diff: New patch to work around
    fakeroot-tcp issue, see #845930.
  * hurd-i386/cvs-hurd_signal.h_c++.diff: New patch to fix building gdb.
  * hurd-i386/tg-poll_errors_fixes.diff: Fix port leak.

 -- Samuel Thibault <sthibault@debian.org>  Sun, 04 Dec 2016 22:49:53 +0100

glibc (2.24-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Fix passing address to legacy SIGBUS
    handlers.
  * hurd-i386/tg-libpthread-gsync-mutex.diff: New patch to make mutexes use
    gsync too.
  * hurd-i386/tg-NOFOLLOW.diff: New patch to fix O_NOFOLLOW errors.
  * hurd-i386/tg-NOFOLLOW-DIRECTORY.diff: New patch to fix O_NOFOLLOW |
    O_DIRECTORY errors.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/rules: build with -no-pie -fno-PIE. Closes: #845512, #845521.

  [ Matthias Klose ]
  * Allow to inject the libc-dev dependency on linux-libc-dev by the build
    environment.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 25 Nov 2016 23:09:39 +0100

glibc (2.24-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * libc0.3.symbols.hurd-i386: Drop removed RPCs.
  * hurd-i386/cvs-libpthread.diff: Update to latest upstream version.
    - hurd-i386/cvs-libpthread-static-weak.diff: Drop, merged upstream.
    - hurd-i386/cvs-pthread-atfork.diff: Drop, merged upstream.
    - hurd-i386/cvs-setcancelstate.diff: Drop, merged upstream.
  * hurd-i386/tg-libpthread-gsync-spin.diff: New patch to make spinlocks use
    gsync too.  Thanks Svante Signell for investigating issues with the first
    version.
  * hurd-i386/tg-ONSTACK.diff: New patch to fix SS_ONSTACK support.
    Closes: #551470.
  * hurd-i386/tg-extern_inline.diff: Update to upstream.
    - hurd-i386/tg-sigstate_thread_reference.diff: Refresh.
    - hurd-i386/tg-gsync-libc.diff: Refresh.
  * hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Update to upstream.
  * hurd-i386/tg-EGREGIOUS-fr.diff: New patch to fix grammar in french
    translation.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - Fix pread/pwrite syscalls on SH4.
    - Fix build on powerpc/ppc64el with binutils from trunk.  Closes: #843691.
    - Fix flexible array usage in gconv.h.  Closes: #841304.
    - Fix linknamespace parallel test failures.  Closes: #844132.
  * debian/patches/any/submitted-unicode-9.0.0.diff: proposed patch to update
    Unicode support to version 9.0.0.  Closes: #842466.
  * debian/patches/localedata/locale-C.diff: update to Unicode 9.0.0.
  * debian/patches/localedata/submitted-en_AU-date_fmt.diff: improve date_fmt
    for en_AU locale.  Closes: #841916.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 21 Nov 2016 19:22:48 +0100

glibc (2.24-5) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/sysdeps/linux.mk: fix cross-compilation by also looking at headers
    in $(LINUX_HEADERS).
  * debian/testsuite-xfail-debian.mk: allow nptl/tst-stack4 to fail on HPPA.

  [ Samuel Thibault ]
  * hurd-i386/cvs-libpthread-static-weak.diff: New patch to fix weak
    references when linking in libpthread statically.
  * hurd-i386/cvs-pthread-atfork.diff: New patch to fix unregistering atfork
    handlers at library unload. Closes: #841068.
  * debhelper.in/libc-dev.install.hurd-i386: Install libpthread_nonshared.a.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 18 Oct 2016 23:10:46 +0200

glibc (2.24-4) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-hurdsig-SA_SIGINFO.diff: Fix preemptors and thus
    hurd_safe_*.
  * hurd-i386/tg-hurdsig-fixes.diff: Fix uninitialized value.
  * hurd-i386/submitted-exec_filename.diff: Add missing includes, fix const
    warning.
  * hurd-i386/cvs-mallocfork.diff: New patch to fix concurrency between
    hurd_malloc and fork, triggered by malloc/tst-malloc-fork-deadlock.
  * hurd-i386/cvs-libpthread.diff: Update to latest upstream version.
    Closes: #839742.
  * hurd-i386/libpthread_build.diff: Refresh.
  * hurd-i386/libpthread_version.diff: Refresh.
  * hurd-i386/unsubmitted-libc_alloca_cutoff.diff: Refresh.
  * hurd-i386/cvs-hidden.diff: Drop, merged upstream.
  * hurd-i386/cvs-libpthread-2.23.diff: Drop, merged upstream.
  * hurd-i386/cvs-libpthread-api.diff: Drop, merged upstream.
  * hurd-i386/cvs-libpthread_build.diff: Drop, merged upstream.
  * hurd-i386/cvs-libpthread_clean2.diff: Drop, merged upstream.
  * hurd-i386/cvs-pt-kill.diff: Drop, merged upstream.
  * hurd-i386/libpthread-versions.diff: Drop, merged upstream.
  * hurd-i386/libpthread_clean.diff: Drop, merged upstream.
  * hurd-i386/libpthread_sigmask.diff: Drop, merged upstream.
  * hurd-i386/libpthread_spin-lock.diff: Drop, merged upstream.
  * hurd-i386/unsubmitted-libpthread-semaphore.h.diff: Drop, merged upstream.
  * hurd-i386/tg-pthread_deps.diff: New patch, fixes references to libc
    symbols.
  * testsuite-xfail-debian.mk: Clear fixed hurd-i386 test.
  * control: Drop hurd dependency from libc-bin: the reason for the dep has
    disappeared.
  * hurd-i386/unsubmitted-libc_alloca_cutoff.diff: Rename to
    hurd-i386/tg-allocalim.diff.
  * hurd-i386/unsubmitted-timer_routines.diff: Rename to
    hurd-i386/tg-timer_routines.diff.
  * hurd-i386/tg-glibc-2.24-restore-malloc-hook.diff: Restore malloc_hook for
    now for mach-defpager.
  * hurd-i386/cvs-setcancelstate.diff: New patch to work around a bug with
    newer libpthread snapshot.

  [ Adam Conrad ]
  * debian/rules.d/tarball.mk: Apply --no-renames to make the diff readable.
  * debian/rules.d/tarball.mk: Avoid filterdiff bugs with git pathspec magic.
  * debian/patches/git-updates.diff: Update to 2.24 master to test the above.

  [ John David Anglin ]
  * debian/patches/hppa/cvs-atomic-machine.diff: New patch from upstream to
    fix nptl/tst-stack4 on hppa.  Closes: #838574.

  [ Aurelien Jarno ]
  * debian/sysdeps/linux.mk: Install both kernel and library headers symlinks
    using a single for loop.
  * debian/sysdeps/linux.mk: Also install a /usr/include/<triplet>/arch
    symlink if it exists, needed for the tilegx architecture.
  * debian/control.in/main: add a dependency on lsb-base (>= 3.0-6) for ncsd.
  * debian/debhelper.in/nscd.init: also invalidate services and netgroup
    during reload.  Closes: #793649.
  * debian/control.in/main, debian/rules.d/debhelper.mk: install nscd systemd
    files. Closes: #767707.
  * debian/patches/localedata/locale-C.diff: switch back transliterations to
    combining.  Closes: #840199.
  * debian/debhelper.in/locales.postinst: improve locales-all detection.
    Closes: #840901.
  * debian/patches/i386/local-cpuid-level2.diff: replace by upstream patch
    cvs-cpuid-level2.diff.
  * debian/control.in/main: slightly relax the build-dependency on g++-6 to
    make lintian happy.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 16 Oct 2016 13:06:08 +0200

glibc (2.24-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6102 (from
    glibc-bsd).
  * debian/control.in/main: Drop "Provides: locales" for locales-all.
    Closes: #837694.
  * Mark libc-l10n as Multi-Arch: foreign.

  [ Samuel Thibault ]
  * hurd-i386/tg-poll_errors_fixes.diff: Fix spurious port destroy on io_select
    returning an error.
  * hurd-i386/cvs-libpthread.diff: Update from upstream. Fixes spurious
    dependencies of libp11, libgnutls30, libbsd0.

  [ John David Anglin ]
  * patches/hppa/submitted-sysdeps-cancel.diff: new patch to fix syscall
    cancellation issues.  Closes: #837518.
  * testsuite-xfail-debian.mk: HPPA updates.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 17 Sep 2016 20:00:44 +0200

glibc (2.24-2) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-gsync-libc.diff: Fix for glibc 2.24.
  * testsuite-xfail-debian.mk: Update header conformance results.

  [ Aurelien Jarno ]
  * debian/rules.d/debhelper.mk: remove the arch-qualifier from the
    linux-libc-dev depends.  Closes: #836446.
  * debian/patches/any/submitted-perl-inc.diff: new patch to fix the
    testsuite with perl (>= 5.22.2-4), which removed '.' from @INC by
    default.
  * debian/patches/git-updates.diff: update from upstream stable branch.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 03 Sep 2016 22:36:31 +0200

glibc (2.24-1) unstable; urgency=medium

  [ Adam Conrad ]
  * debian/rules.d/control.mk: Manually add binutils, linux-libc-dev, and the
    current GCC to the rebuild test deps, so they land in Testsuite-Triggers.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/any/submitted-argp-attribute.diff: upstreamed.
    - Fix backtrace hang on armel/armhf, possibly causing a minor
      denial-of-service vulnerability (CVE-2016-6323).  Closes: #834752.
  * debian/control.in/libc: drop ${locale-compat:Depends} as it was not used
    anymore.
  * debian/control.in/libc, debian/rules.d/debhelper.mk: compute the
    linux-libc-dev dependency from the one installed at build time.  Closes:
    #834706.
  * debian/patches/series: apply hppa/submitted-setcontext.diff.  Closes:
    #835414.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-adjtime-NULL.diff: New patch to fix crash on
    adjtime(..., NULL).

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 31 Aug 2016 17:51:04 +0200

glibc (2.24-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * testsuite-xfail-debian.mk: Update with hurd-i386 non-regressions.

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/powerpc/submitted-powerpc-ifunc-sel.diff: upstreamed.
    - debian/patches/sparc/submitted-sparc-fdim.diff: upstreamed.
  * debian/patches/sparc/cvs-test-strncmp.diff: new patch from upstream to
    fix wcsmbs/test-wcsncmp on architecture with strong alignment.  Closes:
    #825865.
  * debian/patches/testsuite-xfail-debian.mk: remove xfail-test-wcsncmp on
    sparc.
  * debian/sysdeps/{sparc,sparc64}.mk: force target to sparcv9-linux-gnu.
  * debian/patches/sparc/local-sparcv9-target.diff: drop, obsolete.
  * patches/hppa/local-stack-grows-up.diff: restore one hunk that has not been
    merged upstream from the 2.23 version.
  * patches/localedata/locale-C.diff: update to unicode 8.0.0, add missing
    categories, use the copy directive when possible.
  * debian/rules.d/build.mk: disable the C++ compiler when tests are disabled,
    based on a patch from Matthias Klose.  Closes: #834138.
  * rules.d/build.mk: test for DEB_BUILD_OPTIONS="nocheck" using filter
    instead of findstring.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6101 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 15 Aug 2016 16:55:38 +0200

glibc (2.24-0experimental0) experimental; urgency=medium

  * New upstream release: version 2.24.
  * debian/patches/hurd-i386/submitted-malloc-setstate.diff: only apply on
    hurd-i386, as it causes regressions on at least x32.
  * debian/rules.d/tarball.mk: make the orig tarball generation a bit more
    reproducible.
  * debian/sysdeps/sparc64.mk: compile all flavours with -mcpu=ultrasparc.
  * debian/patches/submitted-sparc-fdim.diff: new patch to fix fdimf and
    fdim function on SPARC.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 04 Aug 2016 03:13:12 +0200

glibc (2.23.90+20160725.b898b64-1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream snapshot from 20160725.
  * debian/testsuite-xfail-debian.mk: remove HPPA math tests from XFAIL,
    the problem is fixed from some time already.
  * debian/patches/powerpc/submitted-powerpc-ifunc-sel.diff: new patch to
    fix the ifunc tests with GCC 6 on PowerPC.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 25 Jul 2016 23:38:37 +0200

glibc (2.23.90+20160719.2c3d888-1) experimental; urgency=medium

  [ Samuel Thibault ]
  * testsuite-xfail-debian.mk: Add missing test failure (no actual
    regression).

  [ Aurelien Jarno ]
  * New upstream snapshot from 20160719:
    - debian/patches/hurd-i386/cvs-tabdly.diff: upstreamed.
  * debian/control.in/main, debian/rules: build with GCC 6.  Closes: #835946.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 19 Jul 2016 23:34:49 +0200

glibc (2.23.90+20160711.c10f90d-1) experimental; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-malloc-setstate.diff: New patch to fix
    malloc_setstate.
  * testsuite-xfail-debian.mk: Update hurd-i386 testsuite results, no actual
    regression.

  [ Aurelien Jarno ]
  * New upstream snapshot from 20160711:
    - debian/patches/localedata/locale-de_LI.diff: upstreamed.
    - debian/patches/hppa/submitted-libm-test-ulps.diff: upstreamed.
  * debian/testsuite-xfail-debian.mk: allow conform/XPG3/sys/stat.h
    and conform/XPG4/sys/stat.h to fail on mips and mipsel, similarly
    to the others sys/stat.h conform tests. Group all theses entries
    and an explanation.
  * debian/testsuite-xfail-debian.mk: do not allow math/test-fenv to
    fail now that we do not have Loongson 2 buildds anymore.
  * debian/patches/kfreebsd/local-sysdeps.diff, local-fbtl.diff:
    update to revision 6087 (from glibc-bsd).
  * debian/testsuite-xfail-debian.mk: allow more failures on kfreebsd-*,
    mostly due to the fsid_t type, and which are not regressions.
  * testsuite-xfail-debian.mk: Update x32 testsuite results, no actual
    regression.
  * Replace debian/patches/alpha/submitted-trunc.diff by
    debian/patches/alpha/submitted-math-fixes.diff containing additional
    math fixes.
  * debian/rules: better glibc version detection for snapshots.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 11 Jul 2016 22:45:50 +0200

glibc (2.23.90+20160507.87523e9-1) experimental; urgency=medium

  * New upstream snapshot from 20160705:
    - Fix locales license.  Closes: #555168.
    - Fix Spanish locale 1st week definition.  Closes: #826888.
    - debian/patches/localedata/sort-UTF8-first.diff: rebased.
    - debian/patches/localedata/locale-eo_EO.diff: upstreamed.
    - debian/patches/localedata/locale-ku_TR.diff: rebased.
    - debian/patches/localedata/fo_FO-date_fmt.diff: rebased.
    - debian/patches/localedata/locales-fr.diff: rebased.
    - debian/patches/localedata/locale-en_DK.diff: rebased.
    - debian/patches/localedata/locale-hsb_DE.diff: rebased.
    - debian/patches/localedata/fr_CH-first_weekday.diff: upstreamed.
    - debian/patches/localedata/locale-de_LI.diff: rebased.
    - debian/patches/localedata/submitted-bz9725-locale-sv_SE.diff: rebased.
    - debian/patches/localedata/first_weekday.diff: upstreamed.
    - debian/patches/localedata/submitted-en_AU-date_fmt.diff: rebased.
    - debian/patches/amd64/local-blacklist-for-Intel-TSX.diff
    - debian/patches/arm/local-arm-futex.diff: rebased.
    - debian/patches/hppa/local-stack-grows-up.diff: dropped, obsolete.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: rebased.
    - debian/patches/hurd-i386/tg-tls-threadvar.diff: rebased.
    - debian/patches/hurd-i386/tg-hooks.diff: rebased.
    - debian/patches/hurd-i386/cvs-openat.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-gai_sigqueue.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-aio_sigqueue.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-open.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-c++-types.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-errnos.d.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-mach-syscalls.mk.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-auxv.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-gprof-tick.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-IPV6_PKTINFO.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-i686-link.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-check-local-headers.diff: rebased.
    - debian/patches/hurd-i386/tg-gsync-libc.diff: rebased.
    - debian/patches/i386/local-cpuid-level2.diff: rebased.
    - debian/patches/sparc/submitted-sparc64-socketcall.diff: rebased.
    - debian/patches/sparc/cvs-sparc-nearbyint.diff: upstreamed.
    - debian/patches/any/local-libgcc-compat-ports.diff: rebased.
    - debian/patches/any/submitted-longdouble.diff: rebased.
    - debian/patches/any/submitted-string2-strcmp.diff: rebased.
    - debian/patches/any/local-dynamic-resolvconf.diff: rebased.
    - debian/patches/any/cvs-tst-malloc-thread-exit.diff: upstreamed.
    - debian/patches/any/cvs-sys-personality-h.diff: upstreamed.
  * debian/patches/localedata/{locale-C.diff,locale-de_LI.diff,
    locale-eu_FR.diff,new-valencian-locale.diff}: change LC_IDENTIFICATION
    to i18n:2012.
  * debian/debhelper.in/locales.config: convert iw_IL into he_IL, as the
    former was deprecated and has been removed.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 Jul 2016 20:47:21 +0200

glibc (2.23-5) unstable; urgency=medium

  * patches/hurd-i386/git-recvmsg.diff: New patch, fixes recvmsg on PF_LOCAL
    sockets with msg_name != NULL.  Closes: #833558.
  * hurd-i386/libpthread_version.diff: Really fix pthread_setcancelstate
    aliasing.
  * libc0.3.symbols.hurd-i386: Update symbols.
  * hurd-i386/tg-sysvshm.diff: Update from topgit.
  * hurd-i386/cvs-check-local-headers.diff: Update from git.
  * hurd-i386/tg-extern_inline.diff: Fix using inlines in libc.
  * hurd-i386/cvs-libpthread-2.23.diff: Fix calling pthread functions from
    libc.
  * hurd-i386/tg-gsync-libc.diff: New patch, use gsync for libc
    synchronization primitives.

 -- Samuel Thibault <sthibault@debian.org>  Tue, 23 Aug 2016 21:16:41 +0200

glibc (2.23-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6098 (from
    glibc-bsd).
  * debian/debhelper.in/libc.postinst: drop code to handle the /var/mail
    transition for pre-Potato installations.
  * debian/debhelper.in/libc.{preinst,postinst}, debian/script.in/nohwcap.sh:
    Remove fallback to dpkg --print-architecture for pre-multiarch systems.
  * debian/debhelper.in/libc.{preinst,postinst}: do not run the NSS check
    code from a chroot as it might not have an init system installed.
  * debian/testsuite-xfail-debian.mk: allow tst-robust8 to fail on amd64, it
    is an intermittent failure that might be due to a kernel issue.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 27 Jul 2016 00:39:51 +0200

glibc (2.23-3) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/libpthread_version.diff: Update with pthread_setcancelstate
    aliasing.

  [ Aurelien Jarno ]
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6097 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 25 Jul 2016 23:23:29 +0200

glibc (2.23-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Danish debconf translation update from Joe Hansen.  Closes: #830589.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6096 (from
    glibc-bsd).

  [ Samuel Thibault ]
  * hurd-i386/cvs-libpthread-2.23.diff: Update, adds pthread_setcancelstate
    alias, fixes rsyslog start.
  * hurd-i386/cvs-tabdly.diff: New patch.  Closes: #830584.
  * hurd-i386/local-clock_gettime_MONOTONIC.diff: Complete patch with
    timer_create, to fix ghc 8 build.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 19 Jul 2016 20:22:37 +0200

glibc (2.23-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/hppa/submitted-start.diff: drop, upstreamed.
  * debian/patches/localedata/locale-C.diff: update comment about the week
    entry.  Closes: #829093.
  * debian/testsuite-xfail-debian.mk: allow malloc/tst-mallocfork2 to fail
    on hurd-i386, this is not a regression but a new test.
  * debian/patches/sparc/cvs-sparc-nearbyint.diff: new patch from upstream
    to fix nearbyint* functions with a sNaN input on SPARC.
  * debian/testsuite-xfail-debian.mk: allow math/test-double-finite and
    math/test-float-finite to fail on alpha, as this architecture do not
    fully support IEEE flags.
  * debian/patches/alpha/submitted-trunc.diff: new patch to fix trunc and
    truncf results for big values on alpha.
  * debian/testsuite-xfail-debian.mk: allow nptl/tst-cancel9 and
    nptl/tst-cancelx9 to fail on hppa, they are not regressions.

  [ John David Anglin ]
  * debian/patches/hppa/submitted-libm-test-ulps.diff: new patch to update
    the math test ULPs on hppa.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-poll_errors_fixes.diff: Update from tg branch, fixes
    gettimeofday call from select.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Jul 2016 21:59:34 +0200

glibc (2.23-0experimental4) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/rules.d/build.mk: allow a test to fail without having a .out
    file.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6075 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 30 Jun 2016 12:25:44 +0200

glibc (2.23-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch:
    - debian/patches/hurd-i386/tg-hurdsig-fixes-2.diff: refresh.
    - debian/patches/hurd-i386/cvs-libpthread.so.diff: drop, upstreamed.
    - debian/patches/mips/submitted-vfork.diff: drop, upstreamed.
    - debian/patches/sparc/submitted-vfork.diff: drop, upstreamed.
  * debian/rules.d/build.mk: reduce TIMEOUTFACTOR to 15 from 50. That
    corresponds to a 5 minutes default, which should be more than enough even
    on slow architectures.
  * debian/sysdeps/mips64el.mk: change the ISA back to MIPS3 to fix math FMA
    tests on some CPUs.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 28 Jun 2016 00:48:51 +0200

glibc (2.23-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * patches/kfreebsd/local-fbtl.diff: update to revision 5973 (from
    glibc-bsd).
  * debian/rules, debian/rules.d/build.mk: rename localedir into complocaledir
    following upstream change.
  * debian/patches/local-allocalim-header.diff: drop, obsolete.
  * debian/patches/any/local-no-pagesize.diff: drop, obsolete.

  [ Adam Conrad ]
  * debian/testsuite-xfail-debian.mk: Also allow tst-malloc-thread-fail to
    fail where we've already done so for test-xfail-tst-malloc-thread-exit.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 14 Apr 2016 14:20:30 +0200

glibc (2.23-0experimental1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/git-updates.diff: update from upstream stable branch.
  * debian/testsuite-xfail-debian.mk (powerpc) really mark
    tst-malloc-thread-exit as xfail.
  * debian/testsuite-xfail-debian.mk (ppc64) mark tst-malloc-thread-exit
    test as xfail, it is a known issue and not a regression.
  * patches/kfreebsd/local-fbtl.diff: update to revision 5969 (from
    glibc-bsd).
  * debian/patches/kfreebsd/local-tst-malloc-fbtl.diff: drop, obsoleted by
    hurd-i386/cvs-libpthread.so.diff.
  * debian/patches/kfreebsd/local-tst-unique.diff: disable tst-unique* on
    GNU/kFreeBSD, as they are not supported by the FreeBSD ELF OSABI.
  * debian/patches/alpha/submitted-fts64.diff: new patch to fix the new fts64
    function on alpha.

  [ Samuel Thibault ]
  * hurd-i386/cvs-libpthread.diff: More updates to glibc-2.23.
  * hurd-i386/cvs-openat.diff: Fix __openat prototype.
  * hurd-i386/cvs-gai_sigqueue.diff: Fix gai_sigqueue prototype.
  * hurd-i386/cvs-aio_sigqueue.diff: Fix aio_sigqueue prototype.
  * hurd-i386/cvs-libpthread.diff: Separate 2.23 changes to...
  * hurd-i386/cvs-libpthread-2.23.diff: ... separate patch.
  * hurd-i386/cvs-libpthread.so.diff: Fix building malloc tests.
  * testsuite-xfail-debian.mk: Skip test which just overflows memory.
  * hurd-i386/cvs-pt-kill.diff: Fix pthread_kill locking.
  * hurd-i386/cvs-open.diff: Fix __open in ld.so, thus fixing dlopen().
  * hurd-i386/cvs-c++-types.diff: Add expected c++-types.data.
  * hurd-i386/local-ihash-use.diff: Note that libpthread uses ihash.h.
  * testsuite-xfail-debian.mk: Add failing new tests. Disable the problematic
    test-lfs test.
  * hurd-i386/local-versions.diff: New patch to fix symbol version.

  [ Adam Conrad ]
  * debian/patches/any/cvs-tst-malloc-thread-exit.diff: Backport fix from
    upstream to make tst-malloc-thread-exit use fewer system resources.
  * debian/debhelper.in/locales.config: Make default_environment_locale
    get preseeded correctly both with and without /etc/default/locale.
  * debian/control.in/i386: Remove list of Breaks that predate oldstable.
  * debian/control.in/*: Drop long obsolete file overlap Breaks/Replaces.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 24 Mar 2016 00:21:05 +0100

glibc (2.23-0experimental0) experimental; urgency=medium

  [ Aurelien Jarno ]
  * New upstream release: version 2.23, with git updates up to 2016-03-12:
    - Fix German translation of "Alarm clock".  Closes: #291293.
    - Fix strtol in Turkish locales.  Closes: #458611.
    - Add LFS support for fts functions.  Closes: #534521.
    - Fix build with GCC 6.  Closes: #811574.
    - Fix unbounded stack allocation in nan* functions (CVE-2014-9761).
      Closes: #813187.
    - debian/patches/localedata/locale-ku_TR.diff: rebased.
    - debian/patches/localedata/fix-lang.diff: upstreamed.
    - debian/patches/localedata/first_weekday.diff: rebased.
    - debian/patches/localedata/locale-nb_NO.diff: upstreamed.
    - debian/patches/localedata/cvs-bg_BG-t_fmt.diff: upstreamed.
    - debian/patches/alpha/local-string-functions.diff: rebased.
    - debian/patches/amd64/local-blacklist-for-Intel-TSX.diff: rebased.
    - debian/patches/arm/local-ioperm.diff: dropped.
    - debian/patches/hppa/cvs-allocatestack-stacktop.diff: upstreamed.
    - debian/patches/hppa/local-pthread_spin_unlock.diff: upstreamed.
    - debian/patches/hppa/submitted-mathdef.diff: upstreamed.
    - debian/patches/hppa/cvs-update-mman.h.diff: upstreamed.
    - debian/patches/hppa/submitted-dladdr.diff: partially upstreamed, rebased.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: rebased.
    - debian/patches/hurd-i386/tg-tls.diff: rebased.
    - debian/patches/hurd-i386/tg-tls-threadvar.diff: rebased.
    - debian/patches/hurd-i386/tg-hurdsig-fixes.diff: rebased.
    - debian/patches/hurd-i386/tg-hurdsig-global-dispositions.diff: rebased.
    - debian/patches/hurd-i386/cvs-libpthread.diff: updated.
    - debian/patches/hurd-i386/unsubmitted-gnumach.defs.diff: rebased.
    - debian/patches/hurd-i386/submitted-fork_port_leak.diff: upstreamed.
    - debian/patches/hurd-i386/tg-libc_getspecific.diff: rebased.
    - debian/patches/hurd-i386/cvs-libpthread-libc-lockP.diff: upstreamed.
    - debian/patches/hurd-i386/tg-mmap32th_bit.diff: upstreamed.
    - debian/patches/hurd-i386/tg-sysheaders.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-bootstrap.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-cache-mach_host_self.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-csu_crt0.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-s_scalbn.diff: upstreamed.
    - debian/patches/hurd-i386/local-mach_print.diff: rebased.
    - debian/patches/hurd-i386/cvs-hidden.diff: rebased.
    - debian/patches/hurd-i386/cvs-O_DIRECTORY.diff: upstreamed.
    - debian/patches/hurd-i386/cvs-raise-longjump.diff: upstreamed.
    - debian/patches/hurd-i386/tg-faccessat.diff: rebased.
    - debian/patches/i386/local-i386-ulps.diff: dropped.
    - debian/patches/kfreebsd/local-scripts.diff: rebased.
    - debian/patches/m68k/submitted-gcc34-seccomment.diff: rebased.
    - debian/patches/mips/cvs-testsuite-o32-fp.diff: upstreamed.
    - debian/patches/powerpc/local-powerpc8xx-dcbz.diff: rebased.
    - debian/patches/sh4/local-fpscr_values.diff: rebased.
    - debian/patches/any/local-bindresvport_blacklist.diff: rebased.
    - debian/patches/any/local-libgcc-compat-main.diff: rebased.
    - debian/patches/any/local-libgcc-compat-abilists.diff: rebased.
    - debian/patches/any/local-mktemp.diff: upstreamed.
    - debian/patches/any/cvs-stdio-lock.diff: upstreamed.
    - debian/patches/any/local-tcsetaddr.diff: rebased.
    - debian/patches/any/local-tst-mktime2.diff: rebased.
    - debian/patches/any/submitted-nis-netgrp.diff: upstreamed.
    - debian/patches/any/submitted-longdouble.diff: rebased.
    - debian/patches/any/local-dynamic-resolvconf.diff: rebased.
    - debian/patches/any/local-static-dlopen-search-path.diff: upstreamed.
    - debian/patches/any/local-math-logb.diff: upstreamed.
    - debian/patches/any/cvs-gawk-gensub.diff: upstreamed.
    - debian/patches/any/cvs-grantpt-namespace.diff: upstreamed.
    - debian/patches/any/cvs-grantpt-pty-owner.diff: upstreamed.
    - debian/patches/any/cvs-bits-libc-stdio-lock.diff: upstreamed.
    - debian/patches/any/submitted-hle-checking-mutex.diff: upstreamed.
    - debian/{control,symbols.wildcards,copyright}: Updated strings for 2.23.
    - debian/patches/kfreebsd/local-undef-glibc.diff: rebased.
    - debian/patches/kfreebsd/local-tst-malloc-backtrace.diff: rebased,
      renamed into local-tst-malloc-fbtl.diff.
    - debian/patches/hurd-i386/submitted-net.diff: rebased.
    - debian/patches/hurd-i386/tg-bits_atomic.h_multiple_threads.diff:
      rebased.
    - debian/patches/hurd-i386/submitted-handle-eprototype.diff: dropped.
  * debian/testsuite-xfail-debian.mk (powerpc) mark tst-malloc-thread-fail
    test as xfail, it is a known issue and not a regression.
  * debian/testsuite-xfail-debian.mk (mipsel): mark a few math tests are
    failing, due to a bug in the Loongson 3 FPU.
  * patches/kfreebsd/local-fbtl.diff: update to revision 5940 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 13 Mar 2016 19:22:45 +0100

glibc (2.22-13) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/mips/submitted-vfork.diff: new patch to fix ABI change and
    testsuite on mips*.
  * debian/patches/sparc/submitted-vfork.diff: new patch to fix ABI change and
    testsuite on sparc*.
  * debian/sysdeps/mipsel.mk, debian/sysdeps/mips64el.mk: bump ISA to MIPS32
    and MIPS64.
  * debian/patches/hppa/submitted-start.diff: new patch from John David Anglin
    to fix crash in executables built with -p and linked against gcrt1.o.
    Closes: #827876.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 27 Jun 2016 00:51:43 +0200

glibc (2.22-12) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - fix FTBFS with recent binutils versions on mips* and sparc*.  Closes:
      #827477.
  * debian/sysdeps/kfreebsd-i386.mk: fix libc0.1-i686 package name.
  * debian/rules.d/build.mk: in case of build failure due testsuite
    issues, display again the failed tests so that they appear at the end of
    the build log.
  * debian/local/etc/nsswitch.conf: add gshadow line to default
    /etc/nsswitch.conf (addresses #699090).
  * debian/debhelper.in/libc-bin.postinst: update /etc/nsswitch.conf to the
    current default if it matches a version shipped by base-files or
    libc-bin. This is based on a patch from Santiago Vila, thanks.  Closes:
    #827105.

  [ Samuel Thibault ]
  * hurd-i386/tg-eintr.diff: New patch to fix "Interrupted" issues in ghc.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 20 Jun 2016 00:01:21 +0200

glibc (2.22-11) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/tg-poll_errors_fixes.diff: Fix crash when calling poll or select
    on a fd which had never been allocated.  Closes: #826175.
  * hurd-i386/tg-faccessat.diff: Finish faccessat implementation. Fixes
    findutils.  Closes: #823027.

  [ Aurelien Jarno ]
  * Update from upstream stable branch.
  * debian/control: re-add libc0.1-i686, libc0.3-i686, libc6-i686 as a
    dummy package to ease the upgrades.  Closes: #825421, #826290.
  * debian/sysdeps/i386.mk: add libc6-i686 dummy package.
  * debian/sysdeps/hurd-i386.mk: add libc0.1-i686 dummy package.
  * debian/sysdeps/kfreebsd-i386.mk: add libc0.3-i686 dummy package.
  * debian/debhelper.in/libc.NEWS: drop the new about libc6-i686, libc0.1-i686
    and libc0.3-i686 packages removal.
  * debian/script.in/nohwcap.sh: drop sparc optimized packages.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 05 Jun 2016 00:04:04 +0200

glibc (2.22-10) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix a stack overflow in Sun RPC clntudp_call() (CVE-2016-4429).
  * debian/control.in/main: build-depends on dpkg (>= 1.18.7) instead of
    dpkg-dev (>= 1.18.7) as the cputable file is in dpkg, not dpkg-dev.
    Closes: #824127.
  * debian/debhelper.in/libc.NEWS: add an entry about the dropped libc6-i686,
    libc0.1-i686 and libc0.3-i686 packages.  Closes: #825421.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-i686-link.diff: Fix link of i686 build.
  * sysdeps/hurd-i386.mk: Disable ifunc, not working yet.
  * sysdeps/hurd-i386.mk: Fix and re-enable xen build.
  * control: Re-introduce libc0.3-xen package.
  * patches/hurd-i386/cvs-check-local-headers.diff: Update exclusion list.

  [ John David Anglin ]
  * debian/patches/hppa/submitted-setcontext.diff: new patch to fix setcontext
    return code on hppa.  Closes: #824344.
  * debian/patches/hppa/submitted-dladdr.diff: update patch to fix
    debug/backtrace-tst test failure.  Closes: #824362.
  * debian/testsuite-xfail-debian.mk: update expected testsuite results.
    Closes: #824363.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 31 May 2016 23:48:20 +0200

glibc (2.22-9) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/cvs-libpthread.so.diff: Fix building malloc tests.
  * debian/testsuite-xfail-debian.mk: Update LFS tests.

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk: drop check on i586 flavours.
  * debian/patches/kfreebsd/local-tst-malloc-backtrace.diff: drop, obsoleted
    by hurd-i386/cvs-libpthread.so.diff.
  * debian/patches/arm/unsubmitted-ldconfig-cache-abi.diff: correctly apply
    patch. Really fix #822489.
  * control.in/main: Bump Standards-Version to 3.9.8 (no changes).

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 May 2016 12:55:01 +0200

glibc (2.22-8) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/cvs-gprof-tick.diff: Cherry-pick from upstream to fix gprof
    timing.
  * hurd-i386/cvs-IPV6_PKTINFO.diff: Cherry-pick from upstream to fix
    IPV6_*PKT* macros.

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix a buffer overflow in the glob function (CVE-2016-1234).
    - Fix a stack overflow in getaddrinfo function (CVE-2016-3706).
    - Fix nss_hesiod breakage.  Closes: #821358.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 6051 (from
    glibc-bsd) to fix FTBFS and provide PT_FOLLOW_FORK in sys/ptrace.h.
    Closes: #822143, #823387.
  * patches/arm/unsubmitted-ldconfig-cache-abi.diff: apply fix from Steve
    McIntyre to fix an armhf ABI detection crash in ldconfig on arm64.
    Closes: #822489.
  * debian/control.in/main: upgrade breaks on binutils. This is plainly
    wrong though, glibc should not be a special case: either we don't
    support partial upgrades or we do that for all libraries. With that
    let's hope people will stop reporting bugs, sigh.  Closes: #819165.
  * Drop libc*-i686 packages as GCC now defaults to i686:
    - debian/control: drop packages, add provides and build-depends on
      g++-5 (>= 5.3.1-17) and dpkg-dev (>= 1.18.7).
    - debian/sysdeps/hurd-i386.mk: stop building libc0.3-i686. Use the
      default compiler options to build libc0.3-xen.
    - debian/sysdeps/i386.mk: stop building libc6-i686.
    - debian/sysdeps/kfreebsd-i386.mk: drop.
    - debian/patches/i386/submitted-i686-timing.diff: drop.  Closes:
      #218519.

  [ Adam Conrad ]
  * debian/control.in/libc: Force i686 variants off the system on upgrade.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 11 May 2016 23:39:05 +0200

glibc (2.22-7) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/submitted-auxv.diff: Update from upstream commit into
    cvs-auxv.diff.
  * hurd-i386/unsubmitted-prof-eintr.diff: Fix recording profiling from
    ext2fs.
  * hurd-i386/submitted-anon-mmap-shared.diff: Disable, actually breaks
    booting hurd-i386.
  * control: Add myself as uploader.

 -- Samuel Thibault <sthibault@debian.org>  Tue, 19 Apr 2016 11:48:08 +0200

glibc (2.22-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * hurd-i386/submitted-auxv.diff: New patch, fixes cvs crash.
  * hurd-i386/submitted-anon-mmap-shared.diff: New patch, fixes inheritence of
    shared anonymous memory.

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix stack overflow when getnetbyname is invoked on a very long name
      (CVE-2016-3075).
    - Fix HTM on powerpc/ppc64/ppc64el.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 09 Apr 2016 13:35:19 +0200

glibc (2.22-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * testsuite-xfail-debian.mk: Disable the problematic test-lfs test on hurd.

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix assertion failure with unconnectable name server addresses.  Closes:
      #816669.
  * Drop libnss-dns-udeb and libnss-files-udeb and merge the files they
    include in libc6-udeb.
  * debian/patches/any/cvs-sys-personality-h.diff: new patch to synchronise
    <sys/personality.h> with kernel headers.  Closes: #697456.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 29 Mar 2016 00:44:21 +0200

glibc (2.22-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix a memory leak in the resolver (CVE-2016-5417).  Closes: #818178.
  * debian/patches/localedata/fr_CA-first_weekday.diff: drop.  Closes:
    #769051.
  * debian/rules, debian/rules.d/build.mk: move the C.UTF-8 locale and
    locales-all generation to a separate target instead of building them
    in the build_libc target.
  * debian/control.in/main, debian/rules, debian/rules.d/build.mk: make sure
    to use the just built localedef when building locales. When
    cross-compiling use the system localedef with the correct endianness and
    build-depends on the correct version.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-sendmsg-SCM_RIGHTS.diff,tg-sendmsg-SCM_CREDS.diff:
    Update.
  * patches/hurd-i386/cvs-errnos.d.diff: New patch to fix build dependency
    loop.
  * patches/hurd-i386/cvs-mach-syscalls.mk.diff: New patch to fix missing
    dependency.

  [ Adam Conrad ]
  * debian/glibc-source.filelist: Refresh list of source files and sort.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 21 Mar 2016 18:41:37 +0100

glibc (2.22-3) unstable; urgency=medium

  * Update from upstream stable branch:
    - Fix linking shared objects that use libmvec.so functions.  Closes:
      #817879.
  * debian/sysdeps/sh4.mk: build with -fno-delete-null-pointer-checks to
    workaround a missing SH4 specific __builtin_trap implementation in GCC.
  * debian/patches/localedata/locale-C.diff: fix LC_TIME week and d_t_fmt
    fields in C.UTF-8 locale.  Closes: #817895.
  * debian/sysdeps/powerpcspe.mk: pass --without-fp to the configure script
    on powerpcspe.  Closes: #817926.
  * debian/rules.d/control.mk: add nios2 architecture.  Closes: #817944.
  * debian/patches/any/submitted-dlopen-noload.diff: new patch to fix a crash
    in dlopen() with RTLD_NOLOAD.  Closes: #817900.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 12 Mar 2016 22:40:15 +0100

glibc (2.22-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix pow() precision on CPUs with fma4, and the corresponding testsuite
      failures.
    - debian/patches/s390/submitted-socketcall.diff: drop, merged upstream.
  * debian/libc6{,-mips32,-mipsn32}.symbols.mips64el: add symbols for files for
    mips64el.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 5932 (from
    glibc-bsd):
    - Fix consistency check for PIC code when built with GCC 5.  Closes:
      #817207.
  * debian/rules, debian/rules.d/build.mk, debian/rules.d/debhelper.mk: define
    the mvec variable per flavour and not per platform.
  * sysdeps/*mk: enable libmvec only on amd64 and x32 flavours.
  * debian/debhelper.in/libc-dev-alt.install: install libmvec_nonshared.a also
    for alternative builds.
  * debian/debhelper.in/libc-dev{,-alt}.install: install libmvec.a.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 09 Mar 2016 18:42:19 +0100

glibc (2.22-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/testsuite-xfail-debian.mk (alpha): mark a few failures which
    are not a regression compared to 2.21 as xfail.
  * debian/testsuite-xfail-debian.mk (hurd): mark another failure which
    is not a regression compared to 2.21 as xfail.
  * debian/control.in/main: avoid experimental versions, use versions that
    went through unstable instead.

  [ Samuel Thibault ]
  * control: Accept hurd-headers-dev and libihash-dev as alternatives to
    hurd-dev for bootstrapping.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 07 Mar 2016 12:38:18 +0100

glibc (2.22-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - debian/patches/any/local-CVE-2015-7547.diff: drop, merged upstream.
  * debian/testsuite-xfail-debian.mk (hurd): correctly detect Hurd. Mark tests
    failing to build as unsupported. Update for glibc 2.22.
  * debian/patches/hurd-i386/submitted-hurd-abilist.diff: new patch to get the
    abilist tests buildable on Hurd.
  * debian/testsuite-xfail-debian.mk (mips): correctly detect 64-bit mips
    flavours.
  * debian/testsuite-xfail-debian.mk (hppa): mark new tests which fail as
    xfail.
  * debian/testsuite-xfail-debian.mk (alpha): mark new tests which fail as
    xfail.
  * control.in/main: Bump Standards-Version to 3.9.7 (no changes).
  * debian/patches/sparc/submitted-sparc64-socketcall.diff: new patch to fix
    bind(), listen() and setsockopt()when built against 4.4+ kernel headers.
  * Update German debconf translation, by Helge Kreutzman.  Closes: #815697.
  * Update Japanese debconf translation, by Takuma Yamada.  Closes: #815858.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 Mar 2016 18:56:42 +0100

glibc (2.22-0experimental2) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/m68k/local-fpic.diff: drop, obsolete.
  * debian/patches/m68k/local-mathinline_h.diff: drop, not applied for a
    lot of time, obsolete.
  * debian/patches/sparc/submitted-timing.diff: drop, obsolete, not
    needed anymore since libc6-sparcv9 has been removed.
  * debian/patches/any/local-no-malloc-backtrace.diff: drop, the real bug
    has been fixed upstream.
  * debian/patches/any/local-no-SOCK_NONBLOCK.diff: drop, both GNU/Hurd
    and GNU/kFreeBSD now support SOCK_NONBLOCK.
  * debian/patches/any/local-libgcc-compat-ports.diff: refresh.
  * debian/patches/any/local-disable-test-tgmath2.diff: drop, 8 years have
    passed, the build daemons should now have enough resources to build
    and run this test.
  * debian/patches/s390/submitted-nexttowardf.diff: drop, fixed upstream
    another way.
  * debian/patches/alpha/submitted-rtld-fPIC.diff: drop, fixed upstream
    another way.
  * debian/patches/any/unsubmitted-scanf-includes.diff: replace the hack by
    the upstream fix patches/any/cvs-bits-libc-stdio-lock.diff. This also
    stop installing <bits/libc-lock.h> and <bits/stdio-lock.h>.  Closes:
    #404532, #639697.
  * debian/control, debian/rules.d/control.mk, debian/sysdeps/arm.mk: remove
    support for the ARM old-ABI architecture, it is not supported upstream
    anymore.
  * debian/sysdeps/*.mk: cleanup and homogenize:
    - define options common to all flavours using the non-flavour specific
      variable.
    - reorganize to not mix generic variables with flavour specific variables.
    - move -march and -mtune options from extra_cflags to CC and CXX as they
      might slightly change the ABI and the configure script needs to detect
      that.
  * debian/testsuite-checking/expected-results-sparc64-linux-gnu-libc: allow
    new tests to fail, cleanup resolved issues.
  * Replace debian/patches/i386/submitted-i586-ulps.diff by
    debian/patches/i386/local-i386-ulps.diff. The actual math precision
    depends on the CPU manufacturer and on the ability to use SSE2
    instructions or not. Change the i386 ULPs to the lowest precision
    produced by AMD and Intel CPU with and without SSE2 until upstream can
    figure out a better solution.
  * debian/testsuite-checking/expected-results-powerpc64le-linux-gnu-libc:
    allow nptl/tst-cancel17 and nptl/tst-cancelx17, this is a know upstream
    race condition.
  * debian/testsuite-checking/*, debian/testsuite-xfail-debian.mk,
    debian/rules.d/build.mk: rework testsuite system by extending upstream.
  * debian/debhelper.in/libc{,-alt,otherbuild).install: stop shipping
    testsuite results as it make the package build non-reproducible in case
    of different kernels and race conditions in the testsuite.
  * debian/testsuite-xfail-debian.mk: allow stdlib/tst-makecontext to fail
    on armel and armhf, as it is a new test introduced with glibc 2.22 and
    not a regression.
  * debian/patches/git-updates.diff: update to the latest commit of the
    2.22 branch.
  * debian/patches/alpha/submitted-abilist.diff: drop, merged upstream.
  * debian/patches/hppa/cvs-inline-syscall.diff: drop, merged upstream.
  * debian/patches/hppa/cvs-start.diff: drop, merged upstream.
  * debian/control.in/main: update VCS fields to the canonical location.
  * debian/control.in/{libc,libnss-dns-udeb,libnss-files-udeb}: rename
    XC-Package-Type into Package-Type.
  * debian/control.in/libc: drop conflicts on prelink (<= 0.0.20090311-1) as
    we don't support Lenny to Stretch upgrades.
  * debian/debhelper.in/libc-bin.{postinst,lintian-overrides},
    debian/rules.d/debhelper.mk, debian/local/sbin/ldconfig: remove ldconfig
    wrapper as new debhelper versions use the trigger instead of an explicit
    call to ldconfig.
  * debian/testsuite-xfail-debian.mk: allow POSIX2008/netdb.h/linknamespace
    and -XOPEN2K/netdb.h/linknamespace to fail on kfreebsd-* (new tests).
  * debian/testsuite-xfail-debian.mk: allow tst-setcontext2 to fail on
    kfreebsd-* (new test also failing on native FreeBSD).

  [ Adam Conrad ]
  * debian/patches/any/cvs-gawk-gensub.diff: Fix scary output from newer gawk.
  * debian/debhelper.in/libc-bin.postinst: Call ldconfig during configure as
    well, or major version upgrades will leave us without due to dep ordering.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 15 Feb 2016 21:48:56 +0100

glibc (2.22-0experimental1) experimental; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc-dev.install: install libmvec_nonshared.a.
    Closes: #806910.
  * debian/control.in/main, debian/rules: build with gcc-5.
  * patches/kfreebsd/local-sysdeps.diff, patches/kfreebsd/local-fbtl.diff:
    update to revision 5856 (from glibc-bsd):
    - Update to glibc 2.22.
  * debian/patches/kfreebsd/local-tst-malloc-backtrace.diff: new patch to fix
    tst-malloc-backtrace on GNU/kFreeBSD.
  * debian/sysdeps/ppc64el.mk: default to POWER8 and use default gcc options.
  * debian/rules.d/build.mk: explicitly disable mathvec when mvec=no.
  * debian/testsuite-checking/expected-results-s390x-linux-gnu-libc:
    allow elf/tst-protected1a and elf/tst-protected1b to fail as they are
    new tests. Cleanup resolved issues.
  * debian/testsuite-checking/expected-results-aarch64-linux-gnu-libc:
    cleanup resolved issues.
  * debian/rules.d/build.mk: abort if the log file does not contain any
    testsuite result.
  * debian/patches/localedata/submitted-locale-bo.diff: drop, now useless.
  * debian/patches/any/submitted-resolv-ipv6-nameservers.diff: drop, now
    useless.
  * debian/testsuite-checking/expected-results-powerpc-linux-gnu-libc,
    debian/testsuite-checking/expected-results-powerpc64-linux-gnu-ppc64:
    cleanup resolved issues.
  * debian/testsuite-checking/expected-results-powerpc-linux-gnu-powerpc,
    debian/testsuite-checking/expected-results-powerpc64-linux-gnu-libc:
    new files.
  * debian/patches/i386/submitted-i586-ulps.diff: new patch to provide
    i586 ULPs.
  * debian/patches/git-updates.diff: update to the latest commit of the
    2.22 branch.
  * debian/testsuite-checking/expected-results-i?86-linux-gnu-*: cleanup
    resolved issues.
  * debian/testsuite-checking/expected-results-x86_64-linux-gnu-*: cleanup
    resolved issues.
  * debian/testsuite-checking/expected-results-x86_64-linux-gnux32-*:
    update and cleanup resolved issues.
  * debian/testsuite-checking/expected-results-powerpc64le-linux-gnu-libc:
    update and cleanup resolved issues.
  * debian/testsuite-checking/expected-results-mips*: update and cleanup
    resolved issues.
  * debian/testsuite-checking/expected-results-*kfreebsd-gnu*: update and
    cleanup resolved issues.
  * debian/patches/mips/local-r10k.diff: dropped, we don't support systems
    with a MIPS R10K CPU since the ISA has been switched to MIPS R2.
  * debian/patches/mips/cvs-testsuite-o32-fp.diff: new patch to fix testsuite
    build on pre-R2 ISA.
  * debian/patcheS/any/cvs-grantpt-namespace.diff: new patch to fix the
    grantpt link namespace when built without pt_chown.
  * debian/patches/alpha/submitted-abilist.diff: new patch to fix alpha ABI
    baseline sorting.
  * debian/patches/alpha/submitted-fegetenv-namespace.diff: new patch to fix
    the fegetenv link namespace on alpha.
  * debian/patches/alpha/submitted-termios_h.diff: new patch to fix
    visibility issues in termios.h on alpha.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 10 Dec 2015 23:29:06 +0100

glibc (2.22-0experimental0) experimental; urgency=medium

  [ Adam Conrad ]
  * New upstream release: version 2.22, with git updates up to 2015-11-27:
    - debian/patches/all/local-alias-UTF-8.diff: Fixed upstream.
    - debian/patches/any/cvs-ldconfig-aux-cache.diff: Upstreamed.
    - debian/patches/any/cvs-localplt-new-readelf.diff: Upstreamed.
    - debian/patches/any/cvs-logbl-accuracy.diff: Upstreamed.
    - debian/patches/any/cvs-vismain-pie.diff: Upstreamed.
    - debian/patches/any/local-xfail-stdlib-linkns.diff: Dropped.
    - debian/patches/any/local-tester-gcc-4.9.diff: Dropped.
    - debian/patches/arm/cvs-arm-sfi_breg.diff: Upstreamed.
    - debian/patches/arm/cvs-memcpy-memmove-always-bx.diff: Upstreamed.
    - debian/patches/hppa/cvs-alloca-werror.diff: Upstreamed.
    - debian/patches/hppa/cvs-fpu-r2.diff: Upstreamed.
    - debian/patches/hppa/cvs-fpu2.diff: Upstreamed.
    - debian/patches/hppa/local-fcntl-osync.diff: Fixed upstream.
    - debian/patches/hppa/local-setcontext.diff: Fixed upstream.
    - debian/patches/powerpc/cvs-power7-strncpy.diff: Upstreamed.
    - debian/patches/powerpc/cvs-ppc-feraiseexcept.diff: Upstreamed.
    - debian/patches/powerpc/cvs-ppc-pow.diff: Upstreamed.
    - debian/patches/powerpc/cvs-ppc-sqrt.diff: Upstreamed.
    - debian/patches/powerpc/cvs-ppc-sqrtf.diff: Upstreamed.
    - debian/patches/powerpc/cvs-ppc-tabort-le.diff: Upstreamed.
    - debian/patches/all/local-alias-et_EE.diff: Rebased.
    - debian/patches/amd64/local-blacklist-for-Intel-TSX.diff: Rebased.
    - debian/patches/any/local-libgcc-compat-ports.diff: Rebased.
    - debian/patches/any/local-libpic.diff: Rebased.
    - debian/patches/any/local-no-pagesize.diff: Rebased.
    - debian/patches/any/submitted-longdouble.diff: Rebased.
    - debian/patches/any/submitted-missing-etc-hosts.diff: Rebased.
    - debian/patches/any/submitted-resolv-ipv6-nameservers.diff: Rebased.
    - debian/patches/i386/submitted-i686-timing.diff: Rebased.
    - debian/patches/localedata/local-all-no-archive.diff: Rebased.
    - debian/patches/localedata/submitted-locale-bo.diff: Rebased.
    - debian/patches/mips/submitted-rld_map.diff: Rebased.
  * debian/{control,symbols.wildcards,copyright}: Updated strings for 2.22.
  * debian/libc6*.symbols: Add libmvec.so.1 to the amd64/x32 symbols files.
  * debian/*: Conditionally add libmvec to libc-udeb only on amd64 and x32.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/tg-tls.diff: Rebased.
  * debian/patches/hurd-i386/tg-tls-threadvar.diff: Rebased.
  * debian/patches/hurd-i386/tg-ioctl-base-types.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-extern_inline.diff: Rebased.
  * debian/patches/hurd-i386/tg-aio_misc.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-chflags.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-select-EINTR.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-af_local_strlen.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-nice.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-nfds-poll.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-sigstate_locking.diff: Upstreamed.
  * debian/patches/hurd-i386/tg-mmap_file_prot_none_fix.diff: Upstreamed.
  * debian/patches/hurd-i386/cvs-unwind-resume.diff: Upstreamed.
  * debian/patches/hurd-i386/cvs-libc-modules.h.diff: Upstreamed.
  * debian/patches/hurd-i386/cvs-warnings.diff: Upstreamed.
  * debian/patches/hurd-i386/cvs-check-local-headers.diff: Upstreamed.
  * debian/patches/hurd-i386/cvs-mlock.diff: Upstreamed.
  * debian/patches/hurd-i386/cvs-csu_crt0.diff: New patch, fixes gcrt0.o
    build.
  * debian/patches/hurd-i386/cvs-s_scalbn.diff: New patch, fixes s_scalbn.S
    build.
  * debian/patches/hurd-i386/tg-tls-threadvar.diff: Update.
  * patches/hurd-i386/tg-posix_thread.diff: Update, to define
    _POSIX_THREAD_KEYS_MAX, _POSIX_THREAD_DESTRUCTOR_ITERATIONS and
    _POSIX_THREAD_THREADS_MAX.

  [ Aurelien Jarno ]
  * debian/patches/hppa/cvs-atomic.diff: Upstreamed.
  * debian/patches/hppa/cvs-sysdep-errno.diff: Upstreamed.
  * debian/patches/hppa/cvs-inline-syscall-rewrite.diff: Upstreamed.
  * debian/patches/any/cvs-mangle-tls_dtor_list.diff: Rebased.
  * debian/patches/any/cvs-tls-dtv.diff: Upstreamed.
  * debian/patches/any/cvs-rfc3542-advanced-api.diff: Upstreamed.
  * debian/patches/any/cvs-check-localplt.diff: Upstreamed.
  * debian/patches/any/cvs-ld_pointer_guard.diff: Upstreamed.
  * debian/patches/any/cvs-mangle-tls_dtor_list.diff: Upstream.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 02 Dec 2015 00:06:13 +0100

glibc (2.21-9) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fixes bug18240 failing with a timeout on machines with a lot of swap.
      Closes: #814958.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 17 Feb 2016 18:45:59 +0100

glibc (2.21-8) unstable; urgency=critical

  * Update from upstream stable branch:
    - Fix an integer overflow in hcreate() and hcreate_r() (CVE-2015-8778).
      Closes: #812441.
  * patches/any/local-CVE-2015-7547.diff: new patch to fix glibc getaddrinfo
    stack-based buffer overflow (CVE-2015-7547).

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 15 Feb 2016 21:38:15 +0100

glibc (2.21-7) unstable; urgency=medium

  [ Aurelien Jarno ]
  * patches/localedata/cvs-bg_BG-t_fmt.diff: new patch from upstream to
    use colon as time separator in the Bulgarian locale.  Closes:
    #808143.
  * Update French debconf translation, by Christian Perrier.  Closes:
    #809636.
  * Update Brazilian Portuguese debconf translation, by Adriano Rafael
    Gomes.  Closes: #809741.
  * patches/hppa/cvs-update-mman.h.diff: new patch from upstream to add huge
    pages support on hppa.  Closes: #809776.
  * patches/hppa/submitted-dladdr.diff: new patch from John David Anglin to
    fix dladdr issues on hppa.  Closes: #810053.
  * sysdeps/armel.mk, sysdeps/armhf.mk: re-enable IFUNC support now that
    binutils has been fixed.
  * debian/control.in/main: update Vcs-* fields to point to the new git
    repository.
  * Update Dutch debconf translation, by Frans Spiesschaert.  Closes: #812351.
  * Update from upstream stable branch:
    - Fix segmentation fault caused by passing out-of-range data to strftime()
      (CVE-2015-8776).  Closes: #812445.
    - Fix multiple unbounded stack allocations in catopen() (CVE-2015-8779).
      Closes: #812455.
  * patches/any/submitted-hle-checking-mutex.diff: add proposed patch to fix
    a wrong assertion in pthread_mutex_unlock() on systems with hardware lock
    elision.  Closes: #810322.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread-sigstate.diff: New patch to fix spurious
    signal blocking leading to sigill.  Fixes rsyslog tests.
  * patches/hurd-i386/cvs-raise-longjump.diff: New patch to fix longjump from
    signal handler.  Closes: #800900.
  * patches/hurd-i386/cvs-O_DIRECTORY.diff: New patch to fix O_DIRECTORY lookup
    on trivial translators.  Closes: #785404.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 24 Jan 2016 00:21:18 +0100

glibc (2.21-6) unstable; urgency=medium

  [ Aurelien Jarno ]
  * sysdeps/kfreebsd.mk: test if the header directory exists before
    trying to link directories from there. Fixes FTBFS on GNU/kFreeBSD.
  * patches/s390/submitted-socketcall.diff: new patch to fix broken
    socketcall related function on s390x when built against 4.3+ kernel
    headers.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 25 Dec 2015 03:35:01 +0100

glibc (2.21-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * Team upload.
  * patches/hurd-i386/cvs-libpthread-api.diff: Update patch, add missing throw
    specifications.
  * patches/any/local-stdio-lock.diff: Update to git commit, and
    rename into patches/any/cvs-stdio-lock.diff.
  * debhelper.in/libc.lintian-overrides: Override error about the embedded
    libidn.

  [ Aurelien Jarno ]
  * sysdeps/armel.mk, sysdeps/armhf.mk: pass --disable-multi-arch on armel and
    armhf as IFUNC support is broken in binutils (see #807974).

 -- Samuel Thibault <sthibault@debian.org>  Tue, 22 Dec 2015 15:23:35 +0100

glibc (2.21-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.{preinst,prerm}: remove code handling the
    upgrade from squeeze to wheezy, as we don't support squeeze to stretch
    upgrades. Move tests which might exit with a failure at the beginning.
  * debian/sysdeps/amd64.mk, debian/sysdeps/i386.mk: downgrade the minimal
    Linux kernel version to 2.6.32 to support RHEL6 kernels.
  * debhelper.in/libc.preinst: add a note explainling that pre-3.2 kernel
    are not officially supported.
  * debhelper.in/libc.preinst, debhelper.in/libc.templates, po/*: display
    kernel related notes using debconf if available.
  * patches/any/cvs-grantpt-pty-owner.diff: new patch from upstream to
    improve granpt when /dev/pts is not mounted with the correct options.
    Closes: #806882.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread-api.diff: New patch, cleans libpthread
    API. Fixes conflicting declarations between pthread.h and sigthread.h.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 10 Dec 2015 22:34:54 +0100

glibc (2.21-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/opt: drop libc0.3-i686 and libc0.3-xen entries.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 04 Dec 2015 00:22:07 +0100

glibc (2.21-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debhelper.in/libc.preinst: drop outdated code about pre-2.6 kernels.
  * rules.d/debhelper.mk: prefix calls to objcopy and strip with
    $(DEB_HOST_GNU_TYPE)-.
  * testsuite-checking/expected-results-hppa-linux-gnu-libc: update testsuite
    result, from John David Anglin.  Closes: #806839.
  * debhelper.in/libc.NEWS: add an entry about the required minimum kernel.
  * rules.d/debhelper.mk: strip *crt*.o files.
  * patches/any/cvs-tls-dtv.diff: update with a new patch from upstream
    changing the IE model for static variables.  Closes: #806971.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 03 Dec 2015 22:46:21 +0100

glibc (2.21-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * testsuite-checking/expected-results-mips64el-linux-gnu-*: allow
    nptl/tst-cancel24-static to fail on mips64el.  It's an upstream regression
    only affecting static binaries currently under investigation.
  * patches/hppa/submitted-mathdef.diff: update to include the ABI baseline
    changes.
  * testsuite-checking/expected-results-*kfreebsd-gnu-*: re-add rt/tst-shm as
    it seems it can still occasionally fail on the buildds.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 Dec 2015 00:17:43 +0100

glibc (2.21-0experimental4) experimental; urgency=medium

  [ Aurelien Jarno ]
  * testsuite-checking/expected-results-*kfreebsd-gnu-*: re-add tst-getpid1
    and tst-getpid2 as it seems they can still occasionally fail on the
    buildds.
  * testsuite-checking/expected-results-mips64el-linux-gnu-libc: rename into
    testsuite-checking/expected-results-mips64el-linux-gnuabi64-libc.
  * testsuite-checking/expected-results-{arm,mips}*: allow nptl/tst-stack4 to
    fail. It's a new test which fails intermitently on the buildds and a known
    upstream problem.
  * patches/hppa/submitted-mathdef.diff: new patch from John David Anglin to
    define __NO_LONG_DOUBLE_MATH on hppa.  Closes: #805836.
  * patches/hppa/cvs-inline-syscall-rewrite.diff: new patch backported from
    upstream as requested by John David Anglin.
  * patches/hppa/cvs-sysdep-errno.diff: new patch backported from upstream as
    requested by John David Anglin.
  * testsuite-checking/expected-results-hppa-linux-gnu-libc: update testsuite
    result, from John David Anglin.
  * testsuite-checking/*{arm,mips,hppa}*: allow nptl/tst-cancel24-static to
    fail on armel, armhf, hppa, mips, mipsel. It's an upstream regression
    only affecting static binaries currently under investigation.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-tls-threadvar.diff: Update, to fix recursion while
    accessing TLS while locking for accessing TLS.
  * patches/hurd-i386/tg-context_functions.diff: Update, to fix sigprocmask
    visibility.
  * patches/hurd-i386/cvs-hidden.diff: New patch, to fix build with hidden
    support.
  * sysdeps/hurd-i386.mk: Disable libc0.3-i686 and libc0.3-xen build for now,
    to get 2.21 out against the binutils version which broke them.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 29 Nov 2015 23:24:08 +0100

glibc (2.21-0experimental3) experimental; urgency=medium

  [ Aurelien Jarno ]
  * patches/hppa/cvs-allocatestack-stacktop.diff: new patch from upstream
    to fix a set-but-unused warning in nptl/allocatestack.c, causing a
    build failure.
  * patches/hppa/local-stack-grows-up.diff: rebase.
  * patches/any/cvs-tls-dtv.diff: new patch from upstream to fix DTV race,
    assert, and DTV_SURPLUS Static TLS limit.  This also reduces the failure
    rate of nptl/tst-stack4.  Closes: #793641.
  * Add expected testsuite result for mips64el:
    - testsuite-checking/expected-results-mips64el-linux-gnu-libc
    - testsuite-checking/expected-results-mips64el-linux-gnuabin32-mipsn32
    - testsuite-checking/expected-results-mipsel-linux-gnu-mips32
  * patches/kfreebsd/local-sysdeps.diff, patches/kfreebsd/local-fbtl.diff:
    update to revision 5844 (from glibc-bsd):
    - Update to glibc 2.21.
    - Define F_DUP2FD_CLOEXEC.  Closes: #712074.
    - Define SOCK_CLOEXEC and SOCK_NONBLOCK.
    - Wire-up accept4.  Closes: #722885.
  * sysdeps/kfreebsd-{amd64,i386}.mk: configure with --disable-werror.
  * patches/kfreebsd/local-nscd-no-sockcloexec.diff: Drop.
  * patches/kfreebsd/local-getaddrinfo-freebsd-kernel.diff: improve and remove
    a warning.
  * patches/kfreebsd/local-tst-auxv.diff: new patch to disable AT_EXECFN
    testing in tst-auxv when it is not defined.
  * patches/any/cvs-rfc3542-advanced-api.diff: new patch from usptream to
    add missing Advanced API (RFC3542) (1) defines.  Closes: #753909.
  * debian/rules: don't put debug files from libc0.1-i386 and libc6-mips32
    into libc0.1-dbg or libc6-dbg.
  * patches/hppa/cvs-atomic.diff, patches/hppa/cvs-inline-syscall.diff: new
    patches from upstream to improve atomic and inline syscalls on HPPA
    (closes: #799478).
  * rules.d/build.mk: don't run the testsuite with make -k, as a build
    failure in the testsuite, otherwise build failures cause the regression
    comparison to be entirely skipped.
  * testsuite-checking/expected-results-*kfreebsd-gnu-*: update testsuite
    results.
  * patches/any/cvs-check-localplt.diff: new patch from upstream to fix
    check-localplt test with recent binutils version on x86.
  * patches/hppa/submitted-gmon-start.diff: new patch from upstream to
    fix __gmon_start__ symbol proliferation on hppa.  Closes: #805730.
  * Update from upstream stable branch:
    - patches/any/cvs-make-typo.diff: Merged.
    - Fix FTBFS with libselinux 2.4.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-pagesize.diff: Refresh.
  * patches/hurd-i386/submitted-handle-eprototype.diff: Refresh.
  * patches/hurd-i386/tg-posix_thread.diff: Update, to define
    _POSIX_THREAD_KEYS_MAX, _POSIX_THREAD_DESTRUCTOR_ITERATIONS and
    _POSIX_THREAD_THREADS_MAX.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 22 Nov 2015 19:37:39 +0100

glibc (2.21-0experimental2) experimental; urgency=medium

  [ Samuel Thibault ]
  * Symbol versions which contain _DEBIAN_ are unexpected by upstream scripts.
    Add hurd-i386-only patches/hurd-i386/local-versions-hack.diff to work
    around the issue.  Also take the opportunity of the upstream version bump
    to bump the versions to GLIBC_2_21, which will allow one to remove the
    _DEBIAN_ hacks once packages are rebuilt.
  * patches/hurd-i386/unsubmitted-libpthread-semaphore.h.diff: Remove
    libpthread/sysdeps/i386/bits/semaphore.h, now that hurd Implies
    libpthread/sysdeps/generic. Move libpthread/include/semaphore.h into
    libpthread/sysdeps/pthread/semaphore.h instead of the latter just
    including the former, since the latter is what gets installed.
  * patches/hurd-i386/cvs-cache-mach_host_self.diff: New patch to avoid port
    count issue on the host port.
  * patches/hurd-i386/unsubmitted-gnumach.defs.diff: Also build
    task_notify.defs stubs.  Drop unneeded change.
  * libc0.3.symbols.hurd-i386: Update.
  * patches/hurd-i386/local-mach_print.diff: New patch to export mach_print.

  [ Aurelien Jarno ]
  * rules.d/debhelper.mk: replace GLIBC_VERSION before LIBC.  Closes:
    #797538.
  * Drop loongson-2f flavour on mipsel as this machine is not supported
    anymore (default to R2 ISA).
  * kfreebsd/local-sysdeps.diff: update to revision 5772 (from glibc-bsd).
    Closes: #764692, #785796.
  * testsuite-checking/expected-results-mips*: allow the new tst-audit9
    fail, like the others tst-auditX.
  * testsuite-checking/expected-results-mips(el)-linux-gnu-libc: allow
    conformtest for sys/stat.h to fail for O32 ABI. They were previously
    under the failing test run-conformtest.out, but it has been lost in
    the conversion to the new format.
  * testsuite-checking/expected-results-mips*: sort the files. Remove
    failures due to old kernel now that all buildds run jessie.
  * debhelper.in/locales-all.prerm: do not specify a path to check for
    locale-gen.
  * libc6.1.symbols.alpha: remove invoke_dynamic_linker from libpcprofile.so.
    It has disappeared, but it is a private library.
  * Remove debver2localesdep.pl, it is unused since 2.19-16.
  * Use $(GLIBC_VERSION) for shlib, instead of defining the version in a
    separate shlibver file.
  * Remove completely outdated README, README.source and TODO files.
  * rules.d/debhelper.mk: use the default compression format for libc6,
    libc-bin and multiarch-support. Nowadays deboostrap is able to handle
    the xz format and modern distributions also support it. Anyway almost
    all packages installed by debootstrap are now using the xz format.
  * Bump debhelper compatibility to level 9. This brings compressed debug
    file using the build-id instead of a fixed path. This is much more
    multiarch friendly.
  * control.in/*: remove pre-squeeze conflicts.
  * libc-bin, libc-dev-bin: Recommends the manpages package and add lintian
    override for missing manpages.
  * sysdeps/s390x.mk: --enable-lock-elision.
  * testsuite-checking/expected-results-x86_64-linux-gnux32-*: allow
    conformtest for headers with tv_nsec to fail for x32. The type
    non-compliance is intentional. These tests were previously marked as
    failing under the run-conformtest.out, but they have been lost during
    the conversion to the new format.
  * testsuite-checking/compare.sh: re-enable failures in case of regressions.
  * rules.d/build.mk: don't require flavours to be tested before being
    installed. They are still tested when calling the build-arch or
    binary-arch targets, but not anymore when calling the build-indep or
    binary-indep targets.
  * patches/hppa/cvs-alloca-werror.diff: new patch from upstream to fix a
    build failure.
  * debhelper.in/libc.preinst: fix up error message for too old Linux
    kernels.  Closes: #800846.
  * patches/any/cvs-ld_pointer_guard.diff: new patch from upstream to
    unconditionally disable LD_POINTER_GUARD.  Closes: #798316, #801691.
  * patches/any/cvs-mangle-tls_dtor_list.diff: new patch from upstream to
    mangle function pointers in tls_dtor_list.  Closes: #802256.
  * Update Brazilian Portuguese debconf translation, by Adriano Rafael
    Gomes.  Closes: #799418.

  [ Steven Chamberlain ]
  * sysdeps/kfreebsd.mk: find kfreebsd-kernel-headers in multiarch path.
    Closes: #672774, #798064.

  [ Helmut Grohne ]
  * Fix some issues with stage 1.  Closes: #797831.

  [ Adam Conrad ]
  * debian/patches/arm/local-arm-futex.diff: Lie about the minimum kernel
    support for futex_atomic_cmpxchg_inatomic to restore the  previous state
    and fix the pulsesink (and others) regression on ARM (closes: #788799)

  [ Henrique de Moraes Holschuh ]
  * Replace patches/amd64/local-blacklist-on-TSX-Haswell.diff by
    local-blacklist-for-Intel-TSX.diff also blacklisting some Broadwell
    models.  Closes: #800574.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 19 Oct 2015 00:20:34 +0200

glibc (2.21-0experimental1) experimental; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread.diff: Update from upstream.
  * patches/hurd-i386/cvs-libpthread-dlopen.diff: Merged.
  * patches/hurd-i386/cvs-libpthread-libc-lockP2.diff: Merged.
  * patches/hurd-i386/cvs-bind_umask.diff: Merged.
  * patches/hurd-i386/cvs-fork_ss_hang.diff: Merged.
  * patches/hurd-i386/cvs-munmap-0.diff: Merged.
  * patches/hurd-i386/cvs-static-dlopen.diff: Merged.
  * patches/hurd-i386/cvs-tcbhead_t.diff: Merged.
  * patches/hurd-i386/cvs-libpthread_versions.diff: Rebased.
  * patches/hurd-i386/local-disable-tst-xmmymm.diff: Dropped.
  * patches/hurd-i386/local-hurdsig-global-dispositions-version.diff: Rebased.
  * patches/hurd-i386/submitted-exec_filename.diff: Rebased.
  * patches/hurd-i386/submitted-net.diff: Rebased.
  * patches/hurd-i386/tg-EIEIO-fr.diff: Rebased.
  * patches/hurd-i386/tg-af_local_strlen.diff: Rebased.
  * patches/hurd-i386/tg-chflags.diff: Rebased.
  * patches/hurd-i386/tg-tls-threadvar.diff: Update.
  * patches/hurd-i386/tg-tls.diff: Rebased.
  * patches/hurd-i386/tg-tls_thread_leak.diff: Rebased.
  * patches/hurd-i386/unsubmitted-NO_HIDDEN.diff: Rebased.
  * patches/hurd-i386/tg-no-hp-timing.diff: Update.
  * patches/series: Re-enable all hurd patches.
  * patches/hurd-i386/libpthread-versions.diff: New patch, updates to new
    version engine.
  * patches/hurd-i386/cvs-revert-gnu-gnu-cleanup.diff: New patch, reverts
    cleanup of the gnu-gnu hack.
  * patches/hurd-i386/libpthread_pthread_types.diff: New patch, fixes
    inclusion of pthread_types.h
  * patches/hurd-i386/unsubmitted-libc_alloca_cutoff.diff: New patch,
    implements alloca cutoff limit.
  * patches/hurd-i386/cvs-unwind-resume.diff: New patch, fixes unwind-resume
    build.
  * patches/hurd-i386/unsubmitted-libpthread-semaphore.h.diff: New patch,
    fixes semaphore header inclusion.
  * patches/hurd-i386/unsubmitted-timer_routines.diff: New patch, fixes
    timer_routines build.
  * patches/hurd-i386/cvs-libc-modules.h.diff: New patch, adds missing
    dependency on libc-modules.h.
  * patches/hurd-i386/cvs-warnings.diff: New patch, fixes warnings.
  * patches/hurd-i386/cvs-check-local-headers.diff: New patch, clears spurious
    local-header warnings.
  * sysdeps/hurd.mk: Disable -Werror since MIG currently generates warnings.
  * testsuite-checking/expected-results-{i586-gnu-libc,i686-gnu-
    {i386,i686,xen}}: update testsuite results

  [ Adam Conrad ]
  * debian/{rules.d/debhelper.mk,sysdeps/*}: Define per-platform pldd
    variable to control installation of usr/bin/pldd in libc-bin, and
    leverage the same trick to decide to install usr/lib/pt_chown too.
  * debian/patches/kfreebsd/local-no-pldd.diff: Drop, no longer used.
  * debian/patches/alpha/submitted-PTR_MANGLE.diff: Use IS_IN macros.
  * debian/patches/powerpc/cvs-ppc-sqrt.diff: Fix sqrt() on powerpc.
  * debian/patches/powerpc/cvs-ppc-sqrtf.diff: Likewise for sqrtf().
  * debian/patches/powerpc/cvs-ppc-pow.diff: Likewise for pow().
  * debian/patches/powerpc/cvs-ppc-feraiseexcept.diff: Fix inline
    feraiseexcept and feclearexcept macro input conversion on PPC.
  * debian/patches/any/submitted-longdouble.diff: Refresh for above.
  * debian/patches/any/local-disable-test-tgmath2.diff: Likewise.
  * debian/patches/any/cvs-logbl-accuracy.diff: Fix ldbl-128ibm logbl.
  * debian/patches/powerpc/local-math-logb.diff: Refresh and move to
    debian/patches/any/local-math-logb.diff, as it's not PPC-specific.
  * debian/patches/any/cvs-localplt-new-readelf.diff: Preemptively
    fix localplt test breakage with binutils 2.26 before it lands.
  * debian/patches/any/cvs-make-typo.diff: Fix typo in elf/Makefile.
  * debian/patches/powerpc/cvs-power7-strncpy.diff: Optimize strncpy
    for POWER7 drastically (10-70%) on strings longer than 16 chars.
  * debian/patches/powerpc/cvs-ppc-tabort-le.diff: Fix TABORT encoding
    when building on toolchains without HTM support (no-op on gcc-4.9)
  * debian/patches/arm/cvs-arm-sfi_breg.diff: Fix LDR_GLOBAL macro.
  * debian/patches/arm/cvs-memcpy-memmove-always-bx.diff: Fix memcpy
    and memmove for the ARM_ALWAYS_BX class of hardware like ArmadaXP.
  * debian/{control.in/*,debhelper.in/*,rules.d/*}: Stop hardcoding our
    upstream version all over the place and use GLIBC_VERSION instead.
  * debian/debhelper.in/libc.preinst: Unconditionally wipe ld.so.cache
    on major version upgrades, which is significantly less error-prone.

  [ Aurelien Jarno ]
  * debian/patches/any/local-libgcc-compat-main.diff: Fix definition of
    __floatdisf for sparc.
  * debian/patches/any/local-libgcc-compat-ports.diff: Fix definition of
    __floatdisf for mips. Remove usage of INTUSE (Closes: #782198).
  * debian/sysdeps/linux.mk, debhelper.in/libc.preinst: bump minimal Linux
    kernel version to 3.2 (ie the version in Wheezy).
  * debian/patches/localedata/locale-C.diff: fix d_fmt time format (Closes:
    #775179).
  * Create source tarball in a deterministic manner: adjust file modification
    time, user, group, permissions, and file order (addresses: #783210).
  * Update from upstream stable branch:
    - Fix a buffer overflow in getanswer_r (CVE-2015-1781). Closes: #796105.
  * sysdeps/linux.mk: don't build pt_chown (CVE-2013-2207). Closes: #717544.
  * Move translation to a new libc-l10n package from the locales packages.
    Add a dependency from locales and locales-all to libc-l10n, so that they
    both provide the same feature. Closes: #788352.
  * control.in/main: Bump Standards-Version to 3.9.6 (no changes).

  [ Breno Leitao ]
  * Remove --without-cvs that is not used anymore as a valid configuration.
    It was removed in commit 92963737c4376bcfd65235d5c325fa7f48302f89
    (Closes: #781245).

  [ Matthias Klose ]
  * Fix multilib enabled stage1 cross builds (closes: #766877).

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 29 Aug 2015 00:43:02 +0200

glibc (2.21-0experimental0) experimental; urgency=medium

  * New upstream release: version 2.21, with git updates up to 2015-02-10:
    - debian/patches/git-updates.diff: Updated.
    - debian/patches/all/submitted-po-fr-fixes.diff: Rebased.
    - debian/patches/alpha/cvs-__pointer_chk_guard.diff: Merged.
    - debian/patches/alpha/cvs-unwind-backtrace.diff: Merged.
    - debian/patches/alpha/local-gcc4.1.diff: Rebased.
    - debian/patches/alpha/local-lowlevellock.diff: Dropped.
    - debian/patches/alpha/local-string-functions.diff: Rebased.
    - debian/patches/alpha/submitted-PTR_MANGLE.diff: Rebased.
    - debian/patches/alpha/submitted-dl-support.diff: Rebased.
    - debian/patches/alpha/submitted-lll_futex_timed_wait_bitset.diff: Dropped.
    - debian/patches/alpha/submitted-rtld-fPIC.diff: Rebased.
    - debian/patches/amd64/cvs-slow-sse42.diff: Merged.
    - debian/patches/amd64/local-blacklist-on-TSX-Haswell.diff: Rebased.
    - debian/patches/amd64/submitted-rwlock-stack-imbalance.diff: Dropped.
    - debian/patches/any/cvs-check_pf-infinite-loop.diff: Merged.
    - debian/patches/any/cvs-getnetbyname.diff: Merged.
    - debian/patches/any/cvs-pie-lt_executable.diff: Merged.
    - debian/patches/any/cvs-regex-alloca.diff: Merged.
    - debian/patches/any/cvs-resolv-first-query-failure.diff: Merged.
    - debian/patches/any/cvs-socketcall-syscall.diff: Merged.
    - debian/patches/any/cvs-strtod.diff: Merged.
    - debian/patches/any/cvs-vfprintf.diff: Merged.
    - debian/patches/any/cvs-wordexp.diff: Merged.
    - debian/patches/any/cvs-wprintf.diff: Merged.
    - debian/patches/any/cvs-wscanf.diff: Merged.
    - debian/patches/any/local-disable-libnss-db.diff: Rebased.
    - debian/patches/any/local-disable-test-tgmath2.diff: Rebased.
    - debian/patches/any/local-libgcc-compat-ports.diff: Rebased.
    - debian/patches/any/local-libpic.diff: Rebased.
    - debian/patches/any/local-no-SOCK_NONBLOCK.diff: Rebased.
    - debian/patches/any/local-no-pagesize.diff: Rebased.
    - debian/patches/any/local-rtlddir-cross.diff: Rebased.
    - debian/patches/any/local-stdio-lock.diff: Rebased.
    - debian/patches/any/local-sysctl.diff: Rebased.
    - debian/patches/any/submitted-argp-attribute.diff: Rebased.
    - debian/patches/any/submitted-bits-fcntl_h-at.diff: Rebased.
    - debian/patches/any/submitted-longdouble.diff: Rebased.
    - debian/patches/any/submitted-nl_langinfo-static.diff: Merged.
    - debian/patches/any/submitted-ptsname_r-uninitialized-memory.diff: Merged.
    - debian/patches/any/submitted-resolv-ipv6-nameservers.diff: Rebased.
    - debian/patches/any/submitted-sysdeps-auxv.diff: Merged.
    - debian/patches/any/unsubmitted-scanf-includes.diff: Rebased.
    - debian/patches/any/unsubmitted-tst-ftell-locale.diff: Dropped.
    - debian/patches/any/unsubmitted-tst-tlsmod-as-needed.diff: Merged.
    - debian/patches/arm/local-ioperm.diff: Rebased.
    - debian/patches/arm/local-lowlevellock.diff: Dropped.
    - debian/patches/arm/local-sigaction.diff: Rebased.
    - debian/patches/arm/local-vfp-sysdeps.diff: Rebased.
    - debian/patches/arm/unsubmitted-ldconfig-cache-abi.diff: Rebased.
    - debian/patches/arm64/cvs-includes-cleanup.diff: Merged.
    - debian/patches/arm64/submitted-align.diff: Merged.
    - debian/patches/arm64/submitted-setcontext.diff: Merged.
    - debian/patches/arm64/submitted-tst-setcontext.diff: Merged.
    - debian/patches/hppa/cvs-sigrtmin.diff: Merged.
    - debian/patches/hppa/local-atomic.diff: Dropped.
    - debian/patches/hppa/local-elf-make-cflags.diff: Rebased.
    - debian/patches/hppa/local-fcntl-osync.diff: Rebased.
    - debian/patches/hppa/local-fpu.diff: Rebased.
    - debian/patches/hppa/local-inlining.diff: Rebased.
    - debian/patches/hppa/local-lowlevellock.diff: Dropped.
    - debian/patches/hppa/local-pthread_spin_unlock.diff: Rebased.
    - debian/patches/hppa/local-setjmp-namespace.diff: Dropped.
    - debian/patches/hppa/local-shmlba.diff: Rebased.
    - debian/patches/hppa/local-stack-grows-up.diff: Rebased.
    - debian/patches/hurd-i386/tg-libpthread_depends.diff: Rebased.
    - debian/patches/i386/submitted-i686-timing.diff: Rebased.
    - debian/patches/kfreebsd/local-fbtl-depends.diff: Rebased.
    - debian/patches/kfreebsd/local-fbtl.diff: Rebased.
    - debian/patches/kfreebsd/local-scripts.diff: Rebased.
    - debian/patches/kfreebsd/local-sysdeps.diff: Rebased.
    - debian/patches/kfreebsd/submitted-waitid.diff: Rebased.
    - debian/patches/locale/locale-print-LANGUAGE.diff: Rebased.
    - debian/patches/locale/submitted-XDR-revert.diff: Merged.
    - debian/patches/localedata/sort-UTF8-first.diff: Rebased.
    - debian/patches/localedata/supported.diff: Rebased.
    - debian/patches/m68k/local-fpic.diff: Rebased.
    - debian/patches/m68k/local-mathinline_h.diff: Rebased.
    - debian/patches/m68k/local-reloc.diff: Rebased.
    - debian/patches/mips/local-lowlevellock.diff: Dropped.
    - debian/patches/mips/local-r10k.diff: Rebased.
    - debian/patches/mips/submitted-rld_map.diff: Rebased.
    - debian/patches/powerpc/cvs-ibm-branch.diff: Dropped.
    - debian/patches/sparc/local-fork.diff: Dropped.
    - debian/patches/sparc/local-sparcv9-target.diff: Rebased.
  * Drop some hppa patches that Carlos O'Donell claims are no longer needed:
    - debian/patches/hppa/local-EAGAIN.diff: Dropped.
    - debian/patches/hppa/local-fanotify_mark-5i.diff: Dropped.
    - debian/patches/hppa/submitted-fadvise64_64.diff: Dropped.
    - debian/patches/hppa/submitted-nptl-carlos.diff: Dropped.
  * debian/*: Update occurences of 2.19 to 2.21 and update symbols to match.
  * debian/patches/any/cvs-vismain-pie.diff: Compile vismain with -fPIE
    and link with -pie to fix testsuite failure with the new binutils.
  * debian/patches/any/local-libgcc-compat-abilists.diff: Fix the ablists
    to match the symbols added in local-libgcc-compat* for the testsuite.
  * debian/patches/sh4/local-fpscr_values.diff: Make the sh abilist match.
  * debian/{control.in/main,rules}: Switch to gcc-4.9 on all architectures.
  * debian/patches/any/local-tester-gcc-4.9.diff: Fix gcc-4.9 regression.
  * debian/patches/any/local-xfail-stdlib-linkns.diff: XFAIL this test due
    to building with pt_chown, which we should revisit very, very soon.
  * debian/sysdeps/*: --enable-lock-elision on PPC targets (LP: #1414819)
  * debian/libc*.symbols*: Remove local __invoke_dynamic_linker__ symbol,
    which no longer shows up in random support libraries' symbol tables.
  * debian/sysdeps/*: Neither ports nor nptl are considered add-ons anymore.
  * debian/{rules.d/build.mk,testsuite-checking/*}: Adjust for upstream's
    new testsuite, and convert old expected-results-* to match new output.
  * debian/testsuite-checking/*: Let arm64 fail the tests indicated by the
    upstream port maintainer as broken, and let i386 fail tst-cleanupx4.
  * debian/debhelper.in/glibc-doc.install: Install changelogs that exist.
  * debian/patches/i386/submitted-i686-timing.diff: Fix -Wundef warnings.
  * debian/patches/arm/unsubmitted-ldso-abi-check.diff: Fix build failures
    from format mismatches, uninitialised variables, and const conversions.
  * debian/rules.d/debhelper.mk: Fix bootstrap libdirs (Closes: #715059)
  * debian/patches/arm/unsubmitted-ldconfig-cache-abi.diff: Same as above.
  * Other than two hurd-i386 patches required as scaffolding for others,
    all the hurd-i386 patches are disabled, so this build *will* fail there.
  * kfreebsd's sysdeps patches almost certainly need updating for 2.21 too.
  * Failing on testsuite failures is disabled to attempt to get full builds.

 -- Adam Conrad <adconrad@0c3.net>  Fri, 06 Mar 2015 13:47:43 -0700

glibc (2.19-22) unstable; urgency=medium

  * patches/hurd-i386/cvs-cache-mach_host_self.diff: Remove, since it introduces
    a new symbol, which will be easier to handle in 2.21.

 -- Samuel Thibault <sthibault@debian.org>  Tue, 22 Sep 2015 01:38:34 +0200

glibc (2.19-21) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-bootstrap.diff: Fix typos.
  * libc0.3.symbols.hurd-i386: Remove internal _server_routine symbols, fixes
    build with newer mig.
  * patches/hurd-i386/cvs-cache-mach_host_self.diff: New patch to avoid port
    count issue on the host port.
  * patches/hurd-i386/tg-sendmsg-SCM_RIGHTS.diff: Update from upstream.
  * patches/hurd-i386/tg-sendmsg-SCM_CREDS.diff: New patch, adds support for
    passing credentials over sockets (SCM_CREDS).

 -- Samuel Thibault <sthibault@debian.org>  Mon, 21 Sep 2015 19:54:01 +0200

glibc (2.19-20) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-mmap32th_bit.diff: New patch to fix libpciaccess
    mapping of BARs above 2GiB. Closes: #793543.
  * rules.d/build.mk: Also install crt0.o in stage1, if any.
  * sysdeps/hurd-i386.mk: Fix stage1 about xen packages for hurd-i386 too.
  * patches/hurd-i386/tg-sysheaders.diff: New patch to fix stage1 finding hurd
    headers.
  * patches/hurd-i386/cvs-libpthread_clean2.diff: New patch to drop spurious
    code getting in the way for stage1.
  * patches/hurd-i386/cvs-libpthread_build.diff: New patch to fix build of
    generic libpthread code.
  * patches/hurd-i386/libpthread_build.diff: Fix header inclusion to get
    pthread headers from libpthread/ instead of system.
  * sysdeps/hurd.mk: Create symlinks to kernel and hurd headers required for
    build, so that we can pass --with-headers to configure to make the build
    really self-hosted.
  * patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: Update patch to not
    advertise _POSIX_CLOCK_SELECTION for vlc
  * patches/hurd-i386/{local,cvs}-bootstrap.diff: New patch to fix crt*.o build
    in stage1.
  * rules, rules.d/build.mk: Set MIG to gnu-type alias of mig, to fix
    cross-build.
  * control, control.d/main: Bump mig dependency to get the gnu-type alias in
    non-cross case too.

  [ Aurelien Jarno ]
  * Update from upstream stable branch:
    - Fix pthread_mutex_trylock with lock elision.  Closes: #759197,
      #788999.
    - Fix gprof entry point on ppc64el.  Closes: #794222.
    - Fix a buffer overflow in getanswer_r (CVE-2015-1781).  Closes: #796105.
    - Fix getaddrinfo sometimes returning uninitialized data with nscd.
      Closes: #798515.
  * sysdeps.mk/mips*.mk: force the ISA until it gets propagated to all GCC
    versions.
  * Update hppa patches.  Closes: #785664:
    - Replace patches/hppa/local-fpu.diff by upstream patch cvs-fpu-r2.diff.
    - Add patches/hppa/cvs-fpu2.diff from upstream.
    - Add patches/hppa/local-fptr-table-size.diff from Carlos O'Donnell.
    - Add patches/hppa/local-setcontext.diff.
    - Add patches/hppa/cvs-start.diff from upstream.
  * patches/any/cvs-pie-lt_executable.diff: new patch from upstream to fix
    explicit loader invocation with PIE binaries.  Closes: #796899.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 13 Sep 2015 18:39:36 +0200

glibc (2.19-19) unstable; urgency=medium

  * patches/hurd-i386/cvs-mlock.diff: New patch to permit one to use mlock
    from non-root process.

 -- Samuel Thibault <sthibault@debian.org>  Thu, 09 Jul 2015 14:28:56 +0200

glibc (2.19-18) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debhelper.in/locales.templates: allow the C.UTF-8 locale to be
    selected as the default locale. Closes: #782241.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 14 Apr 2015 19:50:11 +0200

glibc (2.19-17) unstable; urgency=medium

  [ Adam Conrad ]
  * debian/rules.d/debhelper.mk: Unconditionally create tmp.substvars.
    Closes: #780431.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 14 Mar 2015 10:17:56 +0100

glibc (2.19-16) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread-dlopen.diff: New patch to allow
    libpthread.so to be dynamically loaded from a dlopened library.
  * patches/hurd-i386/cvs-libpthread-libc-lockP{,2}.diff: New patch to
    dynamically call pthread functions from libc.

  [ Aurelien Jarno ]
  * We have a transition mechanism for the locales, as the Debian archive
    used to expose arch:all packages on all architectures even when the
    corresponding arch:any package is not available yet. This has been
    fixed long time ago, the transition mechanism has not been used
    correctly for a lot of time and has been broken by the split out of
    libc-bin. The breakage has been partially fixed by the "Breaks: locales
    (<< 2.19)" added to libc6. It's now time to add the missing "Depends:
    libc-bin (>> 2.19)" to locales and remove the transition mechanism.
    Closes: #583088, #779442
  * patches/any/cvs-ldconfig-aux-cache.diff: new patch from upstream to
    ignore corrupted aux-cache instead of segfaulting. Closes: #759530.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 Mar 2015 22:00:40 +0100

glibc (2.19-15) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/patches/any/cvs-wscanf.diff: new patch from upstream to fix a
    heap buffer overflow in wscanf (CVE-2015-1472, CVE-2015-1473). Closes:
    #777197.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 08 Feb 2015 15:54:37 +0100

glibc (2.19-14) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/libpthread_spin-lock.diff: New patch to fix spin-lock.h
    inclusion order.
  * patches/hurd-i386/tg-WRLCK-upgrade.diff: New patch to fix atomicity of
    changing between rd locks and wr locks.
  * patches/hurd-i386/cvs-static-dlopen.diff: New patch to fix dlopen from
    static binaries, busybox notably.
  * control.in/main: Bump mig dependency to get _routines@ symbols, bump
    gnumach-dev dependency to get protected payload symbols.
  * libc0.3.symbols.hurd-i386: Update symbols.
  * patches/hurd-i386/submitted-startup-pid2.diff: Remove, replaced by...
  * patches/hurd-i386/tg-reboot-startup.diff: ... new patch to make reboot
    lookup startup through /servers/startup instead of guessing its pid and
    using its message port.

  [ Adam Conrad ]
  * debian/rules.d/tarball.mk: Fix update-from-upstream manual/* filter rule.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 5688 (from glibc-bsd).
    Do not return EINTR from sigwait. Closes: #763705.

  [ Aurelien Jarno ]
  * debian/patches/any/cvs-wordexp.diff: new patch from upstream to fix a
    command execution in wordexp() with WRDE_NOCMD specified (CVS-2014-7817).
  * debian/patches/any/cvs-getnetbyname.diff: new patch from upstream to fix
    an infinite loop in getnetbyname (CVE-2014-9402). Closes: #775572.
  * debian/patches/any/cvs-vfprintf.diff: new patch from ustream to fix a
    stack overflow in vfprintf (CVE-2012-3406). Closes: #681888.
  * debian/patches/git-updates.diff: update to the latest commit of the 2.19
    branch to fix a few buffer overflow, unbounded stack allocation or memory
    leaks that have not been (yet ?) tagged as security issue. This branch
    includes a few patches already applied manually:
    - drop patches/localedata/unsubmitted-tst-setlocale3-ENV.diff (merged
      upstream).
    - drop patches/s390/cvs-s390-abi-reversal.diff (merged upstream).
    - update patches/any/cvs-resolv-first-query-failure.diff
    - drop patches/any/cvs-resolv-reuse-fd.diff (merged upstream).
    - drop patches/any/cvs-posix_spawn_file_actions_addopen.diff (merged
      upstream).
    - drop patches/any/cvs-setlocale-alloca.diff (merged upstream).
    - drop patches/any/cvs-CVE-2014-0475.diff (merged upstream).
    - drop patches/any/cvs-CVE-2014-5119.diff (merged upstream).
    - drop patches/any/cvs-CVE-2014-6040.diff (merged upstream).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 01 Feb 2015 00:32:31 +0100

glibc (2.19-13) unstable; urgency=medium

  [ Aurelien Jarno ]
  * kfreebsd/local-fbtl.diff: update to revision 5677 (from glibc-bsd).
    Workarounds a kfreebsd 9.0 to 10.1 ABI break. Closes: #740509.
  * patches/hppa/cvs-sigrtmin.diff: backport patch from upstream to change
    __SIGRTMIN to match other architectures. Closes: #766605.
  * patches/amd64/cvs-slow-sse42.diff: backport patch from upstream to fix
    a performance issue with strcmp and friends functions on some machines.
  * patches/any/cvs-regex-alloca.diff: new patch from upstream to fix a
    segmentation fault in regex in case of heap allocation failure. Closes:
    #767225.
  * Don't fail to build in case of testsuite regressions, so that changes
    in the environment (e.g.: kernel) do not prevent security or stable
    versions to be built. It will be re-enabled after the Jessie release.
  * debian/control.in/main: build-depends on debhelper (>= 9.20141010) to
    get Build-Profiles features. This fixes the following lintian warning:
    restriction-formula-with-debhelper-without-debhelper-version.

  [ Samuel Thibault ]
  * hurd-i386/cvs-libpthread.diff: Update to Sun Nov 2.
  * hurd-i386/libpthread_clean.diff: Refresh, most of it merged into
    cvs-libpthread.diff.
  * hurd-i386/cvs-libpthread-pthread_condattr_setclock.diff,
    cvs-libpthread_guardsize.diff, cvs-libpthread_std_thread.diff: Remove,
    merged into cvs-libpthread.diff.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 06 Nov 2014 20:28:41 +0100

glibc (2.19-12) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-thread-cancel.diff: Update patch from upstream, fixes
    a rare deadlock.
  * patches/hurd-i386/local-libpthread-stacksize.diff: New patch to make
    libpthread stacks size default to 8MiB like on Linux, to avoid surprises
    with packages which assume the Linuxish default.
  * patches/hurd-i386/tg-poll_errors_fixes.diff: Update patch, fixes
    select returned value in case of errors. Closes: #764840.

  [ Petr Salinger ]
  * update testsuite-checking/expected-results-*-kfreebsd-gnu-*
    under 10.x kernels, provided by Steven Chamberlain. Closes: #762404.

  [ Aurelien Jarno ]
  * Remove mtrace(1) and pldd(1) manpages, provided by the manpages package
    starting with version 3.74.
  * debian/control.in/*: update the syntax of the Build-Profiles field and
    build depends on dpkg-dev (>= 1.17.14) to get the new feature. Closes:
    #764274.
  * Remove libc6-prof package as it's broken for years and there are better
    way to profile code nowadays. Closes: #760450.
  * patches/amd64/local-blacklist-on-TSX-Haswell.diff: new patch from
    Henrique de Moraes Holschuh to disable TSX on processors which might get
    it disable through a microcode update. Closes: #762195.
  * Install French, German, Polish and Spanish version of validlocale(8)
    manpage. Add a Replaces: manpages-fr-extra (<= 20141008).
  * Update French manpages translations, by David Prévot. Closes: #715289.
  * Update German manpages translations, by Helge Kreutzmann. Closes: #717979.
  * kfreebsd/local-fbtl.diff: update to revision 5651 (from glibc-bsd).
    Workarounds a kfreebsd 9.0 to 10.1 ABI break. Closes: #740509.
  * patches/any/cvs-CVE-2014-6040.diff: new patch from upstream to fix crashes
    on invalid input in IBM gconv modules (CVE-2014-6040).
  * patches/any/cvs-check_pf-infinite-loop.diff: new patch from upstream to
    fix an infinite loop in infinite loop in check_pf.
  * patches/any/local-static-dlopen-search-path.diff: new patch to re-enable
    default search path for dlopen() in static libraries. Closes: #754813,
    #757941.

  [ Helmut Grohne ]
  * debian/patches/any/local-bootstrap-headers.diff: Update to handle
    stubs-$abi.h which is required for multilib bootstraps. Closes: #756473

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 22 Oct 2014 20:01:11 +0200

glibc (2.19-11) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-thread-cancel.diff: Update patch against two other
    overzealous assertions.
  * patches/hurd-i386/submitted-bind_umask.diff: Split into cvs-bind_umask.diff
    and submitted-bind_umask2.diff as requested by upstream.
  * patches/hurd-i386/cvs-fork_ss_hang.diff: New patch which fixes some dash
    hangs.
  * patches/hurd-i386/cvs-libpthread_guardsize.diff: Add another guard size
    computation fix.  Fixes gcj's boehm-gc.  Closes: #760076.

  [ Aurelien Jarno ]
  * debian/control.in/main: Build-Depends on dpkg (>= 1.17.11) instead of
    dpkg-dev (>= 1.17.1).  Closes: #759495.
  * debian/debhelper.in/libc.{preinst,postinst,postrm}: correctly remove old
    conffiles /etc/ld.so.conf.d/i486-{kfreebsd-gnu.conf,gnu-gnu.conf,gnu.conf}.
    Closes: #759568.
  * Update Italian debconf translation, by Luca Monducci.  Closes: #760092.

  [ Petr Salinger ]
  * kfreebsd/local-fbtl.diff: update to revision 5520 (from glibc-bsd).
    Fixes x87 precision mode in newly created pthreads. Closes: #761175.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 12 Sep 2014 23:49:50 +0200

glibc (2.19-10) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules: drop the i486 to i586 GNU triplet conversion.
  * debian/control.in/main: build-depends on dpkg-dev (>= 1.17.1) and
    gcc-4.8 (>= 4.8.3-8) to make sure to get the new i586 GNU triplet on
    i386, hurd-i386 and kfreebsd-i386.
  * Remove iconv(1), iconvconfig(8), localedef(1) and sprof(1) manpages,
    provided by the manpages packages starting with version 3.71.
  * patches/any/cvs-CVE-2014-5119.diff: New patch from upstream to remove
    support for loadable gconv transliteration modules (CVE-2014-5119).

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread_guardsize.diff: Fix guard size computation.
    Fixes the creation of thousands of threads, and thus pulseaudio testsuite.
    Closes: #758671.
  * patches/hurd-i386/cvs-libpthread_std_thread.diff: New patch to deal with
    std::thread using __pthread_key_create to detect presence of libpthread.
    Fixes build of webkitgtk and most probably other libstdc++-related
    failures.
  * patches/hurd-i386/submitted-bind_umask.diff: New patch to fix bind() when
    umask is 0000, fixes clamav testsuite. Closes: #759218.

  [ Adam Conrad ]
  * debian/patches/series: Actually apply the submitted arm64 alignment and
    setcontext patches mentioned in 2.19-0experimental0 (closes: #759042)

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 27 Aug 2014 07:13:10 +0200

glibc (2.19-9) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/control.mk: don't add libc6{,-dev}-{armel,armhf}
    packages in debian/control as we don't build them in Debian. New dak
    code checks for NEW packages directly in debian/control.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 14 Aug 2014 17:58:27 +0200

glibc (2.19-8) unstable; urgency=medium

  [ Helmut Grohne ]
  * debian/patches/build stage2 without selinux.  Closes: #742640.
  * Don't emit dependencies on libgcc when building stage2.  Closes: #755580.
  * Add a "nobiarch" build profile that inhibits all multilib packages from
    being built.  Closes: #745380.

  [ Aurelien Jarno ]
  * debian/patches/arm64/cvs-includes-cleanup.diff: new patch from upstream to
    clean sys/user.h and sys/procfs.h.  Closes: #755169.
  * debian/patches/s390/cvs-s390-abi-reversal.diff: new patch backported from
    upstream to revert the S/390 jmp_buf/ucontext_t ABI change.
  * Update Turkish debconf translation, by Mert Dirik.  Closes: #757495.
  * Remove ia64 support.  Closes: #756095.
  * Update debian/copyright with the libidn/punycode.{c,h} license.  Closes:
    #754731.
  * debian/control/libc: drop Recommends on: gcc | c-compiler.  Closes:
    #747933.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 14 Aug 2014 15:54:09 +0200

glibc (2.19-7) unstable; urgency=high

  * debian/patches/localedata/unsubmitted-tst-setlocale3-ENV.diff: Apply
    correct environment for the tst-setlocale3 test to find its locales.

 -- Adam Conrad <adconrad@0c3.net>  Sat, 12 Jul 2014 17:29:20 -0600

glibc (2.19-6) unstable; urgency=high

  [ Aurelien Jarno ]
  * debian/patches/any/cvs-CVE-2014-0475.diff: fix a directory traversal in
    locale environment handling (CVE-2014-0475).
  * debian/patches/any/cvs-setlocale-alloca.diff: Additional setlocale
    hardening.
  * debian/control.in/main, debian/sysdeps/linux.mk: drop systemtap support.
    sdt.h has been moved to a different location in the latest upload, and
    it's not really clear on which architectures systemtap support should
    be enabled.

  [ Helmut Grohne ]
  * debian/rules.d/debhelper.mk: fix dh_strip call in stage1.  Closes:
    #754350.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 5490 (from glibc-bsd).
  * kfreebsd/local-fbtl.diff: likewise.
  * update testsuite-checking/expected-results-*-kfreebsd-gnu-*

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 12 Jul 2014 17:22:50 +0200

glibc (2.19-5) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/sysdeps/mips*.mk: replace EGLIBC_PASSES into GLIBC_PASSES.
  * debian/patches/alpha/cvs-__pointer_chk_guard.diff: new patch from
    upstream to fix testsuite failures on alpha.
  * debian/patches/alpha/local-string-functions.diff: disable strcmp
    and strncmp as these functions behaves incorrectly when crossing
    pages. This fixes badsalttest in the testsuite.
  * debian/debhelper.in/libc.postinst: don't run "telinit u" under systemd
    Closes: #753725.
  * debian/testsuite-checking/expected-results-alpha-linux-gnu-libc: ignore
    floating point failures, as alpha is not fully IEEE compliant.  Closes:
    #753099.
  * testsuite-checking/expected-results-*s390*: ignore tst-cancelx17.out
    failure, it is due to a bug in the test (see BZ #12683).

  [ Helmut Grohne ]
  * Rename the bootstrap stage to DEB_BUILD_PROFILES=stage1 to conform
    with https://wiki.debian.org/BuildProfileSpec. (Closes: #752480)
  * Don't try to install xen headers in i386 bootstrap build, because
    they are not built.  Closes: #743676.

  [ Adam Conrad ]
  * debian/patches/alpha/cvs-unwind-backtrace.diff: Backport upstream
    fix to enable unwind tables when building the backtrace routines.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 06 Jul 2014 21:42:09 +0200

glibc (2.19-4) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.{preinst,postrm,postinst}: correctly remove
    old ld.so configuration if more than one libc6 package is installed
    (multiarch case).  Closes: #752389, #752404.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-tls-threadvar.diff: Update to fix gcc-4.9 build.

  [ Adam Conrad ]
  * debian/control.in/main: glibc-source Conflics/Replaces eglibc-source.
  * debian/patches/powerpc/local-powerpc8xx-dcbz.diff: Restrict the trap
    to 32-bit builds, since the Freescale 8xx CPUs aren't 64-bit capable.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 23 Jun 2014 20:10:39 +0200

glibc (2.19-3experimental0) experimental; urgency=medium

  [ Aurelien Jarno]
  * Switch back to glibc sources:
    - debian/control.in/*: replace eglibc by glibc, update descriptions.
    - rename debian/debhelper.in/eglibc-source.install into
      glibc-source.install.
    - rename debian/debhelper.in/eglibc-source.lintian-overrides into
      glibc-source.lintian-overrides.
    - rename debian/eglibc-source.filelist into glibc-source.filelist
    - debian/copyright: update.
    - debian/rules, debian/rules.d/*: replace eglibc by glibc.
    - source/lintian-overrides: replace eglibc by glibc.
    - debian/sysdeps/*: replace eglibc by glibc.
    - debian/po/*: update using debconf-updatepo.
    - debian/rules.d/tarball.mk: rewrite to generate the orig tarball and
      to fetch the branch updates through git.
    - patches/any/submitted-nl_langinfo-static.diff: refresh.
    - patches/any/submitted-ldsodefs_rtld_debug.diff: drop.
    - patches/any/local-dynamic-resolvconf.diff: new patch from the eglibc
      tree to dynamically take into account changes in resolv.conf.
    - patches/powerpc/local-powerpc8xx-dcbz.diff: new patch from the eglibc
      tree to workaround dcbz issues on PowerPC 8XX CPUs.
    - patches/sh4/local-fpscr_values.diff: new patch from eglibc tree to
      export the ___fpscr_values symbol on SH4.
    - patches/any/local-libpic.diff: new patch from eglibc tree to install
      *_pic.a files.
    - patches/any/local-bootstrap-headers.diff: new patch from eglibc tree
      to ease header installation when bootstrapping.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 18 Jun 2014 20:22:44 +0200

eglibc (2.19-3) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/libc: fix libtirpc1 breaks.  Closes: #751852.
  * debian/rules.d/build.mk: generate ld.so configuration file using
    DEB_HOST_MULTIARCH instead of DEB_HOST_GNU_TYPE to have a stable
    path even when the GNU triplet change.
  * debian/debhelper.in/libc.{preinst,postrm,postinst}: remove old
    ld.so configuration file on hurd-i386, i386 and kfreebsd-i386.
  * debian/debhelper.in/libc.postinst: don't create/modify ld.so.conf,
    but instead provide it as a conffile in libc-bin.  Closes: #737588.
  * debian/debhelper.in/libc.preinst: remove dead code.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 17 Jun 2014 18:57:11 +0200

eglibc (2.19-2) unstable; urgency=medium

  [ Adam Conrad ]
  * expected-results-aarch64-linux-gnu-libc: Ignore basic-test.out on
    arm64 after assurance from upstream that this isn't a regression.

  [ Aurelien Jarno ]
  * Add support for mipsn32, mipsn32el, mips64 and mips64el, based on
    patches from Eleanor Chen, Yunqiang Su and Sphinx Jiang.  Closes:
    #715038.
    - debian/control.in/main: bump build-depends on linux-libc-dev to (>=
      3.9). Do it for all architectures as this version is in Jessie for quite
      some time.
    - control.in/mips32: new file.
    - control.in/mipsn32: add mips64 and mips64el architectures.
    - control.in/mips64: add mipsn32 and mipsn32el architectures.
    - debian/rules.d/control.mk: add mipsn32, mipsn32el, mips64 and mips64el
      to the architecture list.
    - debian/sysdeps/mips64.mk: new file.
    - debian/sysdeps/mips64el.mk: new file.
    - debian/sysdeps/mipsn32.mk: new file.
    - debian/sysdeps/mipsn32el.mk: new file.
  * debian/control.in/libc: add a Breaks: check (<< 0.9.10-6.1+b1) on s390x,
    to make sure libcheck.a is using the GLIBC_2.19 version of the *jmp*
    functions.
  * debian/control.in/libc: add a Breaks: libtirpc1 (<< 0.2.3), as earlier
    versions try to unlock a lock which hasn't been locked, causing an
    issue with lock elision.  Closes: #751134.
  * Update Swedish debconf translation, by Martin Bagge.  Closes: #751172.
  * debian/patches/alpha/submitted-lll_futex_timed_wait_bitset.diff: new
    patch to fix issues in the testsuite on alpha.  Closes: #750996.
  * debian/testsuite-checking/expected-results-mips*-linux-gnu-*: re-add
    tst-mqueue5.out (removed in the latest cleanup) as it still occasionally
    fails.
  * debian/patches/any/submitted-resolv-ipv6-nameservers.diff: new patch to
    fix resolving issues when using IPv6 nameservers in resolv.conf.  Closes:
    #627531, #644406, #709867.
  * patches/any/cvs-posix_spawn_file_actions_addopen.diff: new patch from
    upstream to fix a vulnerability in posix_spawn_file_actions_addopen
    (CVE-2014-4043).  Closes: #751774.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 5486 (from
    glibc-bsd).  Closes: #751565.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 16 Jun 2014 20:40:57 +0200

eglibc (2.19-1) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/control.in/main: remove outdated Build-Depends on bzip2.
  * debian/patches/any/cvs-resolv-reuse-fd.diff: new patch from upstream
    to fix invalid file descriptor reuse while sending DNS query.  Closes:
    #722075.
  * Finish debconf translation update from Esko Arajärvi.  Closes: #750124.
  * debian/patches/git-updates.diff: update from the 2.19 branch:
    - fixes pthread_spin_lock on sparc/sparc64.  Closes: #749087.
  * debian/patches/any/submitted-argp-attribute.diff: new patch from Ondřej
    Bílka to fix string functions with FORTIFY_SOURCE=2 when <argp.h> is
    included before <string.h>.  Closes: #647084.
  * debian/sysdeps/{sparc,sparc64}.mk: temporarily pass --disable-multiarch
    to configure to try to fix random segmentation faults on Niagara 1
    machines.

  [ Samuel Thibault ]
  * hurd-i386/unsubmitted-pthread_posix-option.diff: Split patches into...
  * ... hurd-i386/tg-{posix_thread,gai_misc}.diff.
  * patches/hurd-i386/cvs-libpthread_guardsize.diff: Fix guard size
    computation and enable again.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 04 Jun 2014 20:32:06 +0200

eglibc (2.19-0experimental0) experimental; urgency=medium

  [ Adam Conrad ]
  * New upstream release: version 2.19, orig tarball built at SVN r25252:
    - debian/patches/alpha/local-string-functions.diff: Rebased.
    - debian/patches/any/local-disable-test-tgmath2.diff: Rebased.
    - debian/patches/any/local-localedef-fix-trampoline.diff: Rebased.
    - debian/patches/any/local-no-malloc-backtrace.diff: Rebased.
    - debian/patches/any/submitted-longdouble.diff: Rebased.
    - debian/patches/hurd-i386/local-enable-ldconfig.diff: Rebased.
    - debian/patches/kfreebsd/local-fbtl-depends.diff: Rebased.
    - debian/patches/kfreebsd/local-scripts.diff: Rebased.
    - debian/patches/locale/preprocessor-collate-uli-sucks.diff: Rebased.
    - debian/patches/localedata/fix-lang.diff: Rebased.
    - debian/patches/localedata/locale-en_DK.diff: Rebased.
    - debian/patches/localedata/locale-hsb_DE.diff: Rebased.
    - debian/patches/localedata/locale-ku_TR.diff: Rebased.
    - debian/patches/localedata/locales-fr.diff: Rebased.
    - debian/patches/localedata/sort-UTF8-first.diff: Rebased.
    - debian/patches/powerpc/local-math-logb.diff: Rebased.
    - debian/patches/sparc/local-fork.diff: Rebased.
    - debian/patches/sparc/local-sparcv9-target.diff: Rebased.
    - debian/patches/i386/local-i586-ulps.diff: Regenerate.
    - debian/patches/alpha/submitted-PTR_MANGLE.diff: Fixed upstream.
    - debian/patches/ia64/submitted-fpu-ulps.diff: Regenerated upstream.
    - debian/patches/powerpc/submitted-gettimeofday-vdso.diff: Dropped.
    - debian/patches/any/local-use-glibc-predef.diff: Merged upstream.
    - debian/patches/any/submitted-getaddrinfo-lo.diff: Merged upstream.
    - debian/patches/any/local-getaddrinfo-interface.diff: Merged upstream.
    - debian/patches/any/submitted-resolv-init.diff: Merged upstream.
    - debian/patches/arm/cvs-arm-always-blx.diff: Merged upstream.
    - debian/patches/arm/cvs-memcpy-align.diff: Merged upstream.
    - debian/patches/sparc/cvs-strcmp.diff: Merged upstream.
    - debian/patches/sparc/cvs-efd_semaphore.diff: Merged upstream.
    - debian/patches/sparc/submitted-prlimit.diff: Merged upstream.
    - Drop all cvs-* patches that are included in the 2.19 upstream release.
  * debian/sysdeps/ppc64el.mk: Use --with-cpu=power7 to optimize properly.
  * debian/*: Update occurences of 2.18 to 2.19 and update symbols to match.
  * debian/patches/any/unsubmitted-tst-ftell-locale.diff: Apply the correct
    environment for the tst-ftell-partial-wide.out test to find its locales.
  * debian/*: Remove references to libbsd-compat.a which is no longer built.
  * debian/sysdeps/powerpc.mk: Follow rename of stubs-64.h to stubs-64-v1.h.
  * debian/patches/any/submitted-sysdeps-auxv.diff: Fix implicit declaration
    when including <sys/auxv.h> in the testsuite by fixing up header guards.
  * expected-results-aarch64-linux-gnu-libc: Tolerate fenv-tls test failure.
  * debian/rules.d/tarball.mk: Add an update-from-upstream-git glibc target.
  * debian/patches/git-updates.diff: Updates to current release/2.19/master.
  * debian/sysdeps/arm64.mk: Enable IFUNC, now that binutils can support it.
  * debian/patches/locale/submitted-XDR-revert.diff: Return the XDR currency
    to locale/iso-4217.def because localedata/locales/i18n needs to have it.
  * debian/patches/powerpc/cvs-ibm-branch.diff: Pull in IBM's 2.19 backports
    to fix several bugs and add optimisations on POWER7 and POWER8 machines.
  * debian/patches/any/local-no-malloc-backtrace.diff: Change M_CHECK_ACTION
    to abort if the first bit is set (ie: MALLOC_CHECK_=1), like the second.
  * debian/patches/arm64/submitted-align.diff: Right pthread_self alignment.
  * debian/patches/arm64/submitted-setcontext.diff: Bring in patch from Will
    Newton of Linaro to reimplement setcontext without rt_sigreturn syscall.
  * debian/patches/arm64/submitted-tst-setcontext.diff: Apply test for same.
  * debian/debhelper.in/libc-bin.manpages: Drop locale.1, moved to manpages.

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.preinst: remove check for sparc32 kernel, the
    support has been removed with Lenny.
  * debian/debhelper.in/libc.preinst: remove code to upgrade armhf systems
    from pre-Wheezy versions.
  * debian/debhelper.in/libc.preinst: don't act on the filesystem until it
    is sure that the libc is going to be upgraded.
  * debian/debhelper.in/libc.preinst: stop checking for /etc/init.d/glibc.sh
    on upgrade, we don't support lenny to jessie upgrades.
  * debhelper.in/libc-alt.preinst: drop, we don't support lenny to jessie
    upgrades.
  * sysdeps/{amd64.mk,i386.mk,x32.mk}: enable lock elision.
  * expected-results-arm-linux-gnueabi-{armel,libc}: ignore basic-test.out
    test, as it is due to GCC bug #748616.
  * debian/control.in/main: build-depends on systemtap-sdt-dev on linux-any.
    debian/sysdeps/linux.mk: enable systemtap support.  Closes: #700760.
  * patches/any/cvs-strtod.diff: new patch to fix strtod on some
    architectures, fixing a FTBFS on sparc.

  [ Samuel Thibault ]
  * Hurd fixes for new upstream
    - debian/patches/hurd-i386/libpthread_version.diff: Rebased.
    - debian/patches/hurd-i386/submitted-net.diff: Rebased.
    - debian/patches/hurd-i386/tg-elfosabi_gnu.diff: Fixed upstream.
    - debian/patches/hurd-i386/tg-pthread-atfork.diff: Fixed upstream.
    - debian/patches/hurd-i386/tg-tls-threadvar.diff: Rebased.
    - debian/patches/hurd-i386/tg-tls.diff: Rebased.
    - debian/patches/hurd-i386/unsubmitted-gnumach.defs.diff: Rebased.
    - update testsuite hurd-i386 results.

  [ Martin Pitt ]
  * Adjust autopkgtest to build the package within the test instead of
    having a simple "/bin/true" test. This avoids copying the sizable
    built tree between host and VM twice.

  [ Petr Salinger ]
  * kfreebsd/local-nscd-nosendfile-fix.diff: remove, fixed upstream.
  * kfreebsd/local-no-execfn.diff: new patch,
      to handle systems without AT_EXECFN
  * kfreebsd/local-sysdeps.diff: update to revision 5466 (from glibc-bsd).
  * kfreebsd/local-fbtl.diff: likewise.
  * update testsuite-checking/expected-results-*-kfreebsd-gnu-*

 -- Adam Conrad <adconrad@0c3.net>  Thu, 22 May 2014 23:42:20 -0600

eglibc (2.18-7) unstable; urgency=medium

  [ Aurelien Jarno ]
  * testsuite-checking/expected-results-*s390*: ignore tst-cancel17.out
    failure, it is due to a bug in the test (see BZ #12683).
  * local/etc/bindresvport.blacklist: add port 655 (tinc).  Closes: #748338.
  * control.in/*: remove conflicts between multiarch libc packages using the
    same dynamic library loader. This was introduced in 2.18-6, but sadly the
    infrastructure is not ready for that, leaving now way to fix the problem.
    Reopens: #745552.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread_guardsize.diff: Disable for now, it
    breaks a bunch of tests.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 19 May 2014 11:49:49 +0200

eglibc (2.18-6) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread_guardsize.diff: Fix guardsize semantic
    for gcc's -fsplit-stack.

  [ Aurelien Jarno ]
  * patches/any/cvs-make-4.0.diff: patch from upstream to allow GNU Make
    4.0 and greater.  Closes: #747013.
  * patches/sparc/cvs-strcmp.diff: patch from upstream to fix a corner case
    in the sparc specific strcmp() implementation.  Closes: #746310.
  * debhelper.in/nscd.init: invalidate nscd cache on startup.  Closes:
    #689427.
  * patches/any/cvs-wprintf.diff: patch from upstream to correctly handle
    %p in wprintf().  Closes: #729514.
  * patches/any/submitted-resolv-first-query-failure.diff: replace by upstream
    version patches/any/cvs-resolv-first-query-failure.diff.
  * control.in/*: add conflicts between multiarch libc packages using the same
    dynamic library loader.  Closes: #745552.
  * patches/localedata/submitted-it_IT-thousands_sep.diff: new patch to define
    the thousands separator for the it_IT locale.  Closes: #712157.
  * patches/any/submitted-ptsname_r-uninitialized-memory.diff: new patch to
    fix uninitialized memory in ptsname_r().  Closes: #741482.
  * patches/all/submitted-po-fr-fixes.diff: new patch to fix the French
    translation of inappropriate (inappropré -> inapproprié).  Closes:
    #733237.
  * patches/any/cvs-socketcall-syscall.diff: new patch from upstream to fix
    socketcall multiplex syscall features detection.  Closes: #730744.
  * patches/any/submitted-nl_langinfo-static.diff: new patch to fix
    nl_langinfo() used in static binaries.  Closes: #747103.
  * patches/any/sparc/cvs-efd_semaphore.diff: new patch from upstream to
    declare EFD_SEMAPHORE in <bits/eventfd.h> on SPARC.  Closes: #730092,
    #737697.
  * patches/svn-updates.diff: update from 2.18 branch, to fix a race in free()
    of fastbin chunk.
  * local/manpages/sprof.1, local/manpages/rpcgen.1: apply typographical
    fixes from Bjarni Ingi Gislason <bjarniig@rhi.hi.is>.  Closes: #726849,
    #740973.
  * patches/hppa/*.diff: apply changes from John David Anglin
    <dave.anglin@bell.net>.  Closes: #725508, #741243.
  * testsuite-checking/expected-results-mips*el: re-add tst-tls2.out and
    tst-tls3.out (remove in the latest cleanup) as they still occasionally
    fail.
  * local/manpages/sotruss.1: new manpage.
  * patches/sparc/submitted-prlimit.diff: new patch to fix missing
    prlimit/prlimit64 prototypes on SPARC.  Closes: #703559.
  * source/lintian-overrides: add override for false positive
    license-problem-non-free-RFC tag. Remove old override for
    outdated-autotools-helper-file tag.
  * control.in/main: Bump Standards-Version to 3.9.5 (no changes).

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 14 May 2014 19:15:10 +0200

eglibc (2.18-5) unstable; urgency=medium

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-mmap_file_prot_none_fix.diff: New patch, fixes locale
    generation.
  * control.in/main: Bump hurd dependency to version with newer RPCs.
  * libc0.3.symbols.hurd-i386: Update accordingly.
  * patches/hurd-i386/libpthread_nort.diff: Remove patch, replaced by...
  * patches/hurd-i386/cvs-libpthread-pthread_condattr_setclock.diff: Fix for
    pthread_condattr_setclock, for glib2.0 build.
  * patches/hurd-i386/cvs-munmap-0.diff: New patch to fix gcc's -fsplit-stack
    initialization.
  * patches/hurd-i386/cvs-tcbhead_t.diff: New patch to complete TLS variables,
    to fix gcc's -fsplit-stack support.
  * Update hurd-i386 testsuite results.
  * patches/hurd-i386/tg-extern_inline.diff: Only inline within libc.
  * patches/hurd-i386/tg-tls-threadvar.diff: Use tcbhead_t for _hurd_sigstate
    instead of TLS variable. Fixes some corner cases triggered with gcl.
  * patches/hurd-i386/tg-sigstate_locking.diff: Refresh.
  * patches/hurd-i386/tg-sigstate_thread_reference.diff: Refresh.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 5460 (from glibc-bsd).
  * kfreebsd/local-fbtl.diff: likewise

  [ Adam Conrad ]
  * debian/patches/arm/cvs-{memcpy-align.patch,arm-always-blx.diff}: Backport
    ifunc memcpy routines from 2.19 to fix alignment issues and computed-jump
    calculations for ARM_ALWAYS_BX, should fix memcpy on our ArmadaXP buildds.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 27 Apr 2014 15:06:57 -0600

eglibc (2.18-4) unstable; urgency=high

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.preinst: Don't fail if the dynamic loader
    symlink is dangling or missing.  Closes: #740158, #740196.
  * debian/debhelper.in/libc.preinst: only disable ldconfig after making
    sure a fixed version hasn't already been unpacked, as the unpack order
    is not guaranteed.
  * debian/debhelper.in/libc.postrm: generalize the dynamic linker
    symlink creation to all biarch packages.
  * debian/debhelper.in/libc-alt.postrm: generalize the dynamic linker
    symlink removal to all biarch packages.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 02 Mar 2014 15:32:16 +0100

eglibc (2.18-3) unstable; urgency=medium

  * debian/patches/any/local-no-malloc-backtrace.diff: Lower the default
    for MALLOC_CHECK_ to 1, and add it to the list of insecure variables
    that can't be set for suid binaries. This allows us to not backtrace
    malloc failures by default (Closes: #739913, LP: #1266492) and skips
    backtrace for suid binaries where an attacker calling into a corrupt
    malloc internal data structure with malloc could lead to Bad Things.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 23 Feb 2014 18:43:36 -0700

eglibc (2.18-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * any/local-ldconfig-ignore-ld.so.diff: new patch to ignore the dynamic
    linker in ldconfig.  Closes: #699206, #707185, #727786, #736097,
    #739734, #739758.
  * debian/debhelper.in/libc.preinst: Disable ldconfig when a potentially
    broken dynamic loader symlink is found. This happens when a biarch
    package of the same architecture than the native one has been installed
    (e.g.: libc6-amd64:i386 on amd64) and ldconfig is run afterwards.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 5443 (from glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 23 Feb 2014 13:30:11 +0100

eglibc (2.18-1) unstable; urgency=medium

  [ Adam Conrad ]
  * debian/patches/hurd-i386/libpthread_version.diff: Remove stderr vomit.
  * debian/patches/arm/cvs-arm__{longjmp,sigsetjmp}-thumb.diff: Pull patch
    from upstream to allow building longjmp and sigsetjmp code with Thumb.
  * debian/patches/arm/cvs-arm-pointer-mangle-frame.diff: Upstream diff to
    no longer apply pointer encryption to the frame pointer (LP: #1268937)
  * debian/patches/powerpc/cvs-gettimeofday-32.diff: Replace the submitted
    version of this patch with the upstream commit, which also fixes time.
  * debian/debhelper.in/libc.postinst: Track samba to smbd service rename.

  [ Aurelien Jarno ]
  * debian/testsuite-checking/expected-results-mips*: Update following
    the prlimit64 fix deployment on the build daemons.
  * patches/alpha/cvs-tls-macros.diff: New patch from upstream to fix
    FTBFS on alpha. Closes: #735774.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-libpthread.diff: New snapshot, brings thread
    destruction fixes and name resolution fix.
  * patches/hurd-i386/libpthread_build.diff: Refresh.
  * patches/hurd-i386/libpthread_fix.diff: Remove, fixed upstream.
  * patches/hurd-i386/libpthread_globsigdisp.diff: Remove, merged upstream.
  * patches/hurd-i386/tg-tls_thread_leak.diff: Re-enable, now working.
  * control.d/libc: Upgrade hurd Breaks to version which include the fix again
    gcc-4.8-built libc.

 -- Adam Conrad <adconrad@0c3.net>  Thu, 20 Feb 2014 19:38:49 -0700

eglibc (2.18-0experimental1) experimental; urgency=low

  [ Adam Conrad ]
  * debian/patches/i386/cvs-nonascii-case-strcmp.diff: Pull upstream patch
    to fix LC_CTYPE nonascii-case fallback in i686 strcasecmp/strncasecmp.
  * debian/testsuite-checking/*: Update 686 targets to match the 586 ones.
  * Generate expected-results-powerpc64le-linux-gnu-libc for ppc64el port.
  * debian/testsuite-checking/*: Normalize expected results for ARM ports.
  * debian/patches/i386/cvs-sse42-strstr*: Backport upstream commits which
    drop buggy SSE4.2 srtstr implementations in favour of an SSE2 version.
  * debian/patches/any/cvs-ptrace_peeksiginfo_args.diff: Prepend __ prefix
    to ptrace_peeksiginfo_args struct to prevent namespace clash w/ linux.
  * debian/patches/powerpc/cvs-ppc64-vdso-ifunc.diff: Pull upstream fix to
    squash undefined behaviour in PowerPC64 vDSO IFUNC symbol resolutions.
  * debian/patches/powerpc/submitted-gettimeofday-vdso.diff: New diff from
    Adhemerval Zanella at IBM to fix gettimeofday vDSO/IFUNC interactions.
  * debian/patches/powerpc/submitted-gettimeofday-32.diff: Pull patch from
    Adhemerval Zanella at IBM to fix 32-bit gettimeofday VSYSCALL lookups.
  * debian/rules.d/build.mk, debian/sysdeps/{hurd,linux,kfreebsd}.mk: Make
    pt_chown keyed off a new variable that we can use to enable or disable
    it per kernel type rather than just the primary libc (Closes: #734607)
  * debian/patches/kfreebsd/submitted-waitid.diff: On Linux, we must undef
    waitflags before we define them or we'll conflict with kernel headers.

  [ Aurelien Jarno ]
  * debian/patches/any/cvs-vfscanf-0e+0.diff: new patch from upstream to
    fix parsing of 0e+0.  Closes: #732993.
  * debian/patches/mips/submitted-wordsize-clang.diff: drop now that clang
    correctly defines_MIPS_SZPTR.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-nfds-poll.diff: New patch to fix poll call with big
    array.
  * patches/hurd-i386/tg-sigstate_locking.diff: New patch to fix sigstate
    creation.
  * patches/hurd-i386/tg-sigstate_thread_reference.diff: New patch to fix
    sigstate thread reference counting.
  * patches/hurd-i386/{libpthreadlibpthread_stubs,libpthread_hurd_cond_wait,
    submitted-libpthread-elf,cvs-libpthread_lock,libpthread_cancellation,
    libpthread_hurd_cond_timedwait,libpthread_ctypes,cvs-pthread_atfork,
    cvs-tls-threadvar-threadself,cvs-libpthread-tls,
    cvs-libpthread-userstack}.diff: Remove, replaced by...
  * patches/hurd-i386/cvs-libpthread.diff: ... this git snapshot, and...
  * patches/hurd-i386/libpthread_build.diff: ... these build fixes.
  * patches/hurd-i386/tg-aio_misc.diff: New patch to fix aio build.
  * control.d/main: Build-depend on newer gnumach-dev to get
    thread_terminate_release RPC.
  * libc0.3.symbols.hurd-i386: Add thread_terminate_release.

 -- Adam Conrad <adconrad@0c3.net>  Fri, 10 Jan 2014 16:06:00 -0700

eglibc (2.18-0experimental0) experimental; urgency=low

  [ Adam Conrad ]
  * New upstream release: version 2.18, orig tarball built at SVN r24653:
    - patches/alpha/local-string-functions.diff: Rebased.
    - patches/alpha/submitted-PTR_MANGLE.diff: Rebased.
    - patches/any/local-allocalim-header.diff: Rebased.
    - patches/any/local-disable-test-tgmath2.diff: Rebased.
    - patches/any/local-dlfptr.diff: Rebased.
    - patches/any/local-ld-multiarch.diff: Rebased.
    - patches/any/local-ldso-disable-hwcap.diff: Rebased.
    - patches/any/local-mktemp.diff: Rebased.
    - patches/any/local-nss-overflow.diff: Rebased.
    - patches/any/submitted-bits-fcntl_h-at.diff: Rebased.
    - patches/any/submitted-longdouble.diff: Rebased.
    - patches/arm/local-vfp-sysdeps.diff: Rebased.
    - patches/arm/unsubmitted-ldconfig-cache-abi.diff: Rebased.
    - patches/hppa/submitted-nptl-carlos.diff: Rebased.
    - patches/sparc/local-fork.diff: Rebased.
    - patches/ia64/submitted-fpu-ulps.diff: Rebased.
    - patches/localedata/first_weekday.diff: Rebased.
    - patches/locale/LC_IDENTIFICATION-optional-fields.diff: Rebased.
    - patches/powerpcspe/unsubmitted-nearbyint.diff: Applied upstream.
    - patches/m68k/cvs-sysdep-cfi.diff: Applied upstream.
    - patches/i386/cvs-simd-exception.diff: Applied upstream.
    - patches/any/local-rtld.diff: Applied upstream.
    - patches/any/cvs-tst-array-as-needed.diff: Applied upstream.
    - patches/any/cvs-use-glibc-wchar.diff: Applied upstream.
    - patches/any/submitted-setfsid-wur.diff: Applied upstream.
    - patches/any/cvs-sys-param-h-DEV_BSIZE.diff: Applied upstream.
    - patches/any/cvs-getaddrinfo-stack-overflow.diff: Applied upstream.
    - patches/any/cvs-regexp-overrun.diff: Applied upstream.
    - patches/any/cvs-gethostbyname-numeric.diff: Applied upstream.
    - patches/any/cvs-getaddrinfo-EAI_NONAME.diff: Applied upstream.
    - patches/any/cvs-tst-cancel4-buf.diff: Applied upstream.
    - patches/arm64/cvs-setjmp-clobber.diff: Applied upstream.
    - patches/any/cvs-tst-cancel4-buf.diff: Applied upstream.
    - patches/any/cvs-CVE-2013-4332-pvalloc.diff: Rebased.
    - patches/any/cvs-CVE-2013-4332-valloc.diff: Rebased.
    - patches/any/cvs-CVE-2013-4788-static-ptrguard.diff: Rebased.
    - patches/any/cvs-CVE-2013-4788-static-ptrguard-arm.diff: Rebased.
    - patches/any/cvs-CVE-2013-2207-pt_chown.diff: Applied upstream.
  * debian/patches/any/cvs-tst-tls-atexit-deps.diff: Fix compilation of
    stdlib/tst-tls-atexit with binutils defaulting to ld --as-needed.
  * debian/control: Build-dep on netbase for service lookups in tests.
  * debian/sysdeps/{linux,hurd}.mk: Force on pt_chown on linux and hurd.
  * debian/rules.d/debhelper.mk: Compress $(libc), multiarch-support, and
    libc-bin with gzip, and let the rest default to dpkg's new defaults.
  * debian/debhelper.in/libc-bin.lintian-overrides: The manpages for zic
    zdump, ldd, ldconfig, and getent have moved to the manpages package.
  * debian/debhelper.in/libc.lintian-overrides: Don't whine about ldconfig.
  * debian/testsuite-checking/*: Allow powerpc to fail test-{double,float}.
  * debian/testsuite-checking/expected-results-aarch64-linux-gnu-libc: New.
  * debian/testsuite-checking/expected-results-arm-linux-gnueabi-armel: New.
  * debian/testsuite-checking/expected-results-i686-linux-gnu-libc: New.
  * debian/patches/any/local-rtlddir-cross.diff: Revert to the state found
    in 2.17 where ld.so was installed to slibdir and so listed in libc.so.
  * Skeleton in packaging support for the new powerpc64le-linux-gnu:
    - debian/sysdeps/ppc64el.mk: Define base ppc64el libc targets.
    - debian/rules.d/control.mk: Add ppc64el to the list of libc_arches.
    - debian/control.in/main: Build-depend on gcc-4.8 for ppc64el builds.
  * debian/libc6.symbols.ppc64: Add missing libc6 symbols file for ppc64.
  * debian/libc6.symbols.arm64: Add missing libc6 symbols file for arm64.
  * debian/sysdeps/*: Enable new IFUNC support on armel and armhf builds.
  * debian/patches/arm/cvs-ifunc-hwcap-fix.diff: Fix IFUNC on non-NEON.
  * debian/patches/arm/cvs-arm-pointer-mangling.diff: Add ARM support for
    pointer encryption in glibc internal structures in C and assembler.
  * debian/patches/any/cvs-tst-cleanup2-ret.diff: Fix return regression
    on recent versions of gcc in nptl/tst-cleanup2 and nptl/tst-cleanupx2.
  * debian/patches/any/unsubmitted-tst-tlsmod-as-needed.diff: Fix linking
    tst-tlsmod5.so and tst-tlsmod6.so with an as-needed default toolchain.
  * debian/patches/any/unsubmitted-scanf-includes.diff: Fix includes for
    the scanf15 and scanf17 tests for arches that need misc/bits/syscall.h.
  * debian/patches/any/local-use-glibc-predef.diff: Backport stdc-predef.h
    from glibc instead of eglibc, avoiding bits/predefs.h (closes: #717557)
  * debian/rules.d/quilt.mk: Fix unpatch with only one arch patch applied.
  * debian/patches/arm64/cvs-arm64-sigcontext.diff: arm64 sigcontextinfo.h.
  * debian/patches/arm64/cvs-arm64-relocs.diff: Add arm64 reloc definitions.
  * debian/patches/arm64/cvs-arm64-mcount-profiling.diff: mcount profiling.
  * debian/patches/arm64/cvs-arm64-ifunc.diff: Enable arm64 IFUNC support.
  * debian/{rules,sysdeps/arm64.mk,control}: Enable libc6-prof on aarch64.
  * debian/{control.in/main,rules,sysdeps/*}: Switch to using gcc-4.8 on all
    architectures as gcc-4.6 and gcc-4.7 are going away in the near future.
  * debian/rules: Build for i586 where dpkg-architecture claims i486, which
    matches the default that gcc-4.8 has had on i386 for the last two years.
  * debian/rules: Set configure_build the same as configure_target above, so
    we don't think we're cross-building and skip half the testsuite on i386.
  * debian/patches/i386/local-i586-ulps.diff: Regen ulps for i586, not i686.
  * debian/patches/i386/cvs-tst-cond25.diff: Pull fix for an intermittent
    failure in nptl/tst-cond25 in pthread_cond_timedwait.S on i486 and up.

  [ Samuel Thibault ]
  * patches/hurd-i386/libpthread_hurd_cond_timedwait.diff: Rebased.
  * patches/hurd-i386/libpthread_hurd_cond_wait.diff: Rebased.
  * patches/hurd-i386/submitted-add-needed.diff: Rebased.
  * patches/hurd-i386/submitted-exec_filename.diff: Rebased.
  * patches/hurd-i386/tg-EIEIO-fr.diff: Rebased.
  * patches/hurd-i386/tg-elfosabi_gnu.diff: Rebased.
  * patches/hurd-i386/tg-exec-static.diff: Rebased.
  * patches/hurd-i386/tg-hurdsig-fixes.diff: Rebased.
  * patches/hurd-i386/tg-hurdsig-global-dispositions.diff: Rebased.
  * patches/hurd-i386/tg-sendmsg-SCM_RIGHTS.diff: Rebased.
  * patches/hurd-i386/tg-tls-threadvar.diff: Rebased.
  * patches/hurd-i386/tg-tls.diff: Rebased.
  * patches/hurd-i386/unsubmitted-clock_t_centiseconds.diff: Rebased.
  * patches/hurd-i386/submitted-net.diff: Rebased.
  * patches/hurd-i386/local-ulimit.diff: Removed, fixed upstream.
  * patches/hurd-i386/libpthread_hurd_cond_timedwait.diff: Add missing
    version.
  * patches/hurd-i386/libpthread_hurd_cond_wait.diff: Likewise.
  * patches/hurd-i386/unsubmitted-NO_HIDDEN.diff: New patch, fixes undefined
    __GI_memmove/memset reference failures.
  * testsuite-checking/expected-results-i486-gnu-libc,
    expected-results-i686-gnu-i386, expected-results-i686-gnu-i686,
    expected-results-i686-gnu-xen: Update testsuite result.

  [ Petr Salinger ]
  * debian/*: change version occurences from 2.17 to 2.18 for upgrades/deps.
  * kfreebsd/local-sysdeps.diff: update to revision 5214 (from glibc-bsd).
  * kfreebsd/local-fbtl.diff: likewise
  * sysdeps/kfreebsd.mk: pt_chown is mandatory
  * update symbols file for kfreebsd
  * update testsuite-checking/expected-results-*-kfreebsd-gnu-*
  * add kfreebsd/submitted-waitid.diff. Closes: #720188.
  * add kfreebsd/submitted-auxv.diff. Closes: #717912.
  * drop obsolete patches/*/local-linuxthreads*
  * drop obsolete linuxthreads part of kfreebsd/local-scripts.diff
  * drop obsolete kfreebsd/local-dosavesse.diff, local-pthread_at_fork.diff,
    kfreebsd/local-nosavesse.diff, kfreebsd/local-use-thr-primitives.diff,
    and kfreebsd/submitted-libc_once.diff.
  * drop kfreebsd/local-readdir_r.diff, obsoleted by fix for CVE-2013-4237.

  [ Aurelien Jarno ]
  * Drop s390 support.
  * sysdeps/{hurd,kfreebsd,linux}.mk: remove dead code.
  * Remove linuxthreads from the tarball:
    - rules.d/tarball.mk: don't fetech linuxthreads and linuxthreads_db.
    - rules.d/build.mk: don't build linuxthreads manpages.
    - rules: don't run make clean in linuxthreads directory.
    - patches/any/local-sysctl.diff: drop the linuxthreads part.
    - patches/all/local-pthread-manpages.diff: remove.
    - local/manpages/pthread_*.3: import the few remaining linuxthreads
      manpages.
    - debhelper.in/glibc-doc.manpages: update manpage locations.
  * debian/sysdeps/s390.mk: Enable new IFUNC support.
  * debian/rules.d/debhelper.mk: compress locales-all with xz -z7.
  * patches/any/cvs-strcasecmp-locales.diff: new patch from upstream to
    fix mismatch between strcasecmp and toupper/tolower in tr_TR.iso88599
    locale (Closes: #716775).
  * patches/any/cvs-CVE-2013-4458-getaddrinfo.diff: new patch from upstream
    to fix stack (frame) overflow in getaddrinfo() when called with AF_INET6
    / CVE-2013-4458 (Closes: #727181).
  * testsuite-checking/expected-results-s390-linux-gnu-s390,
    testsuite-checking/expected-results-s390x-linux-gnu-libc: cleanup.
  * patches/svn-updates.diff: update with the glibc 2.18 branch to get commits
    which are not yet available in eglibc. Fixes multiarch math functions on
    sparc.
  * testsuite-checking/expected-results-i486*: rename expected result files
    from i486 to i586.
  * testsuite-checking/convertlog.sh: use sort -u to avoid duplicated entries
    in the test results.
  * testsuite-checking/expected-results-mips*: remove duplicated entries,
    cleanup.
  * testsuite-checking/expected-results-arm-linux-gnueabihf-libc: cleanup.
  * testsuite-checking/expected-results-arm-linux-gnueabi-libc: cleanup.
  * testsuite-checking/expected-results-*86-linux-gnu*: cleanup.
  * patches/any/cvs-DL_CALL_DT_INIT_FINI.diff,
    patches/hppa/cvs-hppa-DL_CALL_DT_INIT_FINI.diff,
    patches/ia64/cvs-ia64-DL_CALL_DT_INIT_FINI.diff: new patches from upstream
    to fix a segmentation fault in ld.so on hppa and ia64.
  * testsuite-checking/expected-results-sparc*-linux-gnu-*: cleanup.
  * patches/s390/cvs-s390-tls-got-pointer.diff: new patch from upstream to fix
    the TLS GOT pointer setup on s390.
  * debian/rules.d/build.mk: define the installation in configparms to avoid
    broken glibc makefiles to spuriously trigger install rules trying to
    overwrite system headers.
  * testsuite-checking/expected-results-*-kfreebsd-gnu-*: allow
    check-local-headers.out to fail as the script is linux specific and
    doesn't now about kfreebsd specific headers.
  * debian/rules: don't pass -fstrict-aliasing to HOST_CFLAGS, it is already
    included in -O2.
  * Replace patches/any/submitted-findlocale-div-by-zero.diff by upstream
    version patches/any/cvs-findlocale-div-by-zero.diff.
  * patches/any/cvs-CVE-2013-4332-memalign-2.diff: patch from upstream to
    address some remaining issues from CVE-2013-4332.
  * patches/ia64/local-rtld-compile-options.diff: new patch to workaround
    miscompilation issues.
  * testsuite-checking/expected-results-ia64-linux-gnu-libc: cleanup and
    update.

 -- Adam Conrad <adconrad@0c3.net>  Mon, 09 Dec 2013 22:14:44 -0700

eglibc (2.17-98) UNRELEASED; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-ifaddrs_v6.diff: Add missing initialization of sa_len
    fields.
  * patches/hurd-i386/tg-futimens.diff: New patch to add futimens support for
    apt 0.9.15.1.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 29 Nov 2013 18:11:34 +0100

eglibc (2.17-97) unstable; urgency=medium

  [ Aurelien Jarno ]
  * patches/mips/local-prlimit64.diff: remove.
  * patches/mips/cvs-prlimit64.diff: new patch from upstream to fix
    getrlimit64/setrlimit64 with recent 64-bit kernels (Closes: #665897).
  * patches/any/submitted-findlocale-div-by-zero.diff: new patch to fix
    a SIGFPE when locale-archive has been corrupted to all zeros (Closes:
    #718890, #730336).

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: raise MAXLOGNAME

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 29 Nov 2013 16:43:19 +0100

eglibc (2.17-96) unstable; urgency=low

  * patches/any/cvs-CVE-2013-4237-alignment.diff: Fix alignment of the
    directory block in dirstream.h, fixing readdir regression on sparc.
  * testsuite-checking/*: Allow ptrguard test to fail on mips and hurd.

 -- Adam Conrad <adconrad@0c3.net>  Fri, 15 Nov 2013 09:39:47 +0000

eglibc (2.17-95) unstable; urgency=low

  [ Adam Conrad ]
  * patches/any/cvs-CVE-2013-4788-static-ptrguard-arm.diff: Pull fix
    from git to fix the static-ptrguard testsuite regression on ARM.
  * patches/series: Re-enable CVE-2013-4788 fixes (Closes: #717178)
  * patches/series.kfreebsd*: Disable kfreebsd/local-readdir_r.diff.

  [ Samuel Thibault ]
  * patches/any/cvs-CVE-2012-44xx.diff: Include <sys/param.h> to get
    MIN/MAX macros on hurd-i386.

 -- Adam Conrad <adconrad@0c3.net>  Sat, 09 Nov 2013 21:45:05 -0700

eglibc (2.17-94) unstable; urgency=low

  [ Adam Conrad]
  * patches/any/cvs-CVE-2012-44xx.diff: backport overflow fixes in strcoll
    addressing CVE-2012-4412 and CVE-2012-4424 (Closes: #687530, #689423)
  * patches/any/cvs-CVE-2013-4237.diff: backport git fix to respect the
    NAME_MAX constraints in readdir_r: CVE-2013-4237 (Closes: #719558)
  * debian/patches/any/cvs-CVE-2013-2207-pt_chown.diff: backpot git patch
    to disable building and using pt_chown, but leave disabled for now
    until we come up with a complete plan to not break end-user machines.
  * patches/any/cvs-CVE-2013-4788-static-ptrguard*: backport fix from git
    for pointer mangling in static builds, disabled due to ARM regression.
  * patches/arm64/cvs-setjmp-clobber.diff: __sigsetjmp clobbers register
    x1 before making the tail call to __sigjmp_save, which causes the
    latter to always save the signal mask.  Backport git patch to fix.
  * patches/ubuntu/unsubmitted-dlopen-static-crash.diff: New patch from
    Maciej Rozycki to fix a dlopen segfault in statically linked programs.

  [ Samuel Thibault ]
  * libc0.3.symbols.hurd-i386: Refresh.
  * patches/hurd-i386/tg-sendmsg-SCM_RIGHTS.diff: Fix spurious returned error
    when flags are not 0.  Thanks Svante Signell for the catch
    (Closes: #724681)
  * patches/hurd-i386/libpthread_stubs.diff: Drop stub for pthread_atfork, now
    implemented.
  * patches/hurd-i386/tg-tls.diff: Fix getting LDT on fork.
  * patches/hurd-i386/local-dl-dynamic-weak.diff: Remove patch, issue fixed in
    libpthread.
  * control: Make libc0.3 break old binaries which were depending on the
    previous patch.
  * patches/hurd-i386/tg-extern_inline.diff: Do not expose some internals of
    libc outside libc.
  * patches/hurd-i386/cvs-tls-threadvar-threadself.diff: New patch, store
    pthread_self in TLS instead of threadvar.
  * patches/hurd-i386/cvs-libpthread-tls.diff: New patch, delay TLS
    deallocation.
  * patches/hurd-i386/tg-tls.diff: Update, fix errno declaration for TLS.
  * patches/hurd-i386/tg-tls-threadvar.diff: Update, replace all threadvars
    with TLS.
  * patches/hurd-i386/cvs-libpthread-userstack.diff: New patch, allow
    user-provided stacks.
  * patches/hurd-i386/tg-libc_getspecific.diff: New patch, fix erroneous
    __libc_getspecific weak reference.
  * control: Make libc0.3 break old hurd with overzealous inlines.
  * patches/hurd-i386/libpthread.diff: Synchronize with upstream.

  [ Petr Salinger ]
  * fbtl.diff: limit default stack size to 4 * ARCH_STACK_DEFAULT_SIZE.
    See #727009, #725516.
  * sysdeps.diff: fixup get/set owner of socket

 -- Adam Conrad <adconrad@0c3.net>  Sat, 09 Nov 2013 18:06:17 -0700

eglibc (2.17-93) unstable; urgency=low

  [ Adam Conrad ]
  * patches/any/cvs-tst-cancel4-buf.diff: Increase nptl test case buffer
    size to 16384 so we really block on current (>= 3.10) Linux kernels.
  * patches/any/cvs-CVE-2013-4332-*.diff: Backport git fixes for integer
    overflows in allocator functions: CVE-2013-4332 (Closes: #722536)
  * debian{control,sysdeps/arm64.mk}: Switch to gcc-4.8 on arm64 only.

  [ Samuel Thibault ]
  * patches/hurd-i386/unsubmitted-clock_t_centiseconds.diff: New patch from
    Richard Braun to work around applications which do not like micro-second
    clock_t, such as guile.
  * Update hurd-i386 testsuite progressions.
  * patches/hurd-i386/submitted-startup-pid2.diff: New patch from Justus
    Winter to prepare reboot() for /hurd/init getting PID 2 instead of 1.
  * patches/hurd-i386/submitted-path_mounted.diff: New patch from Justus
    Winter to fix hurd-i386's _PATH_MOUNTED according to Debian usage.
  * patches/hurd-i386/tg-socket{,pair}_flags.diff: New patch from Thomas
    Schwinge to add support for SOCK_CLOEXEC and SOCK_NONBLOCK.
  * patches/hurd-i386/tg-pthread-atfork.diff,cvs-pthread_atfork.diff: Add
    pthread_atfork support.
  * patches/hurd-i386/tg-thread-cancel.diff: Update patch against two other
    overzealous assertions.
  * patches/hurd-i386/tg-pipe2.diff: New patch to add pipe2 support.

  [ Pino Toscano ]
  * Generate udeb shlibs also for Hurd's libmachuser and libhurduser.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 22 Sep 2013 20:05:36 -0600

eglibc (2.17-92) unstable; urgency=low

  * kfreebsd/local-sysdeps.diff: update to revision 4839 (from glibc-bsd).

 -- Petr Salinger <petr.salinger@seznam.cz>  Wed, 31 Jul 2013 22:38:47 +0100

eglibc (2.17-91) unstable; urgency=low

  [ Petr Salinger ]
  * switch libpthread implementation on kfreebsd-* to fbtl.
    Closes: #703545. Closes: #665287. Closes: #683825. Closes: #489066.
  * split some parts of kfreebsd/local-linuxthreads29.diff
    into  kfreebsd/local-nscd-no-sockcloexec.diff and
          kfreebsd/local-linuxthreads-tlsdesc.diff
  * add kfreebsd/local-fbtl.diff and kfreebsd/local-fbtl-depends.diff
  * kfreebsd/local-sysdeps.diff: update to revision 4809 (from glibc-bsd).
    Closes: #718181. Addresses: #717032 in new binutils.
  * update testsuite-checking/expected-results-*-kfreebsd-gnu-*
    by fbtl tests that are known to fail.

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: run the testsuite in parallel again.
  * prepare symbols file update for kfreebsd-* switch to fbtl.

  [ Samuel Thibault ]
  * hurd-i386/local-no-bootstrap-fs-access.diff: Do not call access at
    process startup on hurd-i386. Fixes root filesystem startup.
  * hurd-i386/unsubmitted-tls.diff: rename into tg-tls-threadvar.diff
  * hurd-i386/tg-tls.diff: Move some hooks to tg-tls-threadvar.diff.

  [ Adam Conrad ]
  * debian/control.in/main: Drop build-conflicts on binutils-gold to
    make us buildable again with the new binutils that provides it.
  * debian/*: Remove ldd.1, ldconfig.8, ld.so.8, gai.conf.5, zic.8,
    and zdump.1, and let them move to manpages (Reference: #556173)

 -- Adam Conrad <adconrad@0c3.net>  Wed, 31 Jul 2013 20:56:32 +0100

eglibc (2.17-7) unstable; urgency=medium

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: unexport LD_PRELOAD to allow the testsuite
    to pass even if eatmydata is used.  Closes: #713035.
  * debian/script.in/nohwcap.sh: handle new multiarch format of dpkg-query.
    Closes: #713837.
  * debian/patches/m68k/cvs-sysdep-cfi.diff: new patch from upstream to fix
    cfi assembly code.  Closes: #709992.
  * patches/any/cvs-gethostbyname-numeric.diff: new patch from upstream to fix
    gethostbyname when used with numeric addresses.
  * debian/patches/any/cvs-getaddrinfo-EAI_NONAME.diff: new patch from
    upstream to return EAI_NONAME instead of EAI_SYSTEM when the network
    is down.  Closes: #713799.
  * debian/local/ldconfig_wrap: rename into debian/local/sbin/ldconfig to
    be consistent with the naming of other files in this directory.
  * debian/patches/mips/local-prlimit64.diff: new patch to temporarily
    workaround issues with the prlimit64 syscall on MIPS.
  * debian/testsuite-checking/expected-results-mips*: allow a few tests to
    fail due to the prlimit64 syscall issue on MIPS.
  * Add 32-bit biarch packages on sparc64.

  [ Samuel Thibault ]
  * Remove unapplied hurd-i386/local-nice.diff (applied as tg-nice.diff)

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 4552 (from glibc-bsd).
    Closes: #712196.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 30 Jun 2013 01:18:27 +0200

eglibc (2.17-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * control.in/main, sysdeps/mips.mk, sysdeps/mipsel.mk: build the libc
    back with gcc-4.7, but using -mno-plt.

  [ Samuel Thibault ]
  * hurd-i386/libpthread_ctypes.diff: Fix ctypes initialization.
  * hurd-i386/submitted-handle-eprototype.diff: Fix DNS lookups.
  * hurd-i386/tg-io_select_timeout.diff: Fixes select timeout.
  * hurd-i386/tg-poll_errors_fixes.diff: Fixes poll posixity.
  * hurd-i386/local-select.diff: Removed, made obsolete by
  tg-io_select_timeout.diff.
  * hurd-i386/tg-context_functions.diff: Add *context support.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 18 Jun 2013 07:58:13 +0200

eglibc (2.17-5) unstable; urgency=low

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 4512 (from glibc-bsd).
    Closes: #710841.

  [ Adam Conrad ]
  * debian/tests/control: Add a bogus Depends line to the rebuild test.

  [ Aurelien Jarno ]
  * Build glibc on mips with gcc-4.4 until a recent binutils version is
    available in sid.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 05 Jun 2013 00:18:31 +0200

eglibc (2.17-4) unstable; urgency=low

  [ Adam Conrad ]
  * Drop versioned build-dependencies on tar, make, and sed, as they're
    all {Build-,}Essential and available in oldstable (Closes: #708504)

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 4511 (from glibc-bsd).
    Closes: #635192. Closes: #667448.
  * debian/sysdeps/kfreebsd.mk, debian/debhelper.in/libc.preinst:
    bump minimal FreeBSD kernel version to 8.3.

  [ Aurelien Jarno ]
  * Remove any/local-o_cloexec.diff, kfreebsd/local-freopen.diff and
    any/unsubmitted-cloexec-conditional.diff (not needed anymore).
  * debhelper.in/libc-bin.postinst: remove duplicate trigger message.
    Closes: #707919.
  * Update Hungarian debconf translation, by Nagy Elemér Károly.
  * Add powerpcspe/unsubmitted-nearbyint.diff to fix FTBFS on powerpcspe
    (Closes: #708741).
  * Update testsuite-checking/expected-results-powerpc-linux-gnuspe-libc
    (Closes: #693895).
  * rules.d/build.mk: use rdfind + symlinks instead of fdupes + handcoded
    shell script to optimize disk space.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 01 Jun 2013 22:03:20 +0200

eglibc (2.17-3) unstable; urgency=medium

  [ Petr Salinger ]
  * Allow failure of tst-secure-getenv on kfreebsd-*, as the kernel
    in squeeze provides /proc/self/exe only on a best effort basis.
  * kfreebsd/local-sysdeps.diff: update to revision 4438 (from glibc-bsd).

  [ Aurelien Jarno ]
  * Add s390x symbols files.

  [ Adam Conrad ]
  * sysdeps/mips.mk: Install n64 and n32 stubs headers into each of
    their respective libc-dev-* multilib packages (Closes: #708265)
  * sysdeps/mipsel.mk: Do the same for mipsel multilib dev packages.

 -- Adam Conrad <adconrad@0c3.net>  Wed, 15 May 2013 18:50:01 -0600

eglibc (2.17-2) unstable; urgency=low

  [ Adam Conrad ]
  * debian/patches/any/unsubmitted-cloexec-conditional.diff: Catch yet
    another unconditional O_CLOEXEC and conditionalize it for freebsd.
  * debian/patches/kfreebsd/local-HAVE_TLS_SUPPORT.diff: Removed, as
    this is no longer needed by the updated glibc-bsd sysdeps upstream.
  * debian/patches/any/cvs-regexp-overrun.diff: Backport patch from git
    to resolve regex matcher overrun, CVE-2013-0242 (Closes: #699399)
  * debian/sysdeps/ia64.mk, debian/control: Switch ia64 back to gcc-4.6,
    as our world explodes when compiled with gcc-4.7 on ia64 right now.

  [ Aurelien Jarno ]
  * patches/any/cvs-sys-param-h-DEV_BSIZE.diff: New patch to fix
    conflict with kFreeBSD kernel headers.
  * patches/kfreebsd/local-linuxthreads-TLS-THREAD.diff: New patch to remove
    conditional defines on USE___THREAD and HAVE_TLS_SUPPORT.
  * patches/kfreebsd/local-linuxthreads-mutex-initializer.diff: New patch to
    define MUTEX_INITIALIZER.
  * Japanese debconf translation update from Nobuhiro Iwamatsu.
    closes: #695077.
  * patches/any/cvs-getaddrinfo-stack-overflow.diff: New patch to fix
    a stack overflow in getaddrinfo(), CVE-2013-1914. Closes: #704623.
  * patches/any/local-missing-linux_types.h.diff: Drop, not need anymore.
  * local/manpages/ld.so.8: drop --ignore-rpath documentation.  Closes:
    #707802.
  * patches/all/local-ldd.diff: check if the dynamic linker works before
    using it. Closes: #631242, #707091.
  * patches/kfreebsd/local-scripts.diff: remove dynamic linker name, now
    handled by abi-variants.
  * debian/control.in/main: remove ${misc:Depends} from libc Depends: field to
    not get a dependency on debconf.  Closes: #707813.
  * patches/localedata/submitted-locale-bo.diff: New patch to fix bo_IN and
    bo_CN locales, causing localedef to fail and localechooser to FTBFS.

  [ Petr Salinger ]
  * patches/kfreebsd/local-linuxthreads-initfini.diff: follow upstream
    changes in startup code
  * patches/kfreebsd/local-no-pldd.diff: pldd is linux only utility
  * patches/kfreebsd/local-nscd-nosendfile-fix.diff: handle system without
    sendfile syscall
  * patches/kfreebsd/local-linuxthreads-stackguard.diff: handle elf subdir
    removal
  * patches/kfreebsd/local-freopen.diff: support architecture without dup3()
  * patches/kfreebsd/local-linuxthreads-ctype_init.diff: follow upstream
    changes in ctype initialization
  * re-enable lost any/local-linuxthreads-XPG7.diff
                  any/local-linuxthreads-setclock.diff
  * drop obsolete any/local-linuxthreads-unwind.diff
                  any/local-linuxthreads-lowlevellock.diff
  * kfreebsd/local-sysdeps.diff: update to revision 4431 (from glibc-bsd).
  * Add into testsuite-checking/expected-results-*-kfreebsd-gnu-*
    tst-timer5 test and new tst-backtrace[4-6] tests that are known to fail.
  * raise version dependency on g++-4.7 (>= 4.7.3-4) [kfreebsd-amd64] due to
    multilib problems in earlier versions

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 May 2013 16:46:17 +0200

eglibc (2.17-1) unstable; urgency=low

  [ Samuel Thibault ]
  * Rename several hurd-i386 patches to reflect upstream submission status:
    - patches/hurd-i386/unsubmitted-single-hurdselect-timeout.diff into
      patches/hurd-i386/tg-single-select-timeout.diff,
    - patches/hurd-i386/unsubmitted-select-EINTR.diff into
      patches/hurd-i386/tg-select-EINTR.diff,
    - patches/hurd-i386/unsubmitted-setitimer_fix.diff into
      patches/hurd-i386/tg-setitimer.diff.
  * patches/hurd-i386/tg-ifaddrs_v6.diff: New, fixes IPv6 in getifaddrs.
  * patches/hurd-i386/tg-remap_getcwd.diff: New patch, fixes remap translator.
  * patches/hurd-i386/tg-nice.diff: New patch, fixes nice level granularity.
  * patches/hurd-i386/tg-tls.diff: Update to tg version.
  * patches/hurd-i386/tg-exec-static.diff: New, fixes boot with static exec.
  * patches/hurd-i386/tg-EIEIO-fr.diff: New, fixes french translation of EIEIO.
  * patches/hurd-i386/tg-af_local_strlen.diff: New patch, fixes using PF_LOCAL
    paths without ending \0.

  [ Adam Conrad ]
  * debian/debhelper.in/libc.postint: Switch from 'awk gsub' to 'tr -d' to
    avoid warnings when the awk alternative points to gawk (LP: #1156923)
  * debian/patches/any/submitted-setfsid-wur.diff: Drop __wur from setfsuid
    and setfsgid functions to avoid -Werror=unused-result (Closes: #701422)
  * debian/patches/i386/cvs-simd-exception.diff: Pull patch from upstream
    to fix a performance regression in i386 SIMD exceptions (LP: #1157244)
  * debian/patches/svn-updates.diff: Update to r22884 of eglibc-2_17 branch

 -- Adam Conrad <adconrad@0c3.net>  Tue, 07 May 2013 01:57:11 -0600

eglibc (2.17-0experimental2) experimental; urgency=low

  * Switch to gcc-4.7 across the board to tidy up some C99 conformance,
    and force it to an experimental version at the request of Matthias.
  * debian/sysdeps/arm64.mk: Remove --enable-multi-arch (LP: #1117602)
  * debian/debhelper.in/libc.postinst: Add support for upstart restarts
    and don't restart init when upgrading in chroots (Closes: #608903)
  * debian/testsuite-checking/expected-mips*: Allow tst-audit8 to fail.

 -- Adam Conrad <adconrad@0c3.net>  Wed, 06 Feb 2013 22:41:23 -0700

eglibc (2.17-0experimental1) experimental; urgency=low

  [ Adam Conrad ]
  * Rebase kfreebsd patches missed in the previous upload due to quilt:
    - debian/patches/kfreebsd/local-undef-glibc.diff: Unfuzz.
    - debian/patches/kfreebsd/local-use-thr-primitives.diff: Unfuzz.
    - debian/patches/kfreebsd/local-linuxthreads29.diff: Unfuzz.
    - debian/patches/kfreebsd/local-readdir_r.diff: Track file rename.
    - debian/patches/kfreebsd/local-memusage_no_mremap.diff: Unfuzz.
  * debian/patches/kfreebsd/local-HAVE_TLS_SUPPORT.diff: Following the
    upstream removal of TLS configure options, enable unconditionally.
  * debian/patches/any/local-tst-dir-overlayfs.diff: Dropped, as I seem
    to be the only person building on overlayfs, and I'll just use aufs.
  * Update debian/patches/kfreebsd/local-sysdeps.diff to revision 4353.
  * debian/patches/any/unsubmitted-cloexec-conditional.diff: Make more
    occurences of O_CLOEXEC conditional on it actually being defined.
  * debian/rules: Don't put x32 debug symbols in libc-dbg (LP: #1106471)
  * debian/testsuite-checking/expected-*: Allow all arches to fail the
    tst-cputimer1 test, as it harmlessly comes and goes on all of them.
  * debian/testsuite-checking/expected-*: Adjust ia64 and armel results
    to allow failures expected by the upstream port maintainers of each.
  * Drop the armhf-specific symbols hack for the new linker, as we're
    no longer expecting partial upgrades from the out-of-archive port.
  * debian/{control,control.in/main}: Bump Standards-Version to 3.9.4.
  * Amend eglibc-source.lintian-overrides to add libc-dev-alt.postinst.

  [ Pino Toscano ]
  * debian/rules.d/build.mk: When threads is no, disable nscd in all passes.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 03 Feb 2013 20:34:44 -0700

eglibc (2.17-0experimental0) experimental; urgency=low

  [ Adam Conrad ]
  * New upstream release: version 2.17, orig tarball built at SVN r22169:
    - Restricts ld.so self-loading checks to normal mode (LP: #1088677)
    - debian/rules.d/tarball.mk: ports is no longer external to libc.
    - debian/*: Update all 2.16 occurences to 2.17 for upgrades/deps.
    - patches/localedata/supported.diff: Rebased against new upstream.
    - patches/localedata/locale-ia.diff: Dropped, merged upstream.
    - patches/localedata/submitted-es_MX-decimal_point.diff: Rebased.
    - patches/amd64/local-pthread_cond_wait.diff: Dropped, fixed upstream.
    - patches/i386/local-pthread_cond_wait.diff: Dropped (closes: #694962)
    - patches/arm64/cvs-ldconfig-cache-abi.diff: Dropped, merged upstream.
    - patches/arm64/submitted-aarch64-support.diff: Merged upstream.
    - patches/arm/cvs-ldconfig-cache-abi.diff: Dropped, merged upstream.
    - patches/arm/local-atomic.diff: Dropped, fixed differently upstream.
    - patches/arm/unsubmitted-armhf-linker.diff: Dropped, not needed.
    - patches/arm/unsubmitted-ldconfig-cache-abi.diff: Rewritten slightly.
    - patches/hppa/submitted-nptl-carlos.diff: Rebased against upstream.
    - patches/hppa/local-stack-grows-up.diff: Rebased against upstream.
    - patches/hurd-i386/local-enable-ldconfig.diff: dl-cache.c dropped.
    - patches/hurd-i386/tg-tls.diff: Rebase and drop powerpc support.
    - patches/hurd-i386/tg-regenerate_errno.h.diff: Merged upstream.
    - patches/hurd-i386/tg-extern_inline.diff: Drop powerpc support.
    - patches/hurd-i386/tg-elfosabi_gnu.diff: Drop powerpc support.
    - patches/hurd-i386/tg-grantpt.diff: Rebased against new upstream.
    - patches/hurd-i386/unsubmitted-pthread_posix-option.diff: Rebased.
    - patches/hurd-i386/submitted-getgroups.diff: Dropped, merged upstream.
    - patches/hurd-i386/submitted-getlogin_r.diff: Dropped, fixed upstream.
    - patches/hurd-i386/submitted-ptsname.diff: Dropped, merged upstream.
    - patches/hurd-i386/submitted-sendto.diff: Dropped, fixed upstream.
    - patches/hurd-i386/cvs-add-missing-includes.diff: Merged upstream.
    - patches/hurd-i386/cvs-mach-check-local-headers.sh.diff: Merged.
    - patches/hurd-i386/cvs-lremovexattr.diff: Dropped, merged upstream.
    - patches/hurd-i386/cvs-renameat.diff: Dropped, merged upstream.
    - patches/hurd-i386/cvs-mknodat.diff: Dropped, merged upstream.
    - patches/hurd-i386/cvs-llistxattr.diff: Dropped, merged upstream.
    - patches/i386/submitted-i686-timing.diff: Rebase, and fix a bug that
      was excluding dl-caller.c from shared-only-routines for rtld builds.
    - patches/m68k/cvs-syscall-arguments.diff: Dropped, merged upstream.
    - patches/powerpc/local-math-logb.diff: Rebased against new upstream.
    - patches/all/unsubmitted-autoconfupdate.diff: Dropped, not needed.
    - patches/any/local-bindresvport_blacklist.diff: Rebase with upstream.
    - patches/any/local-ldso-disable-hwcap.diff: Rebased against upstream.
    - patches/any/local-libgcc-compat-ports.diff: Rebased against upstream.
    - patches/any/local-nss-upgrade.diff: Rebased against new upstream.
    - patches/any/local-o_cloexec.diff: Rebased against new upstream.
    - patches/any/local-rtld.diff: Rebased against new upstream.
    - patches/any/submitted-popen.diff: Dropped, finally merged upstream.
    - patches/any/submitted-accept4-hidden.diff: Dropped, merged upstream.
    - patches/any/submitted-bits-fcntl_h-at.diff: Rebased against upstream.
    - patches/any/local-gai-rfc1918-scope-global.patch: Merged upstream.
    - patches/any/submitted-resolv-assert.diff: Dropped, merged upstream.
    - patches/any/local-revert-fclose-posix2008.diff: Reverted upstream.
    - patches/any/local-sunrpc-dos.diff: Dropped, different fix upstream.
    - patches/any/cvs-cxxheaders-detection[123].diff: Merged upstream.
  * debian/patches/powerpc/submitted-UAPI_ASM_POWERPC_ELF.diff: Remove,
    as this has been fixed in the 3.7 release and 3.8 kernel headers.
  * debian/sysdeps/{amd64,i386}.mk: Fix rtlddir for x32 alternate builds.
  * debian/sysdeps/{armel,armhf}.mk: Merge multilib configs from Ubuntu.
  * debian/debhelper.in/libc.preinst: Fix preinst kernel check to match
    the reality that we need >= 2.6.32, as found in squeeze/lucid/RHEL6.
  * debian/rules: Fix EGLIBC_VERSION epoch parsing breakage (LP: #929565)
  * debian/patches/any/cvs-tst-array-as-needed.diff: Fix tst-array2 and
    tst-array5 to build with --no-as-needed to prevent test regressions.
  * debian/patches/any/unsubmitted-ldso-machine-mismatch.diff: Skip past
    libraries that are built for other machines, rather than erroring.
  * debian/patches/i386/unsubmitted-quiet-ldconfig.diff: Fix ldconfig on
    x86 to stop complaining so loudly about wrong-arch libraries on path.
  * debian/{rules.d/build.mk,sysdeps/hurd*}: When the threads variable is
    not set to "yes", add --disable-nscd to the main configure options.
  * debian/patches/any/cvs-use-glibc-wchar.diff: Switch from the eglibc
    implementation of wchar.h to the cleaner glibc-2.18 implementation.
  * debian/patches/arm/local-eabi-wchar.diff: Dropped, no longer needed.
  * debian/patches/any/local-tst-dir-overlayfs.diff: Apply dirty hack to
    skip tst-dir on overlayfs, as it currently fails (see: LP #1107492)
  * debian/patches/svn-updates.diff: Bring svn-updates to revision 22169.

  [ Matthias Klose ]
  * debian/{rules,rules.d/control.mk,control.in/libc}: Allow turning off
    libc-prof arbitrarily, and disable it for arm64, which lacks support.
  * debian/rules.d/build.mk: Fix armhf multilib with WITH_BUILD_SYSROOT.

  [ Steve McIntyre ]
  * debian/patches/arm/unsubmitted-ldso-multilib.diff: Stop ld.so from
    exiting prematurely when it encounters wrong-float ABI libraries.

  [ Pino Toscano ]
  * Rebase/remove hurd-i386 patches against the new upstream version:
    - patches/hurd-i386/tg-ptrmangle.diff: Remove, obsolete.
    - patches/hurd-i386/tg-check_native.diff: Remove, obsolete.
    - patches/hurd-i386/submitted-regex_internal.diff: Fixed upstream.
    - patches/hurd-i386/local-disable-sendmmsg.diff: Fixed upstream.
    - patches/hurd-i386/unsubmitted-pthread.diff: Drop, obsolete.
    - patches/hurd-i386/unsubmitted-mremap.diff: Rebased for new upstream.
  * debian/patches/hurd-i386/local-disable-tst-xmmymm.diff: Disable test.
  * Update expected-results-i486-gnu-libc, expected-results-i686-gnu-i386,
    expected-results-i686-gnu-i686, expected-results-i686-gnu-xen.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 27 Jan 2013 23:33:32 -0700

eglibc (2.16-0experimental1) experimental; urgency=low

  [ Adam Conrad ]
  * Add patches/any/cvs-cxxheaders-detection[1-3].diff to bring us up to date
    with my C++ header detection patch on glibc trunk, for g++-4.7_4.7.2-10.
  * Add patches/powerpc/submitted-UAPI_ASM_POWERPC_ELF.diff to fix builds on
    PowerPC against linux headers from 3.7-rc.  Remove if fixed for 3.7-final.
  * debian/debhelper.in/libc-dev-alt.{preinst,postinst}: Do the directory to
    symlink migration in postinst, which solves issues with dpkg following
    the new symlink on unpack and removing all the "old" (now new) files.
  * debian/rules.d/debhelper.mk: Add a MULTIARCHDIR subst for the above.
  * debian/sysdeps/{amd64,i386}.mk: Enable and bootstrap x32 multilib builds.
  * debian/control.in/main: Bump g++4.7 build-dep to 4.7.2-11 for x32 builds.
  * debian/control.in/main: Bump linux-libc-dev build-dep for alt x32 builds.
  * debian/{tests,control.in/main}: Add simple autopkgtest rebuild testcase.

  [ Aurelien Jarno ]
  * Add patches/m68k/cvs-syscall-arguments.diff to fix cancellable syscall
    with 5 or 6 arguments.  Closes: #693852.
  * debian/rules: don't force the GCC version for BUILD_CC and BUILD_CXX.

  [ Pino Toscano ]
  * Update testsuite-checking/expected-results-i686-gnu-xen and
    testsuite-checking/expected-results-i686-gnu-i686.
  * Add patches/hurd-i386/local-ulimit.diff to use Linux' ulimit on hurd-i386
    instead of the bogus BSD version. Fix expected-results-i486-gnu-libc,
    expected-results-i686-gnu-i386, expected-results-i686-gnu-i686,
    expected-results-i686-gnu-xen accordingly.
  * debian/testsuite-checking/compare.sh: accept the build directory as an
    argument.

  [ Jonathan Nieder ]
  * patches/any/local-tst-eintr1-eagain.diff: new patch to work around
    a race that lets pthread_create hit resource limits when the kernel
    takes too long to clean up after joined threads.  (closes: #673596)

 -- Adam Conrad <adconrad@0c3.net>  Sun, 25 Nov 2012 01:18:07 -0700

eglibc (2.16-0experimental0) experimental; urgency=low

  [ Aurelien Jarno ]
  * New upstream version.  Closes: #672934.
    - Provide a compatibility symbol for the old memcpy() behaviour.  Remove
      the memcpy-wrapper.  Closes: #625522.
    - Fix printing of incomplete multibyte characters.  Closes: #208308.
    - Disable patches/svn-updates.diff.
    - Update patches/localedata/sort-UTF8-first.diff.
    - Update patches/localedata/supported.diff.
    - Update patches/localedata/locales-fr.diff (partially merged upstream).
    - Remove patches/localedata/locales_GB.diff (merged upstream).
    - Remove patches/localedata/submitted-bz9732-dz_BT-collation.diff (merged
      upstream).
    - Update patches/localedata/locale-se_NO.diff.
    - Update patches/localedata/tailor-iso14651_t1-common.diff.
    - Update patches/localedata/fix-lang.diff.
    - Remove patches/localedata/fr_LU-first_weekday.diff (merged upstream).
    - Remove patches/localedata/cy_GB-first_weekday.diff (merged upstream).
    - Update patches/localedata/submitted-bz9725-locale-sv_SE.diff (partially
      merged upstream).
    - Update patches/localedata/first_weekday.diff (partially merged
      upstream).
    - Remove patches/localedata/submitted-bz9912-locale-ru_UA.diff (merged
      upstream).
    - Remove patches/localedata/locale-et_EE.diff (merged upstream).
    - Remove patches/localedata/submitted-translit-colon.diff (merged upstream).
    - Remove patches/localedata/locale-bem-en_ZA.diff (merged upstream).
    - Remove patches/localedata/locale-ff_SN.diff (merged upstream).
    - Remove patches/localedata/locale-sw.diff (merged upstream).
    - Remove patches/localedata/locale-sv_FI.diff (merged upstream).
    - Remove patches/localedata/locale-os_RU.diff (merged upstream).
    - Remove patches/localedata/cvs-rupee.diff (merged upstream).
    - Remove patches/localedata/cvs-es-lc_numeric.diff (merged upstream).
    - Remove patches/localedata/submitted-de_AT-mon.diff (merged upstream).
    - Remove patches/localedata/cvs-rupeesign.diff (merged upstream).
    - Remove patches/alpha/cvs-fp_control-plt.diff (merged upstream).
    - Remove patches/alpha/cvs-have_tls_thread.diff (merged upstream).
    - Remove patches/alpha/cvs-preconfigure.diff (merged upstream).
    - Remove patches/alpha/cvs-stat_ver_linux.diff (merged upstream).
    - Remove patches/alpha/cvs-syscall.diff (merged upstream).
    - Remove patches/alpha/cvs-tls_dtv_unallocated.diff (merged upstrea).
    - Remove obsolete parts of alpha/local-string-functions.diff (merged
      upstream).
    - Remove patches/alpha/submitted-creat64.diff (obsolete).
    - Remove patches/alpha/submitted-fcntl_h.diff (merged upstream).
    - Remove patches/alpha/submitted-fxstatat.patch (obsolete).
    - Remove patches/alpha/submitted-libm-hidden.diff (merged upstream).
    - Remove patches/alpha/submitted-____longjmp_chk.diff (merged upstream).
    - Remove patches/alpha/submitted-epoll_create1.diff (obsolete).
    - Remove patches/alpha/submitted-fallocated.patch (merged upstream).
    - Remove patches/alpha/submitted-fpu-ulps.diff (merged upstream).
    - Remove patches/alpha/submitted-rlimit-rttime.diff (merged upstream).
    - Remove patches/alpha/submitted-sysconf-cache.diff (merged upstream).
    - Remove patches/alpha/cvs-stackinfo.diff (merged upstream).
    - Remove patches/alpha/submitted-statfs64.patch (merged upstream).
    - Remove patches/amd64/local-clone.diff (obsolete).
    - Remove patches/amd64/submitted-tst-audit6-avx.diff (obsolete).
    - Update patches/amd64/submitted-rwlock-stack-imbalance.diff.
    - Remove patches/amd64/cvs-getcontext.diff (merged upstream).
    - Remove patches/amd64/cvs-memset.diff (merged upstream).
    - Remove patches/amd64/cvs-powl.diff (merged upstream).
    - Remove patches/amd64/cvs-pthread-stack-alignment.diff (merged upstream).
    - Remove patches/amd64/cvs-avx-detection.diff (merged upstream).
    - Remove patches/amd64/cvs-dl_trampoline-cfi.diff (merged upstream).
    - Remove patches/amd64/cvs-avx-osxsave.diff (merged upstream).
    - Update patches/arm/local-sigaction.diff.
    - Remove patches/arm/submitted-armhf-triplet.diff (merged upstream).
    - Remove patches/arm/cvs-clone-cantunwind.diff (merged upstream).
    - Remove patches/arm/cvs-syscall-mcount.diff (merged upstream).
    - Remove patches/arm/cvs-ucontext.diff (merged upstream).
    - Remove patches/arm/cvs-make-get-set-swap-context.diff (merged upstream).
    - Remove patches/hppa/local-linuxthreads.diff (obsolete).
    - Remove patches/hppa/local-linuxthreads-gscope.diff (obsolete).
    - Remove patches/hppa/submitted-lt.diff (obsolete).
    - Update patches/hppa/local-stack-grows-up.diff.
    - Remove patches/hppa/local-dlfptr.diff (merged upstream).
    - Remove patches/hppa/submitted-fcntl_h.diff (merged upstream).
    - Remove patches/hppa/submitted-libm-hidden.diff (merged upstream).
    - Remove patches/hppa/submitted-stackinfo.diff (merged upstream).
    - Remove patches/hppa/cvs-sys_procfs_h.diff (merged upstream).
    - Remove patches/hppa/cvs-test-tls-support.diff (merged upstream).
    - Remove patches/hppa/cvs-cloexec-nonblock.diff (merged upstream).
    - Remove patches/hppa/cvs-prlimit64.diff (merged upstream).
    - Update patches/hurd-i386/local-enable-ldconfig.diff.
    - Remove patches/hurd-i386/cvs-mlock.diff (merged upstream).
    - Update patches/hurd-i386/unsubmitted-tls.diff.
    - Update patches/hurd-i386/tg-tls.diff.
    - Update patches/hurd-i386/unsubmitted-gcc-4.1-init-first.diff.
    - Remove patches/hurd-i386/cvs-posix_opt.h.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-ioctl-decode-argument.diff (merged
      upstream).
    - Remove patches/hurd-i386/tg-libc_once.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-struct_stat.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-strtoul_PLT.diff (merged upstream).
    - Update patches/hurd-i386/tg-sysvshm.diff.
    - Remove patches/hurd-i386/cvs-IPV6_PKTINFO.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-critical-sections.diff (merged
      upstream).
    - Remove patches/hurd-i386/cvs-dup3.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-dup3-lock.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-dl-sysdep.c_SHARED.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-itimer-lock.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-null-pathname.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-sbrk.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-readlinkat.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-SOL_IP.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-____longjmp_chk.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-mkdir_root.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-catch-signal.diff (merged upstream)
    - Remove patches/hurd-i386/cvs-header-prot.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-psiginfo.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-if_freereq.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-ldsodefs.h.diff (merged upstream).
    - Remove patches/hurd-i386/submitted-init-first.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-libc_stack_end.diff (merged upstream).
    - Remove patches/hurd-i386/tg-ttyname_ERANGE.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-DEV_BSIZE.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-fork_ports.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-setresid.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-sgttyb.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-hurd_socket_server_indexcheck.diff (merged
      upstream).
    - Remove patches/hurd-i386/cvs-hurd-recvfrom.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-select-inputcheck.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-posix2008.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-mach-nanosleep.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-mmap.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-hurd-socket-EAFNOSUPPORT.diff (merged
      upstream).
    - Remove patches/hurd-i386/cvs-symlink_dealloc.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-O_CLOEXEC.diff (merged upstream).
    - Update patches/hurd-i386/submitted-exec_filename.diff.
    - Update patches/hurd-i386/submitted-net.diff.
    - Update patches/hurd-i386/unsubmitted-pthread.diff.
    - Update patches/ia64/local-dlfptr.diff (ia64 moved to ports).
    - Update patches/ia64/submitted-libm.diff (ia64 moved to ports).
    - Remove patches/ia64/submitted-sysconf.diff (merged upstream).
    - Update patches/ia64/submitted-fpu-ulps.diff (merged upstream).
    - Update patches/ia64/submitted-remainder.diff (merged upstream).
    - Remove patches/i386/local-clone.diff (obsolete).
    - Remove patches/i386/cvs-cacheinfo.diff (merged upstream).
    - Update patches/i386/submitted-i686-timing.diff.
    - Remove patches/i386/cvs-feraiseexcept-plt.diff (merged upstream).
    - Update patches/i386/local-pthread_cond_wait.diff.
    - Update patches/kfreebsd/local-scripts.diff.
    - Remove patches/m68k/cvs-byteswap.diff (merged uptream).
    - Remove patches/m68k/local-compat.diff (obsolete).
    - Update patches/m68k/submitted-gcc34-seccomment.diff.
    - Update patches/mips/local-r10k.diff.
    - Remove patches/mips/submitted-dl-platform.diff (merged upstream).
    - Remove patches/mips/cvs-dlopen-lazy.diff (merged upstream).
    - Remove patches/powerpc/local-libgcc_eh-ld.so.diff (obsolete).
    - Remove patches/s390/cvs-iconv-z9-109.diff (merged upstream).
    - Remove patches/s390/cvs-vsyscalls.diff (merged upstream).
    - Remove patches/s390/s390/cvs-libm-ulps.diff (merged upstream).
    - Remove patches/sparc/submitted-bzero.diff (merged upstream).
    - Remove patches/sparc/cvs-ifunc.diff (merged upstream).
    - Remove patches/sparc/cvs-rlimits.diff (merged upstream).
    - Update patches/sparc/local-fork.diff.
    - Remove patches/sparc/cvs-fcntl_h.diff (merged upstream).
    - Update patches/any/local-fhs-nscd.diff.
    - Update patches/any/local-ldconfig.diff.
    - Update patches/any/local-libgcc-compat-ports.diff.
    - Update patches/any/local-linuxthreads-defines.diff.
    - Remove patches/any/cvs-sched_h.diff (merged upstream).
    - Update patches/any/submitted-popen.diff.
    - Remove patches/any/submitted-autotools.diff (merged upstream).
    - Remove patches/any/submitted-localedef-mmap.diff (obsolete).
    - Remove patches/any/submitted-leading-zero-stack-guard.diff (merged
      upstream).
    - Remove patches/any/local-relro-mprotect.diff (merged upstream).
    - Remove patches/any/cvs-fopen.diff (merged upstream).
    - Remove patches/any/cvs-resolv-tld.diff (merged upstream).
    - Remove patches/any/cvs-sys-param-ARG_MAX.diff (merged upstream).
    - Remove patches/any/submitted-at-pagesize.diff (obsolete).
    - Remove patches/any/cvs-setlocale.diff (merged upstream).
    - Remove parts of patches/any/submitted-rlimit-rttime.diff and rename
      it to patches/alpha/any/submitted-rlimit-rttime.diff.
    - Remove patches/any/cvs-regex-oom.diff (merged upstream).
    - Remove patches/any/cvs-getaddrinfo-single-lookup.diff (merged upstream).
    - Remove patches/any/cvs-unique_sym_table-corruptions.diff (merged
      upstream).
    - Remove patches/any/submitted-mqueue-throw.diff (merged upstream).
    - Remove patches/any/cvs-addmntent.diff (merge upstream).
    - Remove patches/any/cvs-resolv-different-nameserver.diff (merged upstream).
    - Remove patches/any/cvs-fnmatch.diff (merged upstream).
    - Remove patches/any/cvs-ifunc.diff (merged upstream).
    - Remove patches/powerpc/submitted-ifunc.diff (merged upstream).
    - Remove patches/any/cvs-dlopen-tls.diff (merged upstream).
    - Remove patches/any/submitted-glob_h-ifdef.diff (obsolete).
    - Remove patches/any/cvs-dl_close-scope-handling.diff (merged upstream).
    - Remove patches/any/cvs-nptl-pthread-race.diff (merged upstream).
    - Remove patches/any/cvs-vfscanf.diff (merged upstream).
    - Remove patches/any/cvs-tzfile.diff (merged upstream).
    - Rename patches/any/submitted-clock-settime.diff into
      patches/any/cvs-clock-settime.diff.
    - Update patches/any/local-no-pagesize.diff.
    - Update patches/any/local-rtld.diff.
    - Update patches/any/local-disable-test-tgmath2.diff.
    - Remove patches/any/cvs-clock-settime.diff.
    - Update patches/any/submitted-longdouble.diff.
    - Update patches/any/submitted-bits-fcntl_h-at.diff.
    - Remove patches/any/submitted-fwrite-wur.diff (merged upstream).
    - Remove patches/any/submitted-stack-guard-quick-randomization.diff
      (obsolete).
    - Remove patches/any/cvs-fmtmsg-lock.diff (merged upstream).
    - Remove patches/any/cvs-reloc-sort.diff (merged upstream).
    - Remove patches/any/cvs-pthread-builtin-expect.diff (merged upstream).
    - Remove patches/any/cvs-vfprintf-positional.diff (merged upstream).
    - Remove patches/any/cvs-vfprintf-many-format-strings.diff (merged
      upstream).
    - Remove patches/any/cvs-arch-lowlevellock.diff (merged upstream).
    - Remove patches/any/cvs-strtod-overflow.diff (merged upstream).
  * Add patches/any/local-revert-fclose-posix2008.diff to fix issues with
    Ruby.
  * Add patches/amd64/local-pthread_cond_wait.diff from Jeff Law to fix
    lost wakeups in pthread_cond_wait.
  * Add patches/i386/cvs-feraiseexcept-plt.diff to fix plt issues.
  * Add patches/ia64/submitted-fpu-ulps.diff to fix FPU tests.
  * Add patches/ia64/submitted-remainder.diff to fix FPU tests.
  * Add patches/powerpc/local-math-logb.diff to workaround a GCC issue.
  * Add patches/alpha/cvs-tls_dtv_unallocated.diff,
    patches/alpha/cvs-have_tls_thread.diff,
    patches/alpha cvs-preconfigure.diff and
    patches/alpha/cvs-stat_ver_linux.diff to fix FTBFS on alpha.
  * Add patches/alpha/cvs-fp_control-plt.diff to fix testsuite on alpha.
  * Add patches/alpha/local-string-functions.diff to remove some broken
    alpha specific string version, and pass the testsuite.
  * Update debian/sysdeps/mips.mk, debian/sysdeps/mipsel.mk to force
    build without MIPS PLT.
  * Build with GCC 4.6.  Closes: bug#654744.
  * Remove rpcinfo from debian/control.in/main, debhelper.in/libc-bin.install
    and debhelper.in/libc-bin.manpages.
  * Update debian/libc6.symbols.common to add libnss_db symbols.
  * Update debian/symbols.wildcards with 2.14, 2.15 and 2.16 symbols.
  * Update debian/shlibver to 2.16.
  * Update debian/debhelper.in/*.lintian to new library names.
  * Update testsuite-checking/expected-results-arm-linux-gnueabi-libc,
    testsuite-checking/expected-results-arm-linux-gnueabihf-libc,
    testsuite-checking/expected-results-i486-linux-gnu-libc,
    testsuite-checking/expected-results-i686-linux-gnu-i386,
    testsuite-checking/expected-results-i686-linux-gnu-i686,
    testsuite-checking/expected-results-i686-linux-gnu-xen
    testsuite-checking/expected-results-ia64-linux-gnu-libc,
    testsuite-checking/expected-results-mips-linux-gnu-libc,
    testsuite-checking/expected-results-mips64-linux-gnu-mips64,
    testsuite-checking/expected-results-mips32-linux-gnu-mipsn32,
    testsuite-checking/expected-results-mipsel-linux-gnu-libc,
    testsuite-checking/expected-results-mips32el-linux-gnu-mipsn32,
    testsuite-checking/expected-results-mips64el-linux-gnu-mipsn64,
    testsuite-checking/expected-results-powerpc-linux-gnu-libc,
    testsuite-checking/expected-results-powerpc64-linux-gnu-ppc64,
    testsuite-checking/expected-results-sparc-linux-gnu-libc,
    testsuite-checking/expected-results-sparc64-linux-gnu-libc,
    testsuite-checking/expected-results-sparc64-linux-gnu-sparc64,
    testsuite-checking/expected-results-s390x-linux-gnu-libc,
    testsuite-checking/expected-results-s390x-linux-gnu-s390x,
    testsuite-checking/expected-results-x86_64-linux-gnu-amd64 and
    testsuite-checking/expected-results-x86_64-linux-gnu-libc to add
    new tests that are known to fail.
  * debian/control.in/main: Build-Conflicts with binutils-gold.
  * debian/rules.d/quilt.mk, debian/rules.d/tarball.mk, debian/source/format:
    switch to quilt (3.0) format, compress source with xz.
  * debian/rules, debian/rules.d/build.mk: define vardbddir to /var/lib/misc.
  * debian/rules.d/*mk: use make ifdef instead of shell ones.
  * debian/rules.d/build.mk: call configure with --enable-obsolete-rpc
  * debian/rules.d/debhelper.mk: compress locales, libc6-pic and libc6-prof
    with xz.
  * debian/sysdeps/i386.mk: install files from libc6-dev-amd64 as symlinks
    now that i386 and amd64 versions are compatible (see bug#637000 and
    bug#637141).
  * debian/sysdeps/*.mk, debhelper.in/libc.preinst: bump minimal Linux
    kernel version to 2.6.32.
  * debian/debhelper.in/{libc.docs,libc-dev.docs}: don't install FAQ, replaced
    upstream by http://sourceware.org/glibc/wiki/FAQ.
  * rules.d/debhelper.mk, debhelper.in/libc-pic.install: install libc6-pic
    files using debhelper.
  * debian/control.in/*: drop build-depends from libc6 to libc-bin. Add
    ${shlibs:Depends} depends to libc6 and libc-bin.
  * debian/control.in/*, debian/sysdeps/linux.mk: enable selinux support.
  * patches/any/local-disable-libnss-db.diff: disable libnss-db as the format
    is not compatible with the libnss-db package, and is architecture
    dependent.
  * patches/svn-updates.diff: update from upstream SVN.

  [ Daniel Schepler ]
  * Add x32 support (Closes: #667023):
    - debian/control.in/main: Build-Depend on g++-4.7-multilib on amd64,
      i386, x32.
    - debian/control.in/libc: Add Replaces: libc6-x32 to libc6 on x32.
    - debian/control.in/amd64, debian/control.in/i386: Add x32 to
      Architecture list for libc6-amd64 and libc6-i386 (and corresponding
      -dev packages).
    - debian/control.in/x32: New file, add libc6-x32 and libc6-dev-x32
      packages on amd64 and i386.
    - debian/libc6.symbols.x32, debian/libc6-x32.symbols.amd64,
      debian/libc6-x32.symbols.i386: New symbols files for x32 libraries.
    - debian/libc6-amd64.symbols.x32, debian/libc6-i386.symbols.x32:
      New files, copying the appropriate existing files.
    - debian/patches/any/cvs-malloc-arena.diff: Fix for BZ#14562 which
      caused random assertions in threaded programs on x32.
    - debian/rules.d/build.mk, debian/rules.d/debhelper.mk: Add /libx32 to
      the library directories handled by alt templates instead of otherbuild.
    - debian/rules.d/control.mk: Add x32 to libc6_archs.
    - debian/sysdeps/amd64.mk, debian/sysdeps/i386.mk: Add libc6-x32 builds
      using gcc-4.7.
    - debian/sysdeps/amd64.mk, debian/sysdeps/i386.mk: Bump minimum kernel
      version to 3.4.0, since that's the first version with x32 support
      integrated into the mainline.
    - debian/sysdeps/x32.mk: New file, building libc, amd64, i386 flavors
      all using gcc-4.7.
    - debian/testsuite-checking/expected-results-x86_64-linux-gnux32-libc,
      debian/testsuite-checking/expected-results-x86_64-linux-gnux32-x32:
      New files copied from amd64 testsuite exceptions.
  * debian/debhelper.in/libc-bin.install: Add new binaries pldd and sotruss.
    - debian/debhelper.in/libc.install: Also add audit libraries needed by
      sotruss.
  * debian/patches/all/local-remove-manual.texi: Update stub manual/Makefile
    with version from eglibc 2.16 upstream.
  * debian/rules.d/quilt.mk: Update refresh target to pop all patches before
    repushing and refreshing them, since patches are applied by default now.
  * debian/rules: Expand clean target to remove several autogenerated files
    under debian/ that weren't getting removed.

  [ Wookey ]
  * Add arm64 support (Closes: #690873):
    - debian/patches/all/unsubmitted-autoconfupdate.diff: Update autotools
      config.sub and config.guess to detect aarch64/arm64 correctly
    - debian/patches/arm64/submitted-aarch64-support.diff: Massive backport
      of the current state of arm64 support upstream and on libc-alpha.
    - debian/patches/arm64/submitted-bits-fcntl_h-at.diff: Include AT_*
      definitions in sysdeps/unix/sysv/linux/aarch64/bits/fcntl.h
    - debian/sysdeps/arm64.mk: Define base arm64 libc targets.
    - debian/rules.d/control.mk: Add arm64 to the list of libc_arches.
    - debian/control.in/main: Build-depend on gcc-4.7 for arm64 builds.
  * debian/rules: Clean up base/cross compiler mangling to work sanely.
  * debian/sysdeps/linux.mk: Define bootstrap BUILD_PROFILE without selinux.

  [ Adam Conrad ]
  * debian/debhelper.in/{libc-bin.install,libc-dev-bin.install}: install
    sotruss binary to libc-dev-bin instead of libc-bin.
  * debian/sysdeps/{i386,amd64,x32}.mk: Don't set MIN_KERNEL_SUPPORTED
    explicitly, as this will cause serious upgrade headaches, and there's
    no guarantee that a 3.4.0 kernel actually has x32 support built in.
  * debian/control.in/main: Bump the linux-libc-dev build-dep to (>= 3.4)
    on all linux-any architectures, not just amd64, i386, and x32.
  * debian/debhelper.in/libc-bin.manpages: Add a pldd(1) manpage.
  * Drop patches/any/cvs-malloc-arena.diff, included in our new upstream.
  * debian/sysdeps/{i386,amd64}.mk: Comment out x32 multilib builds until
    we've reached a consensus about bootstrapping this into the archive.
  * Version gcc-4.7 build-deps to get a version that works for eglibc.
  * debian/sysdeps/*: clean up use of CC and CXX to match wookey's fixes.
  * debian/control.in/libc: Update nscd/locales breaks to (<< 2.16)
  * debian/rules: Unset CFLAGS and friends and use the package versions.
  * Move ldconfig to ldconfig.real, install ldconfig wrapper, and set up
    a dpkg trigger for libc-bin to avoid excessive calls to ldconfig
  * Don't build nscd during when doing a bootstrap DEB_BUILD_PROFILE
  * Make our DEB_BUILD_PROFILE=bootstrap support look more like Ubuntu's
    previously known-working DEB_STAGE=stage1 support for the time being.
  * debian/rules.d/build.mk: If WITH_SYSROOT is passed to debian/rules,
    then pass --with-headers=$(WITH_SYSROOT)/$(includedir) to the build.
  * Sync support for armel/armhf biarch packages, but keep it disabled.
  * Adjust libc.posinst and libc.preinst service restart code for 2.16.
  * Merge regression/progression test suite improvements from Ubuntu.
  * Provide backward compatibility for DEB_STAGE->DEB_BUILD_PROFILE.
  * patches/arm/local-vfp-sysdeps.diff: Force the Tag_ABI_HardFP_use
    and Tag_ABI_VFP_args EABI tags when building for armhf, so compilers
    only linking crti.o will generate what appear to be armhf binaries.
  * debian/patches/arm/cvs-ldconfig-cache-abi.diff: Backport upstream
    patch to re-enable ldconfig cache tagging for armhf binaries again.
  * debian/patches/arm64/cvs-ldconfig-cache-abi.diff: Same for aarch64.
  * debian/patches/arm/unsubmitted-ldconfig-cache-abi.diff: Re-enable
    and adjust to account for changes in cvs-ldconfig-cache-abi.diff.
  * debian/debhelper.in/libc.preinst: Remove old ld.so.cache on upgrade.

  [ Matthias Klose ]
  * Add patches/any/local-revert-bz13979.diff: revert a commit that made
    attempts to build with FORTIFIED_SOURCE issue warnings if GCC didn't
    have optimisations turned on.  This breaks some unclever AC macros.
  * Fix building x32 multilib libraries, by correctly passing -mx32.
  * Fix some ln calls in sysdeps/{amd64,i386} for binary-arch idempotence.

  [ Pino Toscano ]
  * Update patches/hurd-i386/submitted-AF_LINK.diff.
  * Add patches/hurd-i386/tg-verify.h.diff,
    patches/hurd-i386/tg-pagesize.diff,
    patches/hurd-i386/tg-fcntl-internal.h.diff,
    patches/hurd-i386/local-disable-sendmmsg.diff,
    patches/hurd-i386/cvs-add-missing-includes.diff,
    and patches/hurd-i386/submitted-libpthread-elf.diff to fix build on Hurd.
  * Drop obsolete patches patches/hurd-i386/tg-__i686_defined.diff and
    patches/hurd-i386/unsubmitted-gcc-4.1-init-first.diff
  * Add patches/hurd-i386/cvs-mach-check-local-headers.sh.diff to
    reduce false header errors from the check-local-headers.out test.
  * Add patches/hurd-i386/cvs-llistxattr.diff,
    patches/hurd-i386/cvs-renameat.diff and
    patches/hurd-i386/cvs-lremovexattr.diff to implement llistxattr,
    lremovexattr and renameat.
    Add patches/hurd-i386/cvs-mknodat.diff to fix tst-mknodat.
  * Update testsuite-checking/expected-results-i686-gnu-i386,
    testsuite-checking/expected-results-i686-gnu-xen,
    testsuite-checking/expected-results-i486-gnu-libc and
    testsuite-checking/expected-results-i686-gnu-i686.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 20 Nov 2012 08:48:56 +0100

eglibc (2.13-39) UNRELEASED; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/unsubmitted-setitimer_fix.diff: Finish fixing setitimer.
  * patches/hurd-i386/unsubmitted-select-EINTR.diff: Fix select vs signals.
  * patches/hurd-i386/cvs-libpthread_lock.diff: Fix file lock primitives
    version to fix stdio thread-safety.
  * patches/hurd-i386/tg-pie-sbrk.diff: Fix sbrk() use in PIE binaries (e.g.
    libgc, perl).
  * patches/hurd-i386/libpthread_cancellation.diff: New patch, fixes
    cancellations.
  * patches/hurd-i386/libpthread_hurd_cond_timedwait.diff: New patch, introduces
    pthread_hurd_cond_timedwait_np needed to fix select with zero timeout in
    Hurd servers.

  [ Adam Conrad ]
  * debian/testsuite-checking/compare.sh: Disable failing the build on test
    regressions to ease the pain of ongoing stable/security maintenance.
  * debian/debhelper.in/libc.preinst: Remove ld.so's aux-cache on upgrades.

  [ Petr Salinger ]
  * patches/kfreebsd/local-initgroups-order.diff: always put supplied extra
    gid as the first entry of group list in setgroups(). Closes: #699593.
  * inline is not keyword in c89 mode, use __inline. Closes: #704598.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 30 Dec 2012 10:22:43 -0700

eglibc (2.13-38) unstable; urgency=low

  [ Adam Conrad ]
  * debian/patches/arm/cvs-ldconfig-cache-abi.diff: Backport upstream
    patch to re-enable ldconfig cache tagging for armhf binaries again.
  * debian/patches/arm/unsubmitted-ldconfig-cache-abi.diff: Re-enable
    and adjust to account for changes in cvs-ldconfig-cache-abi.diff.
  * debian/debhelper.in/libc.preinst: Remove old ld.so.cache on upgrade.
  * debian/control.in/amd64: Move libc6-amd64 from standard to optional.

  [ Jonathan Nieder ]
  * control.in/opt: correct misspelling of "Ezra" in descriptions of
    *-i686 variants.  Thanks to Thorsten Glaser.
  * patches/any/local-tst-eintr1-eagain.diff: new patch to work around
    a race that lets pthread_create hit resource limits when the kernel
    takes too long to clean up after joined threads.  (closes: #673596)

  [ Samuel Thibault ]
  * patches/any/local-fhs-linux-paths.diff: Patch vardb path on !linux too.
  * Add patches/hurd-i386/libpthread_hurd_cond_wait.diff: New patch to add
    support for translators with pthread.
  * Add patches/hurd-i386/submitted-fork_port_leak.diff: New patch to fix port
    leak on fork.
  * libc0.3.symbols.hurd-i386: Add libpthread.so.0.3 symbols.
  * Add patches/hurd-i386/tg-hurdsig-boot-fix.diff to fix
    sigstate_is_global_rcv at boot in libpthread-based translators.
  * patches/hurd-i386/tg-hurdsig-global-dispositions.diff: Update with Thomas'
    fork deadlock fix.
  * patches/hurd-i386/unsubmitted-single-hurdselect-timeout.diff: Temporarily
    fix double select timeout on single fd.
  * patches/hurd-i386/unsubmitted-setitimer_fix.diff: Fix Hurd implementation
    of setitimer.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 30 Dec 2012 06:06:32 -0700

eglibc (2.13-37) unstable; urgency=low

  [ Aurelien Jarno ]
  * debhelper.in/locales.postinst: correctly lookup for the locales-all
    package.  Closes: #692777.
  * patches/kfreebsd/local-getaddrinfo-freebsd-kernel.diff: update to
    fix uninitialised bytes access in getaddrinfo().  Closes: #692433.
  * patches/localedata/locale-C.diff: update to fix strftime('%X') return
    a 24-hour time format.  Closes: #693446.

  [ Jonathan Nieder ]
  * control.in/opt: remove outdated reference to 2.6 kernel from
    description of i686 variant.  Thanks to Regid Ichira.  Closes:
    #692154.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-tls-support.diff: Re-fix port leak in fork(). The
    change was lost while synchronizing with the topgit repository.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 18 Nov 2012 22:53:04 +0100

eglibc (2.13-36) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/any/cvs-strtod-overflow.diff: new patch from upstream to fix
    an integer/buffer overflow in strtod() (CVE-2012-3480).  Closes:
    #684889.
  * patches/kfreebsd/local-getaddrinfo-freebsd-kernel.diff: new patch to
    fix getaddrinfo() when service = 0 on a FreeBSD kernel with DNS
    server returning IPv6, but without IPv6 connection.  Closes: #690021.
  * sysdeps/linux.mk: fix kernel version parsing with only two numbers.
  * patches/any/cvs-arch-lowlevellock.diff: new patch from upstream to
    fix futexes atomic issue on ARM and SPARC.  Closes: #691173.
  * local/manpages/ldconfig.8: fix wrong description of ld.so.conf format.
    Closes: #684682.

  [ Samuel Thibault ]
  * libc0.3.symbols.hurd-i386: Add missing *_exec_file_name symbols.
  * patches/hurd-i386/unsubmitted-gnumach.defs.diff: New patch to build stubs
    for new gnumach.defs.
  * libc0.3.symbols.hurd-i386: Add new gnumach.defs stubs symbols.
  * control: build-depend on gnumach-dev that provides gnumach.defs.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 26 Oct 2012 14:28:06 +0000

eglibc (2.13-35) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/arm/unsubmitted-ldconfig-cache-abi.diff: disable, as it will
    conflict with upstream x32 support.
  * Update Czech debconf translation, by Miroslav Kure.  Closes: #681708.
  * local/manpages/ld.so.8: fix LD_VERBOSE description after manpage
    rework.  Closes: #681688.
  * patches/any/cvs-vfprintf-positional.diff: new patch from upstream to
    fix a stack corruption in vfprintf with positional parameters
    (CVE-2012-3404). patches/any/cvs-vfprintf-many-format-strings.diff: new
    patch from upstream to fix a FORTIFY_SOURCE format string protection
    bypass (CVE-2012-3405).  Closes: #681473.

  [ Petr Salinger ]
  * fixup kfreebsd/local-use-thr-primitives.diff. Closes: #681113.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 22 Jul 2012 17:36:20 +0200

eglibc (2.13-34) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/any/cvs-pthread-builtin-expect.diff: new patch from upstream to
    use __builtin_expect in public headers only on GCC compilers.  Closes:
    #674412.
  * patches/localedata/submitted-es_MX-decimal_point.diff: fix thousand
    separator, use a space instead of a comma.
  * Update Slovak debconf translation, by Ivan Masár.  Closes: #677919.
  * control.in/main: switch multiarch-support to priority: required.  Closes:
    #677624.

  [ Samuel Thibault ]
  * patches/hurd-i386/libpthread_librt-link.diff: Remove patch, having
    libpthread bringing librt also brings issues.
  * patches/hurd-i386/libpthread_nort.diff: Add patch to revert upstream librt
    usage.
  * patches/hurd-i386/submitted-AF_LINK.diff: New hurd-only patch to comment
    AF_LINK values, unimplemented on the Hurd (Closes: #678358).
  * patches/hurd-i386/unsubmitted-mremap.diff: New hurd-only patch to comment
    MREMAP flags, unimplemented on the Hurd.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 30 Jun 2012 01:44:32 +0200

eglibc (2.13-33) unstable; urgency=medium

  [ Clint Adams ]
  * patches/localedata/cvs-rupeesign.diff: use new rupee symbol
    in Indian locales, thanks to Prema.  closes: #671299.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-{IPV6_PKTINFO,SOL_IP,____longjmp_chk,catch-signal,
    critical-sections,dl-sysdep.c_SHARED,dup3,ioctl-decode-argument,
    itimer-lock,libc_stack_end,mach-nanosleep,mkdir_root,mlock,null-pathname,
    posix2008,posix_opt.h,readlinkat,hurd-recvfrom,sbrk,select-inputcheck,
    setresid,hurd_socket_server_indexcheck,strtoul_PLT,struct_stat,
    dup3-lock}.diff: Refresh with upstream version and rename to cvs.
  * patches/hurd-i386/cvs-O_CLOEXEC.diff: New patch to accept use of O_CLOEXEC
    in rtld.
  * patches/hurd-i386/submitted-getgroups.diff: New patch from Pino to reject
    some out of range values.
  * patches/hurd-i386/submitted-getlogin_r.diff: New patch from Pino to fix
    re-entrancy of getlogin_r and return ERANGE when the provided buffer is
    too small.
  * patches/hurd-i386/submitted-ptsname.diff: New patch from Pino to fix
    buffer checks in ptsname.
  * patches/hurd-i386/tg-hooks.diff: Add rules to sort _hurd_fork_locks.
  * patches/hurd-i386/submitted-sendto.diff: New patch from Pino to fix
    sendto() calls with NULL addr.
  * control/{main,libc}: Remove libpthread-stubs-dev dependency on hurd-i386.
  * patches/hurd-i386/libpthread.diff: Add -lrt in libpthread.a to fix static
    linking.
  * patches/hurd-i386/tg-chflags.diff: New patch to fix and add f?chflags
    prototype.
  * patches/hurd-i386/submitted-exec_filename.diff: New patch to pass argv[0]
    through exec, to fix some shell scripts, e.g. glib testsuite.
  * control.in/main: build-depend on newer hurd package to be able to pass
    argv[0] through exec.
  * libc0.3.symbols.hurd-i386: Add symbols for RPCs for argv[0] through exec.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 4286 (from glibc-bsd).
  * fixup any/local-linuxthreads-setclock.diff. Closes: #673711.

  [ Aurelien Jarno ]
  * debian/control.in/main: set glibc-doc as Multiarch: foreign.
    Closes: #674645.
  * Update Portuguese debconf translation, by Pedro Ribeiro.  Closes: #674954.
  * patches/arm/unsubmitted-ldso-abi-check.diff: fix broken armhf specific
    hack.  Closes: #674602.
  * patches/any/cvs-regex.diff: fix access after end of search string in regex
    matcher.  Closes: #672688.
  * patches/any/cvs-getpwuid-nsswitch.diff: fix a memory leak in
    getpwuid/nsswitch.c.  Closes: #674072.
  * patches/localedata/submitted-es_MX-decimal_point.diff: fix
    decimal_point and thousands_sep.  Closes: #673339.
  * patches/any/local-sunrpc-dos.diff: fix a DoS in RPC implementation
    (CVE-2011-4609).  Closes: #671478.
  * patches/kfreebsd/local-use-thr-primitives.diff: bump LinuxThreads
    version.  Closes: #675606.
  * Take-over nsswitch.conf installation from base-files.  Closes:
    #673271.
  * Set libc*-dev "Multi-Arch: same". Add conflicts betwwen libc*-dev
    packages. Move a.out.h and ieee754.h to the arch qualified path.
    Thanks to Thibaut Girka for the help.  Closes: #666760.
  * Add patches/any/cvs-ld.so-rpath-origin.diff to fix an insecure handling
    of privileged programs' RPATHs with $ORIGIN (CVE-2011-1658).  Closes:
    #672119.
  * Refresh all patches to loose the "diff --git" headers.  Closes:
    #673933.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Jun 2012 21:38:54 +0200

eglibc (2.13-32) unstable; urgency=medium

  * Fix kfreebsd symbols files.  Closes: #667687.
  * local/manpages/ld.so.8: fixes after previous rework.  Closes:
    #670883.
  * patches/any/local-ld-multiarch.diff: update to correctly compute
    $ORIGIN with two level slibdir directories.  Closes: #632281.
  * debian/control.in/libc: update description.  Closes: #671036.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 May 2012 16:08:11 +0200

eglibc (2.13-31) unstable; urgency=low

  [ Petr Salinger ]
  * alter kfreebsd/local-use-thr-primitives.diff. Closes: #654783.
  * kfreebsd/local-sysdeps.diff: update to revision 4222 (from glibc-bsd).
    Closes: #642112, #662018, #669424.

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-hooks.diff: New patch to fix Hurd hooks order.
  * patches/hurd-i386/libpthread.diff: New patch to import Hurd libpthread as
    an add-on.
  * patches/hurd-i386/libpthread_version.diff: New patch to mark when
    libpthread was moved to glibc.
  * libc0.3.symbols.hurd-i386: Add version dependency for libpthread forward
    stubs in libc.
  * patches/hurd-i386/libpthread_clean.diff: New patch to remove useless parts
    of Hurd libpthread which come in the way.
  * patches/hurd-i386/tg-libpthread_depend.diff: New patch to add add-on
    dependencies on libpthread.
  * patches/hurd-i386/libpthread_fix.diff: New patch to fix libpthread
    allocation.
  * patches/hurd-i386/libpthread_globsigdisp.diff: New patch to implement
    global signal dispatch.
  * patches/hurd-i386/libpthread_sigmask.diff: New patch to fix per-thread
    sigmask.
  * patches/hurd-i386/libpthread_stubs.diff: New patch to add mark ENOSYS
    stubs.
  * patches/hurd-i386/libpthread_librt-link.diff: New patch to fix librt link.
  * patches/hurd-i386/{tg-pthread_types.diff,local-pthread_stubs.diff,
    unsubmitted-pthread-unsupported-stubs.diff}: Remove patches, now useless.
  * patches/hurd-i386/unsubmitted-pthread_posix-option.diff: Remove fake
    libpthread rules.
  * sysdeps/hurd.mk: Enable libpthread add-on. Remove useless redefinition of
    standard-add-ons.
  * sysdeps/hurd-i386.mk: Use the libpthread add-on for i686 and xen variants.
  * debhelper.in/libc-udeb.install.hurd-i386: Remove, hurd-i386 now has
    libpthread too.
  * debhelper.in/libc-dev.install.hurd-i386: Add libpthread.a and
    libpthread2.a.
  * control.in/libc,control: Make libc-dev replace the hurd package.
  * patches/hurd-i386/tg-symlink_dealloc.diff: Replace with...
  * patches/hurd-i386/cvs-symlink_dealloc.diff: ... upstream version.

  [ Aurelien Jarno ]
  * patches/localedata/locale-C.diff: add an LC_TIME section.  Closes:
    #661878.
  * patches/arm/cvs-make-get-set-swap-context.diff: backport
    make/get/set/swapcontext from upstream.  Closes: #369453, #663150.
  * patches/arm/unsubmitted-soname-hack.diff: rename into
    patches/arm/local-soname-hack.diff to fix non-policy compliant patch
    name.
  * Don't install getent(1).  Closes: #665303.
  * Add patches/any/cvs-getaddrinfo-AI_V4MAPPED.diff to correctly handle
    AI_V4MAPPED flag in getaddrinfo().  Closes: #663752.
  * Add patches/any/local-linuxthreads-setclock.diff from Robert Millan to
    add pthread_condattr_setclock() support to linuxthreads.  Closes:
    #667687.
  * patches/any/local-disable-nscd-host-caching.diff: remove, as the host
    caching issue has been fixed in the meanwhile.  Closes: #669304.
  * patches/any/cvs-FORTIFY_SOURCE-format-strings.diff: new patch from
    upstream to fix FORTIFY_SOURCE format string protection bypass.  Closes:
    #660611.
  * patches/kfreebsd/local-sys_queue_h.diff: fix STAILQ_FOREACH_SAFE.
    Closes: #669960.
  * local/manpages/locale.1: fix warnings from "groff".  Closes: #661041.
  * patches/hppa/*: update hppa patchset from a mix of CVS, submitted and
    unknown sources patches.  Closes: #666774.
  * local/manpages/ld.so.8: update from various sources to document missing
    environment variables.  Closes: #669179.
  * patches/locatedata/cvs-es-lc_numeric.diff: new patch from upstream to
    fix LC_NUMERIC for Spanish locales.  Closes: #668674.
  * patches/localedata/submitted-de_AT-mon.diff: fix month names in de_AT
    locale.  Closes: #661760.
  * patches/localedata/submitted-en_AU-date_fmt.diff: fix date_fmt for
    en_AU locale.  Closes: #663203.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 29 Apr 2012 17:45:45 +0200

eglibc (2.13-30) unstable; urgency=low

  * Guard DPKG_MAINTSCRIPT_ARCH usage with dpkg --assert-multi-arch,
    since squeeze's dpkg has a half-implementation (closes: #669172)

 -- Adam Conrad <adconrad@0c3.net>  Wed, 18 Apr 2012 05:08:21 -0600

eglibc (2.13-29) unstable; urgency=low

  * debian/debhelper.in/libc.{preinst,postinst}: Make use of dpkg's
    DPKG_MAINTSCRIPT_ARCH variable and guard it so it doesn't make
    older non-multi-arch dpkg versions have a sad (closes: #669172)

 -- Adam Conrad <adconrad@0c3.net>  Mon, 16 Apr 2012 22:28:06 -0600

eglibc (2.13-28) unstable; urgency=low

  [ Adam Conrad ]
  * debian/rules.d/debhelper.mk: Fix RTLD_SO replacement regex for sanity.
  * debian/debhelper.in/libc{,-alt}.postrm: If we remove libc6:i386 before
    libc6-i386:amd64, maintain sanity of /lib/ld-linux.so.2 (LP: #852101)
  * debian/patches/arm/unsubmitted-armhf-linker.diff: Add the new armhf
    linker to the triplet/LDSO table in ports/sysdeps/arm/shlib-versions
  * debian/sysdeps/arm{el,hf}.mk: Stop installing armhf linker to its
    multiarch path, the new standard path is /lib/ld-linux-armhf.so.3
  * debian/sysdeps/arm{el,hf}.mk: Define configure targets for alt libs
  * debian/sysdeps/arm{el,hf}.mk: Provide compat symlinks in armhf builds
    so that old binaries continue to work without needing rebuilding
  * debian/rules.d/build.mk: Change ldd to use the new armhf linker path
  * debian/libc6.symbols.armhf: ld-linux-armhf.so.3 depends on having a
    new enough version of libc6 installed to make the linker available
  * debian/patches/arm/unsubmitted-soname-hack.diff: Apply unfortunate
    hack to elf/dl-load.c to allow our old binaries keep running with the
    new linker, by spoofing the SONAME of the new as if it were the old
  * debian/debhelper.in/libc-udeb.install.armhf: No longer required
  * debian/sysdeps/armhf.mk: Create symlink in the udeb for legacy linker
  * debian/debhelper.in/libc.preinst: When we upgrade from older versions,
    our linker doesn't exist before unpack, so create a temporary one.
  * debian/sysdeps/armhf.mk: Drop the obsolete armel/armhf compat symlink

  [ Samuel Thibault ]
  * patches/hurd-i386/tg-symlink_dealloc.diff: New patch from Ludovic Courtès
    to fix port deallocation on symlink creation failure.
  * patches/hurd-i386/tg-unwind-resume.diff: Remove patch, fixed upstream.
  * patches/hurd-i386/unsubmitted-pthread_posix-option.diff: Refresh.
  * patches/hurd-i386/submitted-net.diff: Refresh.

 -- Adam Conrad <adconrad@0c3.net>  Mon, 16 Apr 2012 10:11:05 -0600

eglibc (2.13-27) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/local-select.diff: Do not apply the select(0) hack to
    vim, as it hurts its performance badly.
  * patches/hurd-i386/submitted-hurdsig-SA_SIGINFO.diff: merge
    submitted-posix2008.diff fix.
  * patches/hurd-i386/{submitted,unsubmitted}-*: Rename to tg-* according to
    integration in upstream tg repository.

  [ Aurelien Jarno ]
  * kfreebsd/local-sysdeps.diff: update to revision 4080 (from glibc-bsd).
    Closes: #653380, #660397, #660401.
  * patches/localedata/first_weekday.diff: change first day of week to
    Sunday for es_AR locale.  Closes: #657064.
  * local/manpages/gai.conf.5: update from latest RedHat version.  Closes:
    #659504.
  * testsuite-checking/expected-results-arm-linux-gnueabihf-libc: new
    file using the latest build as a reference.
  * patches/mips/cvs-dlopen-lazy.diff: new patch from upstream to resolve
    race between dlopen and lazy binding on MIPS.
  * patches/sparc/cvs-fcntl_h.diff: new patch from upstream to define
    O_FSYNC on sparc.  Closes: #577577.
  * testsuite-checking/expected-results-mipsel-linux-gnu-libc,
    testsuite-checking/expected-results-mips32el-linux-gnu-mipsn32,
    testsuite-checking/expected-results-mips64el-linux-gnu-mips64: add
    test-fenv.out to the list of known failures, it fails on loongson 2
    machines due to a CPU bug.
  * Bump to Standards-Version 3.9.3 (no changes).
  * Don't provide debug files for biarch packages to make libc6-dbg
    co-installable.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 26 Feb 2012 18:50:40 +0100

eglibc (2.13-26) unstable; urgency=low

  [ Aurelien Jarno ]
  * sysdeps/kfreebsd.mk: also symlink x86 directory.
  * kfreebsd/local-sysdeps.diff: update to revision 4053 (from glibc-bsd).
  * patches/any/submitted-resolv-first-query-failure.diff: new patch to fix
    resolving issues with broken servers returning NOTIMP or FORMERR to AAAA
    queries.  Closes: #658171.
  * patches/localedata/locale-nb_NO.diff: new patch to add Norwegian
    transliteration.  Closes: #657511.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 02 Feb 2012 20:32:10 +0100

eglibc (2.13-25) unstable; urgency=medium

  [ Aurelien Jarno ]
  * patches/s390/cvs-libm-ulps.diff: new patch to fix FTBFS on s390 with
    gcc-4.6.
  * Update Swedish debconf translation, by Martin Bagge.  Closes: #653559.
  * Update Norwegian bokmål debconf translation, by Bjørn Steensrud.  Closes:
    #653566.
  * Add port 783 (spamd) to /etc/bindresvport.blacklist.  Closes: #629984.
  * patches/any/cvs-vfscanf.diff: new patch from upstream to fix segfault in
    sscanf for large decimal input string.  Closes: #553206.
  * local/manpages/ld.so.8: add a missing new line.  Closes: #654582.
  * debhelper.in/libc.NEWS: suggest environment variables as an
    alternative, thanks to Jonathan Nieder for the idea.  Closes: #654835.
  * Update Polish debconf translation, by Michał Kułach.  Closes: #657748.
  * Update Spanish debconf translation, by Omar Campagne.  Closes: #655850.
  * Danish debconf translation update from Joe Hansen.  Closes: #656681.
  * patches/alpha/submitted-epoll_create1.diff: new patch from Mike
    Frysinger to fix epoll_create1() on alpha.  Closes: #653441.
  * debian/control.in/main: bump build-depends on libc-linux-dev to
    (>= 3.2.1-1) to get accept4 defined on ia64.
    debian/libc6.1.symbols.ia64: force accept4 version to 2.13-25~.
  * debian/control.in/main: use architecture aliases in build-depends.
  * patches/amd64/cvs-avx-osxsave.diff: new patch from upstream to disable
    AVX support if the kernel doesn't support it.
  * patches/any/cvs-fmtmsg-lock.diff: new patch from upstream to fix a
    locking issue in fmtmsg.
  * patches/any/cvs-reloc-sort.diff: new patch from upstream to fix
    relocation issues with dlopen().

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-mmap.diff: New patch to fix iceweasel hang.
  * patches/hurd-i386/submitted-hurd-socket-EAFNOSUPPORT.diff: New patch to
    fix error value.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 4024 (from glibc-bsd).
    Closes: #630203, #654712.
  * fixup kfreebsd/local-use-thr-primitives.diff. Closes: #657687.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 29 Jan 2012 23:35:12 +0100

eglibc (2.13-24) unstable; urgency=low

  * patches/m68k/cvs-byteswap.diff: fix m68k optimized version of
    <bits/byteswap.h>.  Closes: #652356.
  * Add m68k expected tests results.
  * Update Russian debconf translation, by Yuri Kozlov.  Closes: #652428.
  * Update German debconf translation, by Helge Kreutzman.  Closes: #652556.
  * patches/any/cvs-tzfile.diff: fix integer overflow in timezone code
    (CVE-2009-5029).  Closes: #650790.
  * Don't provide debugging symbols for libc-bin, libc-dev-bin and nscd
    packages to avoid conflicts with multiarch.
  * sysdeps/armel.mk, sysdeps/armhf.mk: fix cross compiling.
  * Update Dutch debconf translation, by Jeroen Schot.  Closes: #652632.
  * patches/hurd/tg-struct_stat.diff: fix #ifdef typos.
  * kfreebsd/local-sysdeps.diff: update to revision 3952 (from glibc-bsd).
  * patches/m68k/local-pthread_lock.diff: remove, obsolete.
  * patches/arm/cvs-ucontext.diff: fix namespace pollution from
    <sys/ucontext.h> on arm.  Closes: #652844.
  * Update French debconf translation, by Christian Perrier.  Closes:
    #652860.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 24 Dec 2011 18:23:25 +0100

eglibc (2.13-23) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/arm/cvs-syscall-mcount.diff: new patch from upstream to fix
    build on armel.
  * patches/amd64/cvs-pthread_cond_wait.diff: remove as it seems to cause
    some issue with some kernels.  Closes: #651746.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-mach-nanosleep.diff: New patch from Pino to
    reject some nanosleep parameters values.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 13 Dec 2011 23:40:48 +0100

eglibc (2.13-22) unstable; urgency=low

  [ Adam Conrad ]
  * patches/arm/unsubmitted-ldconfig-cache-abi.diff: New patch from
    Steve McIntyre that adds tagging to armhf libraries in ld.so.cache
  * patches/arm/unsubmitted-ldso-abi-check.diff: Another patch from
    Steve McIntyre, giving ld.so the ability to differentiate between
    soft and hard-float ABIs and provide sane exits when required.
  * Merge armel/armhf bi-arch support from Ubuntu, but disable until
    the armhf bootstrap in Debian has removed /lib/ld-linux.so.3:
    - Fix install locations for libc6-dev-armel in sysdeps.
    - Change armel_rtlddir (for libc6-armel) to /lib, as required.
    - Install /lib/ld-linux.so.3 symlink in libc6-armel.
    - Install ld.so.conf.d file for the multilib ARM targets.
  * Add dynamic linker name for the non-default multilib in ARM ldd.
  * debian/debhelper.in/libc-udeb.install.armhf: Install ld-linux.so.3
    to the correct location in the udeb, so binaries can find it.
  * Install /lib/ld-linux.so.3 symlink in libc6:armhf, this will need
    to be reverted once the rebuild/rebootstrap is completed.
  * Fix chmod regex in udeb pass to match the one used for others.

  [ Aurelien Jarno ]
  * patches/i386/local-cpuid-level2.diff: fix a typo.  Closes: #609389.
  * Don't ship /usr/share/doc/locales/README.  Closes: #643885, #643887.
  * Ignore tst-cancelx17.out error on amd64.  Closes: #643567.
  * patches/any/cvs-nptl-pthread-race.diff: fix a race in NPTL code that
    sometimes causes a deadlock when calling fork() from a thread.
  * debhelper/libc.NEWS: replace $arch by <triplet> and explain how to get
    it.  Closes: #644990.
  * Add patches/alpha/submitted-fallocated.diff to define fallocate() in
    <fcntl.h> on alpha.  Closes: #641868.
  * debian/rules: don't build locales-all when cross-compiling.  Closes:
    #644771.
  * patches/amd64/cvs-avx-detection.diff: do not use AVX if hardware support
    is present, but not enabled in the kernel.  Closes: #646549.
  * patches/amd64/cvs-dl_trampoline-cfi.diff: fix CFI in dl_trampoline code.
  * patches/mips/submitted-dl-platform.diff: fix a typo preventing loongson2f
    platform directory to be used.  Closes: #646610.
  * Update Dutch debconf translation, by Vincent Zweije.  Closes: #649605.
  * Update expected-results-x86_64-kfreebsd-gnu-libc to allow tst-clock1.out
    to fail, as it seems to happen when there is other load than glibc on the
    building machine.  Closes: #649185.
  * patches/any/local-linuxthreads-XPG7.diff: fix XPG7 compliance in
    linuxthreads version of pthread.h.  Closes: #647823.
  * Update from the latest SVN, branch eglibc-2_13.
  * Add patches/amd64/cvs-pthread_cond_wait.diff to correctly handle EAGAIN
    from FUTEX_WAIT_REQUEUE_PI.
  * debian/rules.d/tarball.mk: ignore manual/ directory.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-setresid.diff: New patch to fix -1 passed to
    setres[ug]id.  Closes: #645285.
  * patches/hurd-i386/{unsubmitted-gscope.diff,unsubmitted-_dl_random.diff,
    submitted-ECANCELED.diff, submitted-dl-sysdep.diff,
    unsubmitted-check_native.diff, submitted-extern_inline.diff,
    submitted-ptr-mangle.diff, submitted-stat.diff,
    unsubmitted-tls-support.diff, unsubmitted-longjmp_chk.diff,
    unsubmitted-ptsname.diff, submitted-strtoul.diff,
    unsubmitted-atomic-no-multiple_threads.diff, unsubmitted-i686.diff,
    submitted-ldsodefs.h.diff, submitted-libc_once.diff}:
    Update to topgit version, and rename to
    {tg-tlsdesc.sym.diff, tg-struct_stat.diff, tg-gscope.diff,
    tg-_dl_random.diff, tg-bits_atomic.h_multiple_threads.diff,
    tg-dl-sysdep.c_SHARED.diff, tg-__i686_defined.diff,
    tg-regenerate_errno.h.diff, tg-ptrmangle.diff, tg-strtoul_PLT.diff,
    tg-tls.diff, tg-extern_inline.diff, tg-grantpt.diff, tg-check_native.diff,
    tg-____longjmp_chk.diff, tg-elfosabi_gnu.diff, tg-libc_once.diff}.
  * patches/hurd-i386/submitted-libc_once.diff: Move kfreebsd part to
    patches/kfreebsd/submitted-libc_once.diff.
  * patches/hurd-i386/submitted-ldsodefs.h.diff: Move committed part to
    patches/hurd-i386/cvs-ldsodefs.h.diff
  * patches/hurd-i386/cvs-sgttyb.diff: New patch to fix sgttyb ioctls values.
  * patches/hurd-i386/tg-dup3.diff: New patch from Hurd topgit to implement
    dup3.
  * patches/hurd-i386/submitted-dup2-fix.diff: Trivially port to dup3.
  * patches/hurd-i386/local-clock_gettime_MONOTONIC.diff: New patch to
    brown-tape fix iceweasel.
  * patches/hurd-i386/submitted-_hurd_socket_server-indexcheck.diff: New patch
    from Pino Toscano to fix crash or spurious deallocation on bogus input.
  * libc0.3.symbols.hurd-i386: Drop removed unused xxx_ and yyy_ RPCs.
  * patches/hurd-i386/submitted-hurd-recvfrom.diff: New patch from Pino
    Toscano to fix recvfrom on socketpair. Closes: #650095.
  * patches/hurd-i386/local-select.diff: New patch to fix select with a zero
    timeout. Closes: #79358.
  * patches/hurd-i386/tg-struct_stat.diff: Add POSIX 2008 visibility.
  * patches/hurd-i386/submitted-posix2008.diff: Add POSIX 2008 visibility.
  * patches/hurd-i386/submitted-select-inputcheck.diff: Add select input check.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3763 (from glibc-bsd).
  * add kfreebsd/local-use-thr-primitives.diff to use kernel thr*
    primitives inside linuxthreads. Closes: #639658.
  * debian/sysdeps/sysdeps/kfreebsd.mk, debhelper.in/libc.preinst:
    bump minimal FreeBSD kernel version to 8.1.

  [ Steve Langasek ]
  * Add a new debconf template, libraries/restart-without-asking, shared
    with pam (and eventually hopefully openssl) which allows users to opt in
    to silent restarts of services affected by NSS upgrades.  This fixes the
    longstanding nuisance that a user may be prompted as many as three times
    during an upgrade between releases to ask whether it's ok to restart a
    service that will be restarted anyway when the package itself gets
    upgraded.
  * Name our biarch compat ld.so.conf.d files on arm* consistently with the
    ones on other archs.

  [ Kyle Moffett ]
  * Add support for stage1 builds.  Closes: #644546.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 10 Dec 2011 21:49:03 +0100

eglibc (2.13-21) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/unsubmitted-tls-support.diff: Fix port leak in fork().
  * patches/hurd-i386/submitted-ttyname_ERANGE.diff: Really add to the series.
  * mv patches/hurd-i386/{submitted,cvs}-DEV_BSIZE.diff, and really add to the
    series.
  * Add patches/hurd-i386/cvs-fork_ports.diff to fix uninitialized reference
    count.

  [ Aurelien Jarno ]
  * Add debian/patches/cvs-dl_close-scope-handling.diff from upstream to
    fix issues with dl_close() when resolving locally-defined symbols.
    Closes: #625250.
  * debian/patches/localedata/locale-C.diff: define strict numerical ordering
    for the whole unicode range.  Define the "blank", "cntrl" and "space" as
    defined by POSIX. Closes: #641309.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 13 Sep 2011 23:58:01 +0200

eglibc (2.13-20) unstable; urgency=low

  * debian/debhelper.in/libc.preinst: call /bin/mv with --version so
    that it doesn't return an error.  Closes: #640872.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 08 Sep 2011 10:23:00 +0200

eglibc (2.13-19) unstable; urgency=low

  [ Aurelien Jarno ]
  * Change libc_rtlddir to /lib on s390x.
  * Add debian/patches/submitted-glob_h-ifdef.diff to fix an undefined
    preprocessor symbol in some rare conditions.  Closes: #639213.
  * debian/sysdeps/sparc64.mk: re-enable multiarch similarly to what
    has been done on sparc.
  * debian/control.in/libc: remove Breaks: on perl.  Closes: #640300.
  * debian/patches/localedata/locale-C.diff: Don't include ISO14651
    collation rules in C.UTF-8 locale.
  * Update debian/patches/svn-updates to revision 15228:
    - Drop debian/patches/any/cvs-dl-deps.diff (merged upstream).
    - Drop debian/patches/arm/cvs-align-constant-pool.diff (merged upstream).
  * debian/debhelper.in/libc.preinst: get the dynamic linker from /bin/mv
    instead of /bin/true.  Closes: #640753.

  [ Jeremie Koenig ]
  * New patches to improve the signal code on Hurd:
    patches/hurd-i386/submitted-hurdsig-fixes.diff,
    patches/hurd-i386/submitted-hurdsig-global-dispositions.diff,
    patches/hurd-i386/submitted-hurdsig-SA_SIGINFO.diff,
    patches/hurd-i386/submitted-hurdsig-fixes-2.diff.
  * Update testsuite accordingly.
  * Remove patches/hurd-i386/submitted-PTRACE_CONTINUE.diff, now covered by
    submitted-hurdsig-fixes.diff.
  * libc0.3.symbols.hurd-i386: Add version for global-disposition functions.

  [ Samuel Thibault ]
  * Add patches/hurd-i386/submitted-libc_stack_end.diff to fix ruby1.9.1 stack
    detection.
  * Add patches/hurd-i386/submitted-ttyname_ERANGE.diff to fix ttyname error
    value.
  * Add patches/hurd-i386/submitted-DEV_BSIZE.diff to add DEV_BSIZE.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3697 (from glibc-bsd).
    - fixes ld.so location used inside ldd on kfreebsd-amd64. Closes: #640156.
    - wrap faccessat() X_OK testing for superuser. Closes: #640325.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 07 Sep 2011 22:51:11 +0200

eglibc (2.13-18) unstable; urgency=low

  * On s390x the PI is /lib/ld64.so.1, so we don't need to move
    ld64.so.1 from /lib to /lib64.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 24 Aug 2011 10:09:17 +0200

eglibc (2.13-17) unstable; urgency=low

  [ Aurelien Jarno ]
  * Improve libc.NEWS to also include headers.
  * Add debian/patches/cvs-dlopen-tls.diff to fix handling of static TLS in
    dlopen'ed objects.  Closes: #637239.
  * Provide locales in locales-all as separated files instead of adding them
    to locale-archive. Use symlinks between identical files to limit the
    unpacked size.  Closes: #537743, #636694, #638173.
  * Compress libc*-dbg and locales-all to using xz.
  * Add patches/localedata/cvs-rupee.diff from upstream to add support for
    Rupee symbol (U20B9).
  * Add patches/sparc/cvs-rlimits.diff from upstream to fix issues with
    rlimits on sparc.  Closes: #637767.
  * Add patches/amd64/cvs-pthread-stack-alignment.diff from upstream to fix
    stack alignment issues on amd64.
  * Add patches/s390/cvs-vsyscalls.diff from upstream to fix wrong register
    usage in the INTERNAL_VSYSCALL_NCS macro.
  * Add patches/arm/cvs-clone-cantunwind.diff from upstream to fix unwinding
    issues with openjdk on armhf.
  * Add patches arm/cvs-align-constant-pool.diff from upstream to fix
    alignement issues on armhf.
  * debian/control.in/libc: add Breaks: lsb-core (<= 3.2-27) to make sure the
    lsb symlink is still valid.
  * Remove patches/any/cvs-dl-missing-deps.diff, the original problem has
    been solved through other ways, so it is not needed any more. Fixes
    symbols resolution with issues with icedove/iceweasel/iceape.  Closes:
    #617759.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-ioctl-unsigned-size_t.diff: Add
    u?int{8,16,32,64} ioctl types.
  * debian/patches/hurd-i386/submitted-init-first.diff: Fix stack switching
    compilation with newer gcc.

  [ Steve Langasek ]
  * Install ld*.so to RTLDDIR (/lib64 or /lib), as appropriate, and convert
    /lib64 from a symlink to a directory on upgrade (with appropriate
    downgrade and error-unwind handling), so that multiarch and biarch
    packages will play nicely together on the filesystem..  Thanks to
    Sven Joachim <svenjoac@gmx.de> for preliminary patches.  Closes: #632682.
  * Restore multiarch support on all architectures.
  * Bump the multiarch-support minimum dependency for armhf, which settled
    its triplet only at the time i386 did.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3689 (from glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 22 Aug 2011 21:51:07 +0200

eglibc (2.13-16) unstable; urgency=low

  [ Aurelien Jarno ]
  * The "multiarch starts to piss me off" upload.
  * On i386, install i386 specific headers in the multiarch include
    path, the common and the x86-64 ones in the default include path.
    Closes: #637141.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 08 Aug 2011 21:52:47 +0200

eglibc (2.13-15) unstable; urgency=low

  [ Aurelien Jarno ]
  * Add testsuite results for s390x.
  * Install x86-64 version of ldd in libc-bin:i386.  Closes: #636947.
  * Add a Breaks: perl (<< 5.12.4-2) to libc0.1/6/6.1.  Closes: #636686.
  * Install x86-64 headers on i386 instead of the i386 ones.  Closes:
    #637000.
  * debhelper.in/libc-dev-alt.preinst: test if not a symlink instead of
    testing if a directory. Fixes triarch includes on mips/mipsel.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 08 Aug 2011 14:39:41 +0200

eglibc (2.13-14) unstable; urgency=low

  [ Aurelien Jarno ]
  * Remove amd64 biarch includes from libc6-dev:i386.  Closes: #636115,
    #636116.
  * Fix the biarch symlinks on mipsel, pointing them to the right multiarch
    directory.
  * Include a symlink for fpu_control in biarch packages.  Closes: #635685.
  * Update conflicts to libc6-dev in biarch packages to (<< 2.13-14) so that
    the directory to symlink conversion is done correctly.
  * On mips/mipsel, only ship the includes symlinks in libc6-dev-mips64. Add
    a dependency to libc6-dev-mips64 in libc6-dev-mipsn32.
  * Build with gcc-4.6/g++-4.6 on armhf to get correct atomic operations in
    thumb-2 mode.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-sysvshm.diff: Fix shm creation: do not create
    file on first lookup.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 04 Aug 2011 09:41:41 +0200

eglibc (2.13-13) unstable; urgency=low

  * sysdeps/*.mk: install the biarch includes in /usr/include instead
    of the multiarch path. Fix FTBFS on some architectures.
  * sysdeps/mips.*mk: fix triarch includes on mips and mipsel.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 31 Jul 2011 02:42:58 +0200

eglibc (2.13-12) unstable; urgency=low

  [ Aurelien Jarno ]
  * rules.d/debhelper.mk: Fix a typo about kfreebsd-amd64.
  * Change include directory on i386 from i486-linux-gnu to i386-linux-gnu
    and on kfreebsd-i386 from i486-kfreebsd-gnu to i386-kfreebsd-gnu.
  * Fix installation of biarch headers (Closes: #635685):
    - Use a symlink for bits/ and gnu/ directories
    - Use symlinked files for sys/ directory
    - Add a preinst script to do the directory <-> symlink conversion.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 30 Jul 2011 13:33:39 +0200

eglibc (2.13-11) unstable; urgency=low

  [ Aurelien Jarno ]
  * control.in/main: fix nscd description.  Closes: #633370.
  * Update patches/svn-updates to revision 14511 to fix build on
    powerpcspe. Add corresponding symbols file and expected testsuite
    results.  Closes: #632863.
  * Add patches/localedata/locale-os_RU.diff from upstream to add Ossetian
    locale.  Closes: #634508.
  * kfreebsd/local-sysdeps.diff, update to revision 3618 (from glibc-bsd).
    - fixes LD_PRELOAD with a kfreebsd-9 kernel. Closes: #630695.
    - fixes tst-atime when build in a noatime filesystem.  Closes: #634152.
    - uses upstream RFTSIGZMB for exit signal selection when available.
  * Disable multiarch support on amd64, kfreebsd-amd64, ppc64, sparc64 until
    we fix the /lib64 -> /lib symlink issue. Closes: #632176.
  * Re-enable patches/any/cvs-resolv-different-nameserver.diff. Add
    patches/any/submitted-resolv-assert.diff to fix assertion triggered by the
    previous patch.  Closes: #535504, #602291.
  * Add support for s390x.
  * Fix debhelper.in/libc.NEWS with the right option to pass to gcc. Closes:
    #629819.
  * Add any/submitted-resolv-init.diff to fix issue with the resolver when
    RES_ROTATE is enabled.  Closes: #593571.

  [ Jeremie Koenig ]
  * Add debian/libc0.3.symbols.hurd-i386.

  [ Steve Langasek ]
  * Try again to make libc6-dev multiarch-same.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 26 Jul 2011 03:00:33 +0200

eglibc (2.13-10) unstable; urgency=low

  * control.in/main: tag libc-bin Essential: yes.
  * Revert patch to make libc6-dev multiarch.  Closes: #632667.
  * Add patches/alpha/submitted-statfs64.patch to fix statvfs() on alpha.
    Closes: #324051.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 04 Jul 2011 22:02:35 +0200

eglibc (2.13-9) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/README: Add "unsubmitted" category.
  * Rename most local hurd-i386 patches into unsubmitted.
  * patches/hurd-i386/submitted-PTRACE_CONTINUE.diff: New patch from Jeremy
    Koenig, to fix initialized value.
  * patches/hurd-i386/submitted-ldsodefs.h.diff: Update to latest submitted
    version, enable. Closes: #630180.

  [ Aurelien Jarno ]
  * debhelper.in/libc.preinst: replace unbreakable space by normal space.
    Closes: #632453.
  * Disable patches/any/cvs-resolv-different-nameserver.diff. Closes: #632273,
    #632252. Reopen: #535504, #602291.
  * kfreebsd/local-sysdeps.diff: update to revision 3530 (from glibc-bsd).
    Closes: #632452.
  * debhelper.in/libc.preinst: only check for already unpacked versions of the
    libc during upgrades.  Closes: #632190, #632509.
  * Install arch dependent headers in the multiarch include directory, patch by
    Marcin Juszkiewicz. Tag libc*-dev as Multi-Arch: same.
  * Add patches/powerpc/submitted-ifunc.diff to fix build on powerpc.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 04 Jul 2011 01:50:25 +0200

eglibc (2.13-8) unstable; urgency=low

  [ Samuel Thibault ]
  * Add patches/hurd-i386/submitted-ldsodefs.h.diff to fix loading binaries
    with GNU/Hurd-specific extensions, disabled for now.
  * patches/hurd-i386/local-sendmsg-SCM_RIGHTS.diff: Do not call getauth(),
    use the __USEPORT() cache macro instead. This should fix zsh FTBFS with
    duplicate getproc() symbol.

  [ Aurelien Jarno ]
  * Add patches/any/cvs-addmntent.diff to correctly report errors status in
    addmntent().  Closes: #630699 / CVE-2011-1089.
  * Add patches/any/cvs-resolv-different-nameserver.diff to try a different
    nameserver if the first one returns REFUSED.  Closes: #535504, #602291.
  * Update patches/svn-updates to revision 14337:
    - Remove any/cvs-glro_dl_debug_mask.diff (merged).
    - Remove i386/cvs-memmove-static.diff (merged).
  * debian/control: clean-up Uploaders: .
  * Add patches/any/cvs-fnmatch.diff to fix an integer overflow in
    fnmatch() (CVE-2011-1659).  Closes: #626370.
  * Add an entry to NEWS.Debian about multiarch and passing flags to the
    compiler on pre-multiarch toolchains.
  * Replace sparc/submitted-ifunc2.diff by upstream version
    any/cvs-ifunc.diff.
  * Fix patches/hppa/submitted-nptl-carlos.diff to correctly pass
    --as-needed and --no-as-needed to the linker.
  * Update breaks on pre-multiarch packages.  Closes: #631907.
  * libc.preinst: improve and simplify search for old libraries, detect
    broken LD_LIBRARY_PATH.  Closes: #630608.
  * libc.postrm: remove support code from Sarge.
  * rules.d/debhelper.mk: install bug files using dh_bugfiles.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3501 (from glibc-bsd).
    to fix <bits/siginfo.h>.  Closes: #631867.
  * Drop kfreebsd/local-ftw.diff, needed only for pre 8.0 kernels.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 30 Jun 2011 07:41:52 +0200

eglibc (2.13-7) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update paths to the memcpy wrapper in NEWS.Debian.gz.  Closes:
    #630138.
  * Fix preinst script wrt 3.0 kernel. Patch by Colin Watson.  Closes:
    #630077.
  * debian/sysdeps/linux.mk: correctly check from multiarch asm/ include
    directory.
  * Add patches/sparc/cvs-ifunc1.diff and patches/sparc/submitted-ifunc2.diff
    to fix multi-arch support on sparc. Update sysdeps/sparc.mk and
    sysdeps/sparc64.mk to re-enable multi-arch support on sparc and sparc64.
    Closes: #625607.
  * debhelper.in/libc.preinst: improve error message when an old copy of ld.so
    is found.  Closes: #629983.
  * debhelper.in/libc.preinst: automatically remove leftovers from libc5 to
    libc6 transition (upgrade from Bo to Hamm).  Closes: #629534.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 Jun 2011 20:33:19 +0200

eglibc (2.13-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * kfreebsd/local-sysdeps.diff, update to revision 3406 (from glibc-bsd),
    to fix <sys/mount.h>.  Closes: #629289, #629426.
  * debian/sysdeps/linux.mk: remove obsolete comment and code about
    asm-sparc64. Use the multiarch asm directory if present.
  * debian/copyright: update.
  * Update breaks on pre-multiarch packages.
  * Allow tst-writev to fail due to changes on recent kernels.  Closes:
    #629862.

  [ Samuel Thibault ]
  * Update "expected" hurd-i386 failures.

  [ Clint Adams ]
  * Remove spurious exclamation point in architecture dependency.
  * Add lintian overrides for eglibc-source, from Marcin Juszkiewicz.

  [ Steve Langasek ]
  * debian/debhelper.in/libc.preinst: additional check for extra copies of
    /lib/ld-2.*.so not known to dpkg, as these cause problems when the real
    linker moves to /lib/<triplet> for multiarch and ldconfig leaves
    /lib/ld-linux.so.N pointing at an old glibc.  Closes: #629534.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 09 Jun 2011 14:30:19 +0200

eglibc (2.13-5) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update from stable branch:
    - Remove any/cvs-rtld-prelink.diff (merged upstream).
  * debhelper.in/libc.preinst: require a 8.0 kernel on GNU/kFreeBSD.
    Closes: #626422.
  * Bump to Standards-Version 3.9.2 (no changes).
  * Revert changes to patches/any/local-no-pagesize.diff, instead make
    sure PAGE_SIZE is not used internally.  Closes: #627273.
  * Add Swahili, Fulah and Bemba locales, backport from HEAD.
  * locale-gen: don't remove /usr/lib/locale/* in locale-gen. Closes:
    #626575.
  * Add patches/any/cvs-setlocale.diff from upstream fixing reset to
    C locale issue in setlocale().  Closes: #627355.
  * Add patches/amd64/cvs-powl.diff from upstream to fix corner cases
    in powl() on amd64.
  * Add patches/localedata/locale-sv_FI.diff from upstream to fix date
    format.  Closes: #577988.
  * Add patches/any/submitted-rlimit-rttime.diff to fix missing
    RLIMIT_RTTIME entry in <bits/resource.h>.  Closes: #627619.
  * patches/any/local-ld-multiarch.diff: add the multiarch compat dir
    instead of the multiarch dir.
  * Use the multiarch path for the native version and optimized flavors.
  * kfreebsd/local-sysdeps.diff, update to revision 3303 (from glibc-bsd),
    to fix brk(), semctl() and if_nameindex() bugs.
  * Add patches/any/local-tst-writev.diff to fix compilation of tst-writev.c.
  * Add breaks on packages which don't support multiarch paths.
  * Add patches/any/cvs-regex-oom.diff to fix an oom issue triggerable with
    some regexes.
  * Add patches/any/cvs-getaddrinfo-single-lookup.diff to fix fallback to
    single lookup dns requests.  Closes: #541167.
  * Add patches/any/cvs-unique_sym_table-corruptions.diff to fix
    unique_sym_table corruptions when doing STB_GNU_UNIQUE or
    ELF_RTYPE_CLASS_COPY lookups.
  * Replace patches/any/local-dl-deps.diff by upstream version
    patches/any/cvs-dl-deps.diff.
  * Add patches/mips/submitted-dl-platform.diff from Robert Millan to
    add dl-platform support for MIPS.
  * Add a loongson2f optimized library. Closes: #601419.
  * Update local/manpages/ld.so.8 with hardware capabilities documentation.
    Closes: #622385.
  * Update patches/localedata/submitted-bz9725-locale-sv_SE.diff to fix time
    format in sv_SE locale. Closes: #604125.
  * Add patches/mips/submitted-wordsize-clang.diff to make clang usable on
    mips/mipsel.  Closes: #601645.
  * Add patches/any/submitted-mqueue-throw.diff to fix different declarations
    of mq_open(). Closes: #595380.

  [ Steve Langasek ]
  * Tighten the dependency on dpkg to a multiarch aware version.
  * Simplify the creation of /etc/ld.so.conf.d/<triplet>.conf.
  * Add multiarch fields to debian/control.
  * debian/debhelper.in/libc.preinst, debian/debhelper.in/libc.prerm:
    remove the ld.so.cache when upgrading from or downgrading to a
    pre-multiarch version; otherwise maintainer scripts start segfaulting
    immediately, and dpkg will entertainingly roll back the libc upgrade.
  * debian/control.in/libc: make the main multiarch main libc replace the
    biarch or triarch libc-foo package of the *corresponding* architecture;
    this gives us a libc6:i386 package that Replaces libc6-i386, since both
    packages contain the same linker and we want multiarch to take
    precedence.

  [ Clint Adams ]
  * Patch from Marcin Juszkiewicz to provide the debian/ directory in
    eglibc-source.

  [ Samuel Thibault ]
  * patches/hurd-i386/local-madvise_warn.diff: Drop "unimplemented" warning
    for madvise.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 04 Jun 2011 22:30:47 +0200

eglibc (2.13-4) unstable; urgency=low

  * debian/sysdeps/amd64.mk: don't redefine libc6_extra_pkg_install.
    Closes: #626447, #626449, #626450.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 May 2011 07:16:55 +0200

eglibc (2.13-3) unstable; urgency=low

  * patches/any/local-no-pagesize.diff: use __sysconf() instead of
    sysconf().
  * patches/any/local-bindresvport_blacklist.diff: use feof_unlocked()
    instead of feof().
  * Add patches/any/cvs-resolv-tld.diff from upstream to fix resolution
    of unqualified domain names.
  * Add patches/any/cvs-sys-param-ARG_MAX.diff from upstream to fix
    bassackwards tests for ARG_MAX in sys/param.h.  Closes: #583433.
  * Add support for the new armhf triplet (Closes: #625846):
    - Update patches/any/submitted-autotools.diff to detect the new triplet.
    - Add patches/arm/submitted-armhf-triplet.diff to support the
      new triplet.
  * Add patches/any/submitted-at-pagesize.diff from Fedora to fix
    getpagesize() on static binaries.  Closes: #626379.
  * sysdeps/sparc.mk, sysdeps/sparc64.mk: disable multiarch support.
    Workarounds: #625607.
  * debian/local/memcpy-wrapper/*: on amd64, provide and build two wrappers
    to workaround and debug memcpy() issues. Explain how to use them in
    debian/debhelper.in/libc.NEWS.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 11 May 2011 23:03:15 +0200

eglibc (2.13-2) unstable; urgency=low

  [ Aurelien Jarno ]
  * kfreebsd/local-sysdeps.diff, update to revision 3299 (from glibc-bsd),
    fix libc.so linking on kfreebsd after recent linker changes.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 02 May 2011 06:11:16 +0200

eglibc (2.13-1) unstable; urgency=low

  [ Aurelien Jarno ]
  * New upstream release:
    - Fix spurious warning in bswap_16() with -Wconversion.  Closes:
      #561249.
    - Add back support for m68k.  Closes: #446503, #601126.
    - Add support for NTP API 4.  Closes: #558314.
    - Fix memchr() on alpha.  Closes: #521737.
    - Add optimized string functions via STT_GNU_IFUNC on PowerPC. Closes:
      #408959.
    - Provide POSIX2008 compliant futimens().  Closes: #563724.
    - Fix auxilary cache file creation.  Closes: 588218.
    - Fix POSIX2008 compliance.  Closes: #610824.
    - Implement accurate fma() (according to C99).  Closes: #372544.
    - Build correctly with --no-add-needed.  Closes: #616298.
    - Fix SOCK_CLOEXEC value on hppa.  Closes: #617973.
    - Add inotify support on alpha.  Closes: #614099.
    - Update patches/locale/locale-print-LANGUAGE.diff.
    - Update patches/localedata/sort-UTF8-first.diff.
    - Remove patches/localedata/submitted-pt_BR.diff (merged upstream).
    - Update patches/localedata/locale-et_EE.diff (partially merged upstream).
    - Remove patches/localedata/locale-es_CR.diff (merged upstream).
    - Update patches/localedata/locales-fr.diff.
    - Update patches/localedata/tailor-iso14651_t1.diff.
    - Remove patches/localedata/fr_BE-first_weekday.diff (merged upstream).
    - Update localedata/first_weekday.diff.
    - Remove patches/alpha/submitted-dl-procinfo.diff (merged upstream).
    - Remove patches/alpha/submitted-fpu-round.diff (merged upstream).
    - Remove patches/alpha/submitted-asm-memchr.diff (merged upstream).
    - Remove patches/alpha/submitted-sock_nonblock.diff (merged upstream).
    - Remove patcheS/alpha/submitted-epoll.diff (merged upstream).
    - Remove patches/alpha/cvs-timer_settime.diff (merged upstream).
    - Remove patches/alpha/submitted-PTR_MANGLE.diff (obsolete).
    - Remove patches/alpha/local-fcntl_h.diff (obsolete).
    - Remove patches/alpha/local-longjmp-chk.diff (obsolete).
    - Remove patches/alpha/submitted-fdatasync.diff (obsolete).
    - Remove patches/amd64/cvs-avx-tcb-alignment.diff (merged upstream).
    - Remove patches/arm/local-no-hwcap.diff (merged upstream).
    - Remove patches/arm/local-hwcap-updates.diff (merged upstream).
    - Remove patches/hppa/cvs-nptl-compat.diff (merged upstream).
    - Update patches/hppa/local-stack-grows-up.diff.
    - Remove patches/hppa/cvs-vfork.diff (merged upstream).
    - Remove patches/hurd-i386/submitted-rtld_lock_recursive.diff (merged
      upstream).
    - Remove patches/hurd-i386/cvs-getcwd.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-setsid.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-linkat.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-ttyname.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-getnprocs.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-select.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-sched_param.diff (merged upstream).
    - Remove patches/hurd-i386/cvs-sendmsg-leak.diff (merged upstream).
    - Update patches/i386/local-pthread_cond_wait.diff.
    - Remove patches/m68k/cvs-define-m68k-tls-relocations.patch (merged
      upstream).
    - Remove patches/m68k/cvs-tls-support.patch (merged upstream).
    - Remove patches/m68k/cvs-versions-def-2-12.patch (merged upstream).
    - Remove patches/mips/cvs-mips-atomic_h.diff (merged upstream).
    - Remove patches/mips/cvs-non-pic-n32-64-syscall.diff (merged upstream).
    - Remove patches/s390/cvs-makecontext.diff (merged upstream).
    - Update patches/s390/submitted-nexttowardf.diff.
    - Remove patches/sh4/local-fpscr_values.diff (merged upstream).
    - Remove patches/sh4/submitted-set_fpscr.diff (merged upstream).
    - Remove patches/sparc/cvs-sparcv9-memchr.diff (merged upstream).
    - Remove patches/sparc/submitted-epoll.diff (merged upstream).
    - Remove patches/sparc/submitted-msgrcv.diff (merged upstream).
    - Update patches/any/local-ldso-disable-hwcap.diff.
    - Remove patches/any/local-ntp-update.diff (obsolete).
    - Update patches/any/local-no-pagesize.diff.
    - Update patches/any/submitted-longdouble.diff.
    - Remove patches/any/cvs-resolv-bindv6only.diff (merged upstream).
    - Remove patches/any/cvs-futimens.diff (merged upstream).
    - Remove patches/any/cvs-malloc_info-init.diff (merged upstream).
    - Remove patches/any/cvs-stat-issock.diff (merged upstream).
    - Remove patches/any/cvs-remove.diff (merged upstream).
    - Remove patches/any/cvs-getaddrinfo.diff (merged upstream).
    - Remove patches/any/cvs-umount-nofollow.diff (merged upstream).
    - Remove patches/any/cvs-glob.diff (merged upstream).
    - Remove patches/any/cvs-flush-cache-textrels.diff (merged upstream).
    - Remove patches/any/submitted-group_member.diff (merged upstream).
    - Remove patches/any/cvs-redirect-throw.diff (merged upstream).
    - Remove patches/any/cvs-__block.diff (merged upstream).
    - Remove patches/any/cvs-sunrpc-license.diff (merged upstream).
    - Remove patches/any/submitted-resolv.conf-thread.diff (merged upstream).
    - Remove patches/any/cvs-audit-suid.diff (merged upstream).
    - Remove patches/any/cvs-dont-expand-dst-twice.diff (merged upstream).
    - Remove patches/any/cvs-ignore-origin-privileged.diff (merged upstream).
    - Remove patches/any/cvs-fnmatch-alloca.diff (merged upstream).
    - Remove patches/any/cvs-qsort-race.diff from upstream (merged upstream).
    - Remove patches/any/submitted-etc-resolv.conf.diff (obsolete).
    - Update patches/any/submitted-bits-fcntl_h-at.diff.
    - Remove patches/any/submitted-nis-shadow.diff (obsolete).
    - Remove patches/any/submitted-futex_robust_pi.diff (obsolete).
    - Update patches/kfreebsd/local-readdir_r.diff.
  * debian/sysdeps/*.mk, debhelper.in/libc.preinst: bump minimal Linux
    kernel version to 2.6.26, and minimal FreeBSD kernel version to
    8.0.0.  Closes: #610475.
  * Add /etc/default/nss.
  * Add patches/all/local-nis-shadow.diff to change default value of
    ADJUNCT_AS_SHADOW to TRUE. This avoid NIS password leakage
    (CVE-2010-0015), but can be changed to FALSE to accomomdate some
    NIS installations.  Closes: #566297, #566844.
  * kfreebsd/local-sysdeps.diff, kfreebsd/local-linuxthreads29.diff:
    update to revision 3286 (from glibc-bsd)  Closes: #602776.
  * debian/rules: split build-indep and build-arch targets.  Closes:
    #611926.
  * sysdeps/sparc.mk, sysdeps/sparc64.mk: build with --enable-multi-arch.
  * sysdeps/powerpc.mk, sysdeps/ppc64.mk: build with --enable-multi-arch.
  * Drop libc6-sparcv9b package on sparc/sparc64, optimizations are now
    done through multi-arch (STT_GNU_IFUNC).
  * Add patches/localedata/locale-C.diff to create a C locale.
  * Build and install the C locales in libc-bin.  Closes: #609306.
  * Bump to Standards-Version 3.9.1 (no changes).
  * Add patches/submitted-rwlock-stack-imbalance.diff to fix regression
    in pthread_rwlock_timedrdlock() and pthread_rwlock_timedwrlock().
  * Whitelist tst-makecontext3.out test on ia64, as it is new and can't
    succeed on this architecture.
  * Build depends on binutils (>= 2.21) on sparc and sparc64 to gain
    STT_GNU_IFUNC support.
  * Add patches/any/submitted-ldsodefs_rtld_debug.diff to fix
    EGLIBC_RTLD_DEBUG support on non NPTL systems.
  * Add patches/any/local-relro-mprotect.patch to not crash with PaX
    kernels.  Closes: #611195.
  * Add patches/any/cvs-dl-missing-deps.diff to output an early error
    when dependencies are missing.  Closes: #612792.
  * Add patches/any/cvs-rtld-prelink.diff to fix segfault on prelinked
    binaries.
  * Add patches/sparc/submitted-bzero.diff to fix bzero() on sparc.
  * Add patches/powerpc/local-libgcc_eh-ld.so.diff to fix bug-atexit3
    test on PowerPC.
  * Add patches/alpha/submitted-fcntl_h.diff, submitted-stackinfo.diff,
    submitted-libm-hidden.diff, submitted-statfs.diff and
    submitted-fxstatat.patch to fix FTBFS on alpha.
  * Add patches/any/local-linuxthreads-deps.diff to fix testsuite issues
    on GNU/kFreeBSD.
  * Add patches/s390/cvs-iconv-z9-109.diff to fix FTBFS on s390 with
    recent binutils.
  * Add patches/hppa/submitted-fcntl_h.diff, hppa/submitted-stackinfo.diff
    and hppa/submitted-libm-hidden.diff to fix FTBFS on hppa.
  * Add patches/alpha/submitted-____longjmp_chk.diff to fix longjmp() with
    FORTIFY on alpha.
  * Add patches/alpha/submitted-PTR_MANGLE.diff to fix exceptions on alpha.
  * Add patches/i386/cvs-cacheinfo.diff to fix empty LEVEL*CACHE* getconf()
    entries for some CPU.  Closes: #609389.
  * Add patches/any/local-ldconfig-multiarch.diff from Steve Langasek to
    add multiarch support to ldconfig.
  * Add patches/alpha/local-strncmp.diff to remove broken alpha specific
    implementation of strncmp().
  * Add patches/alpha/submitted-sysconf-cache.diff to fix sysconf()
    LEVEL*CACHE* entries.  Closes: #620203.
  * Add patches/i386/cvs-memmove-static.diff to fix static linking
    with FORTIFY.
  * Add patches/amd64/cvs-getcontext.diff to fix getcontext() on amd64.
  * Add patches/any/cvs-fopen.diff to fix fopen() with 7 bytes string.
  * Add patches/amd64/cvs-memset.diff to fix memset() on amd64 for
    misaligned blocks larger than 144 Bytes.
  * Add patches/any/local-dl-deps.diff to workaround assert triggered by
    some binaries.  Closes: #624515.
  * Add patches/any/submitted-fwrite-wur.diff to not warn about unused
    result for fwrite().  Closes: #616627.

  [ Samuel Thibault ]
  * Add patches/any/cvs-glro_dl_debug_mask.diff to fix build without
    EGLIBC_RTLD_DEBUG support.
  * Add patches/hurd-i386/cvs-header-prot.diff,
    patches/hurd-i386/cvs-psiginfo.diff, and
    patches/hurd-i386/local-ptsname.diff to fix hurd-i386 build.
  * Update expected hurd-i386 failures with new tests.
  * Add patches/hurd-i386/submitted-add-needed.diff to fix getting functions
    from libmachuser and libhurduser with gold linking.
  * Add patches/hurd-i386/local-ED.diff to avoid letting the
    (standard-compliant!) prank bring FTBFSes.
  * Add defining LIBPTHREAD_VERSION to
    patches/hurd-i386/local-pthread_posix-option.diff

  [ Steve Langasek ]
  * Set Multi-Arch: foreign on the appropriate packages.
  * debian/rules.d/debhelper.mk: set $rtlddir in the debhelper substitution
    rules, so we don't substitute an empty string.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 01 May 2011 19:53:41 +0200

eglibc (2.11.2-13) unstable; urgency=low

  * Fix a typo in debian/patches/any/local-rtld.diff.  Closes: #615806.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 28 Feb 2011 07:09:56 +0100

eglibc (2.11.2-12) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Re-enable build failure in case of testsuite regressions.
  * Add patches/any/cvs-fnmatch-alloca.patch from upstream to fix a
    memory corruption in fnmatch() that can lead to code execution.
    Closes: #615120.
  * Add patches/any/cvs-qsort-race.diff from upstream to fix race in
    qsort_r().  Closes: #614892.

  [ Samuel Thibault ]
  * patches/any/submitted-sched_h.diff: Synchronize bits/sched.h with
    sysdeps/unix/sysv/linux/bits/sched.h (Closes: #527589), rename to
    cvs-sched_h.diff.
  * patches/hurd-i386/cvs-if_freereq.diff: Fix crash when siocgifconf
    actually succeeds.

  [ Clint Adams ]
  * Patch from Nobuhiro Iwamatsu to cope with the removal of
    patch --unified-reject-files.  closes: #612540.

  [ Steve Langasek ]
  * Merge parts of multiarch patch:
    - Use the correct path in the ldd script as well
    - Set default rtlddir to /lib and override it when needed.
    - Install xen library in $(libdir)/xen instead of /usr/lib/xen.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 26 Feb 2011 18:28:26 +0100

eglibc (2.11.2-11) unstable; urgency=low

  * patches/kfreebsd/local-sysdeps.diff: remove stub marks for at*
    syscalls as we don't support FreeBSD 7.x kernels anyway.  Closes:
    #610749.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 31 Jan 2011 21:02:31 +0100

eglibc (2.11.2-10) unstable; urgency=low

  * Add patches/amd64/cvs-avx-tcb-alignment.diff from upstream to fix
    alignement issues on CPU supporting the AVX instruction set. Closes:
    #610657.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 23 Jan 2011 19:54:44 +0100

eglibc (2.11.2-9) unstable; urgency=low

  * Disable build failure in case of testsuite regressions, will be
    re-enabled after squeeze release.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 20 Jan 2011 12:44:11 +0100

eglibc (2.11.2-8) unstable; urgency=low

  [ Clint Adams ]
  * Japanese debconf translation update from Nobuhiro Iwamatsu.
    closes: #604752.

  [ Samuel Thibault ]
  * Add expected gettext failure on hurd-i386.

  [ Aurelien Jarno ]
  * Update patches/localedata/locale-et_EE.diff to switch Estonian currency
    to euro. Closes: #608803.
  * Revert incorrect upstream patch for CVE-2010-3847 and use the correct
    set of patches:
    - Remove patches/any/submitted-origin.diff
    - Add patches/any/cvs-dont-expand-dst-twice.diff
    - Add debian/patches/any/cvs-ignore-origin-privileged.diff
    - Keep debian/patches/any/cvs-audit-suid.diff

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 12 Jan 2011 15:32:15 +0100

eglibc (2.11.2-7) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-sendmsg-leak.diff: New upstream patch from Emilio
    Pozuelo Monfort to fix a memory leak on the error path of sendmsg.
  * patches/hurd-i386/local-sendmsg-SCM_RIGHTS.diff: New patch from Emilio
    Pozuelo Monfort to implement SCM_RIGHTS in sendmsg().

  [ Aurelien Jarno ]
  * Update Portuguese debconf translation, by Pedro Ribeiro.  Closes: #597348.
  * Add any/submitted-origin.diff from Andreas Schwab to forbid the use
    of $ORIGIN in privileged programs. Add any/cvs-audit-suid.diff to
    only load SUID audit objects in SUID binaries. Fix CVE-2010-3847.
    Closes: #600667.
  * Update Catalan debconf translation, by Jordi Mallach. Closes: #601085.
  * Update Vietnamese debconf translation, by Clytie Siddall.  Closes:
    #601531.
  * Add arm/local-sigaction.diff to match sigaction with SA_RESTORER
    behaviour with other architectures.  Closes: #595403.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 30 Oct 2010 18:15:54 +0200

eglibc (2.11.2-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update Arabic debconf translation, by Ossama Khayat.  Closes: #596161.
  * libc6-i386: remplace <= breaks by << breaks now that the transitioned
    version of the packages is known.  Closes: #566720.
  * kfreebsd/local-linuxthreads29.diff: correctly disable SO_CLOEXEC
    support when it is not available.  Closes: #596367.
  * update-locale: if LANGUAGE is not compatible with the selected default
    locale, emit a warning and disable it instead of failing.
    Closes: #596695.
  * Add armhf support.  Closes: #596804.
  * any/submitted-resolv.conf-thread.diff: new patch to correctly reload
    resolv.conf for all threads.  Closes: #596499.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-catch-signal.diff: New patch to fix
    signal-catching functions.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 15 Sep 2010 01:53:09 +0200

eglibc (2.11.2-5) unstable; urgency=low

  [ Samuel Thibault ]
  * mv patches/hurd-i386/{submitted,cvs}-sched_param.diff.

  [ Aurelien Jarno ]
  * Replace any/cvs-etc-resolv.conf.diff by my previous version
    any/submitted-etc-resolv.conf.diff. At least it really fixes the
    original issue.  Closes: bug#595269.
  * testsuite/alpha: allow tst-timer4.out to fail as it fails on one of
    the build daemon.
  * Update any/cvs-sunrpc-license.diff from upstream.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 03 Sep 2010 19:16:09 +0200

eglibc (2.11.2-4) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-sched_param.diff: New patch to permit other
    headers to get a __sched_param structure.

  [ Aurelien Jarno ]
  * Remove manpages now provided by manpages-dev (closes: bug#595194):
    - pthread_kill_other_threads_np (3)
    - pthread_sigmask (3)

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 01 Sep 2010 23:15:05 +0200

eglibc (2.11.2-3) unstable; urgency=low

  [ Samuel Thibault ]
  * testsuite-checking/expected-results-i486-gnu-libc: update.
  * patches/hurd-i386/cvs-select.diff: New patch to fix select timeout
    value.
  * patches/hurd-i386/local-locarchive.diff: Extend to permit generating several
    locales.
  * mv patches/hurd-i386/{submitted,cvs}-ttyname.diff.
  * mv patches/hurd-i386/{submitted,cvs}-getnprocs.diff.
  * patches/hurd-i386/local-i686.diff: New patch to fix i686 build.
  * patches/hurd-i386/local-no-hp-timing.diff: New patch to disable i686 HP
    timing support.
  * testsuite-checking/expected-results-i686-{i386,i686,xen}: New
    expected results.
  * debian/control, debian/control.in/libc, debian/control/opt,
    debian/sysdeps/hurd-i386.mk: Add lib0.3-{i686,xen} variants.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3156 (from glibc-bsd).
    Closes: #522698.
  * Add kfreebsd/local-grantpt.diff to handle EINTR returned by waitpid.
    It fixes konsole blank (terminal) display on kfreebsd-*. Closes: #573063.

  [ Clint Adams ]
  * Reflect EGLIBC in binary package short descriptions.  closes: #587586.

  [ Finn Thain ]
  * Backport m68k TLS from version 2.12.  Closes: #586005.

  [ Aurelien Jarno ]
  * Always try to restart init when needed, and ignore the possible errors.
    Closes: #588922, 590175.
  * Look for apache2.2-common instead of apache2-common in nsscheck.
    Closes: #586527.
  * Update Galician debconf translation, by Jorge Barreiro.  Closes: #592807.
  * Replace any/submitted-etc-resolv.conf.diff by upstream version
    patches/any/cvs-etc-resolv.conf.diff.
  * Add mips/cvs-non-pic-n32-64-syscall.diff from upstream to fix non-PIC
    syscall on MIPS n32 and 64 ABI.
  * debian/control.in/libc: conflicts with prelink (<= 0.0.20090311-1).
    Earlier versions corrupts libc 2.11 libraries.  Closes: #593966.
  * Add alpha/submitted-epoll.diff and sparc/submitted-epoll.diff to fix
    epoll_create1() on Alpha and SPARC.  Closes: #576826.
  * Remove patches/alpha/cvs-longjmp-chk.diff and restore
    patches/alpha/local-longjmp-chk.diff as the upstream version causes
    regressions.
  * Add localedata/locale-tt_RU.diff from upstream to fix the name of the
    tt_RU.UTF-8@iqtelif locale.  Closes: #588478.
  * Add any/cvs-sunrpc-license.diff from upstream to fix the license of
    Sun RPC: contrary to what Simon Phipps announced on his blog, and
    according to the lawyers, the copy in glibc wasn't contained in the
    agreement from February, 2009. In August, 2010, Oracle confirmed that
    the code has been relicensed under BSD. Update debian/copyright
    accordingly.
  * Disable any/cvs-flush-cache-textrels.diff to workaround a possible
    CPU or kernel bug.  Closes: #594807.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 01 Sep 2010 11:46:14 +0200

eglibc (2.11.2-2) unstable; urgency=medium

  [ Aurelien Jarno ]
  * control.in/libc: update the Conflicts on binutils to (<< 2.20.1-1)
    and add a Conflicts on binutils-gold (<< 2.20.1-11). Closes: #585937.
  * Replace patches/alpha/local-longjmp-chk.diff by upstream version
    patches/alpha/cvs-longjmp-chk.diff.
  * Add patches/any/cvs-redirect-throw.diff to fix some header files
    with regard to C++.
  * Add patches/any/cvs-flush-cache-textrels.diff to fix random crashes
    on ARM, if the executable or shared library has TEXTREL.
  * Add patches/any/cvs-__block.diff from upstream to not conflict with
    clang.
  * script.in/nohwcap.sh: consider all packages not in status "n" (not
    installed) and not in status "c" (conf-files) as installed.  Closes:
    bug#586241.

  [ Samuel Thibault ]
  * patches/hurd-i386/local-pthread_posix-option.diff: Avoid letting glibc try
    to install its own headers for libpthread.

  [ Carlos O'Donell]
  * Add patches/hppa/cvs-vfork.diff to fix stack frame creating during
    vfork in multithreaded environments.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 24 Jun 2010 21:03:55 +0200

eglibc (2.11.2-1) unstable; urgency=low

  * New upstream stable release:
    - Remove debian/patches/amd64/submitted-cpuid.diff (merged).
    - Remove debian/patches/sh4/cvs-register_dump.diff (merged).

  [ Samuel Thibault ]
  * Add patches/hurd-i386/local-mkdir_root.diff to fix busybox' mkdir -p.

  [ Aurelien Jarno ]
  * Danish debconf translation update from Joe Hansen.  Closes: #585548.
  * Add patches/localedata/submitted-translit-colon.diff to add
    transliteration support for ₡ sign.  Closes: #585727.
  * control.in/libc: add a Breaks: on locales (<< 2.11), locales-all
    (<< 2.11).  Closes: bug#585737.
  * Add patches/any/submitted-group_member.diff to fix an off-by-one error
    in group_member().  Closes: bug#570047.
  * Update local/manpages/getconf.1.  Closes: bug#576691.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 13 Jun 2010 23:22:29 +0200

eglibc (2.11.1-3) unstable; urgency=low

  [ Samuel Thibault ]
  * Add patches/hurd-i386/cvs-linkat.diff to fix new coreutils' ln.
  * Add patches/hurd-i386/submitted-ttyname.diff to fix io/tst-ttyname_r,
    marked as such in testsuite-checking/expected-results-i486-gnu-libc.
  * Restore patches/hurd-i386/submitted-getnprocs.diff which got lost during
    the 2.11 merge.

  [ Aurelien Jarno ]
  * Add patches/i386/local-cpuid-level2.diff to not trigger an abort
    when an i586 Intel CPU is running the i686 library, as valgrind does.
    Closes: bug#584748.
  * mips testsuite: allow failure of tst-tls3 as it is not a regression.
  * Add patches/any/submitted-string2-strcmp.diff to fix warnings in the
    testsuite on armel.
  * Add patches/alpha/submitted-syscall.diff from Mike Hommey to add support
    for 6th argument system calls on alpha.  Closes: bug#583911.
  * Temporarily add patches/i386/local-pthread_cond_wait.diff to use the C
    version of pthread_cond_wait() which uses cleanup functions to reacquire
    the mutex on cancellation (instead of unwinding for the assembly
    version).  Closes: bug#551903.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 08 Jun 2010 10:05:49 +0200

eglibc (2.11.1-2) unstable; urgency=low

  [ Aurelien Jarno]
  * nscd.init: don't use and absolute path to call start-stop-daemon, the
    PATH variable already take care of that.
  * check-execstack.out is a new test, therefore not a regression. Mark it
    as failing in expected-results-powerpc64-linux-gnu-ppc64.
  * Update tst-ttyname_r.out error value in expected-results-i486-gnu-libc
    as part of the test is now passing.
  * Add patches/mips/cvs-mips-atomic_h.diff to fix atomic issues on MIPS.
  * Add patches/amd64/submitted-cpuid.diff to fix properly check CPU
    family and model.
  * sysdeps/i386.mk, control.in/main: switch i386 to gcc-4.4.  Closes:
    bug#583858.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 01 Jun 2010 05:50:51 +0200

eglibc (2.11.1-1) unstable; urgency=low

  [ Clint Adams ]
  * New upstream release:
    - Fixes a house of mind attack.  Closes: bug#568488.
    - Add the fallocate64() syscall.  Closes: bug#568924.
    - Add RES_USE_DNSSEC support.  Closes: bug#569592.
    - Don't abort in getifaddrs.  Closes: bug#582383.
    - Update debian/patches/all/local-pthread-manpages.diff
    - Remove debian/patches/alpha/submitted-getsysstats.diff (merged)
    - Remove debian/patches/alpha/submitted-includes.diff (merged)
    - Remove debian/patches/alpha/submitted-lowlevellock.diff (merged)
    - Remove debian/patches/alpha/submitted-procfs_h.diff (merged)
    - Remove debian/patches/any/cvs-broken-dns.diff (merged)
    - Remove debian/patches/any/cvs-getutmpx-compat.diff (merged)
    - Remove debian/patches/any/cvs-ksm.diff (merged)
    - Remove debian/patches/any/cvs-malloc_info-output.diff (merged)
    - Remove debian/patches/any/cvs-nis-not-configured.diff (merged)
    - Remove debian/patches/any/cvs-nptl-init.diff (merged)
    - Remove debian/patches/any/cvs-resolv-edns0.diff (merged)
    - Remove debian/patches/any/cvs-resolv-init.diff (merged)
    - Remove debian/patches/any/cvs-resolv-uninitialized.diff (merged)
    - Remove debian/patches/any/cvs-resolv-v6mapped.diff (merged)
    - Remove debian/patches/any/cvs-sched_h.diff (merged)
    - Remove debian/patches/any/local-dynamic-resolvconf.diff (merged)
    - Update debian/patches/any/local-libgcc-compat-main.diff
    - Remove debian/patches/any/submitted-confname.h.diff (merged)
    - Remove debian/patches/any/submitted-getent-gshadow.diff (merged)
    - Remove debian/patches/any/submitted-getaddrinfo-nodata.diff (merged)
    - Remove debian/patches/any/submitted-gethostbyname3.diff (merged)
    - Update debian/patches/any/submitted-missing-etc-hosts.diff.
    - Remove debian/patches/arm/cvs-setjmp-longjmp-fpu.diff (merged)
    - Update debian/patches/hppa/cvs-nptl-compat.diff.
    - Update debian/patches/hppa/local-stack-grows-up.diff from
      Carlos O'Donell.
    - Remove debian/patches/hppa/submitted-pie.diff (merged)
    - Remove debian/patches/hppa/submitted-sock_nonblock.diff (merged)
    - Update debian/patches/hurd-i386/cvs-setsid.diff.
    - Remove debian/patches/hurd-i386/cvs-termios-IXANY.patch (merged)
    - Remove debian/patches/hurd-i386/submitted-getnprocs.diff (merged)
    - Update debian/patches/hurd-i386/submitted-readlinkat.diff
    - Remove debian/patches/ia64/cvs-memchr.diff (merged)
    - Remove debian/patches/ia64/submitted-memchr.diff (merged)
    - Remove debian/patches/ia64/submitted-siginfo.diff (merged)
    - Update debian/patches/kfreebsd/local-readdir_r.diff.
    - Remove debian/patches/locale/cvs-C-first_weekday.diff (merged)
    - Update debian/patches/localedata/first_weekday.diff
    - Update debian/patches/localedata/tailor-iso14651_t1.diff
    - Remove debian/patches/mips/local-lazy-eval.diff (obsolete)
    - Remove debian/patches/s390/submitted-siginfo.diff (merged)
    - testsuite-checking/expected-results-ia64-linux-gnu-libc: update
    - Update testsuite-checking/expected-results-sparc-linux-gnu-libc
    - Update testsuite-checking/expected-results-sparcv9b-linux-gnu-sparcv9b

  * Add debian/patches/alpha/local-fcntl_h.diff.
  * Add debian/patches/ia64/local-dlfptr.diff and
    debian/patches/hppa/local-dlfptr.diff from Carlos O'Donnell.
  * Add debian/patches/localedata/locale-hsb_DE.diff

  [ Aurelien Jarno ]
  * Enable multi-arch.
  * kfreebsd/local-sysdeps.diff: update to revision 3039 (from glibc-bsd).
  * Add debian/patches/alpha/local-longjmp-chk.diff and
    debian/patches/alpha/cvs-timer_settime.diff to fix FTBFS on alpha, and
    debian/patches/alpha/local-lowlevellock.diff to fix the testsuite.
  * Add debian/patches/mips/local-lowlevellock.diff to fix the testsuite
    on mips.
  * Re-enable the testsuite on mips/mipsel build daemons.
  * Add debian/patches/arm/local-atomic.diff and
    debian/patches/arm/local-lowlevellock.diff to fix the testsuite on arm.
  * Add debian/patches/hppa/local-longjmp-chk.diff to fix FTBFS on hppa.
  * Add debian/patches/hppa/local-lowlevellock.diff to fix the testsuite
    on hppa.
  * Add debian/patches/s390/cvs-makecontext.diff from upstream to fix
    makecontext() on s390.
  * Replace debian/patches/submitted/cvs-stat-issock.diff by the upstream patch
    debian/patches/any/cvs-stat-issock.diff.
  * Explictely call /sbin/start-stop-daemon in nscd.init.  Closes: bug#575404.
  * Add debian/patches/any/cvs-getaddrinfo.diff from upstream to not abort
    the getaddrinfo loop on the first successful.
  * Add debian/patches/any/cvs-umount-nofollow.diff from upstream to define
    UMOUNT_NOFOLLOW.
  * Add debian/patches/any/cvs-glob.diff from upstream to fix glob() with empty
    pattern.
  * Add debian/patches/submitted-tst-audit6-avx.diff to skip AVX tests if if
    AVX is not available.
  * Allow failures of the testsuite on HPPA until bugs are fixed:
    - tstdiomisc.out (due to bug #582787 on gcc-4.4)
    - tst-fork1.out (due to bug #561203 on linux-2.6)
  * Add debian/patches/sh4/cvs-register_dump.diff from upstream to fix
    iov[] size register-dump.h.
  * Add debian/patches/hurd-i386/submitted-regex_internal.diff to fix FTBFS on
    hurd-i386.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/submitted-rtld_lock_recursive.diff: New patch to
    fix elf/ build on hurd-i386.
  * debian/patches/hurd-i386/local-longjmp_chk.diff: New patch to fix
    debug/____longjmp_chk.S build on hurd-i386.
  * Update debian/patches/hurd-i386/local-pthread.diff.
  * Update debian/testsuite-checking/expected-results-i486-gnu-libc.

  [ Petr Salinger]
  * define __rtld_lock_initialize also in linuxthreads <bits/libc-lock.h>
    variant (enhance local-linuxthreads-weak.diff).
  * allow failure of tst-longjmp_chk.out on GNU/kFreeBSD
  * Add kfreebsd/local-dosavesse.diff, which does not work,
    so rather use also added kfreebsd/local-nosavesse.diff

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 29 May 2010 14:31:50 +0200

eglibc (2.10.2-9) unstable; urgency=low

  [ Aurelien Jarno ]
  * Add powerpcspe port support. Closes: #579778.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3038 (from glibc-bsd).
    Closes: #581545.

  [ Aurelien Jarno ]
  * debian/control.in/libc: don't make libc0.1/0.3/6/6.1 depends on
    ${misc:Depends} as suggested by lintian, as it is turned out into a
    debconf depends.  Closes: #581835.
  * debian/debhelper.in/nscd.init: stop supporting the reload argument.
    Closes: #578870.
  * debian/script.in/nsscheck.sh: correctly detect stopped and running
    services. Closes: #573247, #575868.
  * debian/patches/mips/submitted-rld_map.diff: don't segfault for MIPS
    binaries with RLD_MAP set to 0. Closes: #579917.
  * Add debian/source/format and debian/source/lintian-overrides files.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 20 May 2010 12:09:58 +0200

eglibc (2.10.2-8) unstable; urgency=low

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 3036 (from glibc-bsd).

  [ Clint Adams ]
  * Spanish debconf translation update from Omar Campagne Polaino.
    closes: #579351.
  * Add patches/arm/cvs-setjmp-longjmp-fpu.diff.  closes: #580529
    ("setjmp/longjmp broken on ARM w/ FPU").

 -- Clint Adams <schizo@debian.org>  Tue, 27 Apr 2010 20:33:40 -0400

eglibc (2.10.2-7) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/local-pthread.diff: Refresh patch.
  * Update debian/testsuite-checking/expected-results-i486-gnu-libc.
  * patches/hurd-i386/cvs-setsid.diff: Update to git version.
  * patches/hurd-i386/local-locarchive.diff: New patch to fix installation of
    locales-all.
  * patches/hurd-i386/cvs-remove.diff: New upstream patch to fix remove()
    on directory on non-Linux ports.

  [ Aurelien Jarno ]
  * debian/control.in/*: add ${misc:Depends} to all binary packages.
  * debian/*symbols*: simplify symbol files by using the new #PACKAGE#
    feature.
  * Bump to Standards-Version 3.8.4.
  * Update patches/alpha/submitted-sock_nonblock.diff to also fix
    SOCK_CLOEXEC.  Closes: #569646.
  * Update patches/hppa/submitted-sock_nonblock.diff to also fix
    SOCK_CLOEXEC.
  * Add patches/any/submitted-stat-issock.diff to define the S_ISSOCK
    macro starting with POSIX 2001.  Closes: #569517.
  * scripts.in/nsscheck.sh: remove non-breaking space.  Closes: #569701.
  * rules.d/debhelper.mk: remove obsolete comment.  Closes: #570946.
  * Replace patches/sparc/local-sparcv9-memchr.diff by
    patches/sparc/cvs-sparcv9-memchr.diff.
  * Add patches/sparc/submitted-msgrcv.diff to fix msgrcv() on sparc64,
    and with it fakeroot.
  * Add patches/any/submitted-nptl-invalid-td.patch to also catch
    uninitialized thread descriptors in INVALID_TD_P macro.  Closes:
    #571639.
  * Fix lang_ab field in es_CR locales.  Closes: #571755.

  [ Petr Salinger]
  * kfreebsd/local-sysdeps.diff: update to revision 3034 (from glibc-bsd).
  * any/local-linuxthreads-stacksize.diff: New patch to restrict
    max stack size in threads

  [ Clint Adams ]
  * Add any/local-gai-rfc1918-scope-global.patch.  closes: #468801.

 -- Clint Adams <schizo@debian.org>  Thu, 22 Apr 2010 09:38:27 -0400

eglibc (2.10.2-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * kfreebsd/local-sysdeps.diff: update to revision 2957 (from glibc-bsd).
  * Don't run the testsuite in parallel, as it sometimes causes some failures
    in some tests.
  * Add patches/any/cvs-malloc_info-init.diff to fix malloc_info() with no
    malloc() done.  Closes: #562679.
  * Add patches/sh4/submitted-set_fpscr.diff to add __set_fpscr() prototype.
    Closes: #565369.
  * debian/rules.d/build.mk: Add --with-pkgversion and --with-bugurl
    arguments.
  * Add patches/ia64/submitted-memchr.diff to fix memchr() overshoot on ia64.
    Closes: #563882
  * Add patches/any/submitted-leading-zero-stack-guard.diff and
    patches/any/submitted-stack-guard-quick-randomization.diff from Ubuntu and
    Fedora to improve stack randomisation.  Closes: #568488.
  * Update es_CR locale from Marcelo Magallon.  Closes: #567351.
  * debian/script.in/nsscheck.sh: Only restart services that are currently
    running.  Closes: #528755.
  * Move locales and locales-all to section localization.  Closes: #568753.

  [ Samuel Thibault ]
  * patches/hurd-i386/local-pthread.diff: New hurd-only patch to provide
    LIBPTHREAD_SO and disable nscd.
  * patches/hurd-i386/local-pthread_posix-option.diff: Tell glibc Makefiles that
    we have a libpthread.
  * testsuite-checking/expected-results-i486-linux-gnu-libc: Update results.
  * patches/hurd-i386/submitted-posix_opt.h.diff: Update.
  * patches/hurd-i386/submitted-sysvshm.diff: Resync.
  * patches/hurd-i386/submitted-net.diff: New patch to factorize net/ files
    between Linux and Hurd.
  * patches/hurd-i386/submitted-getnprocs.diff: New patch to add get_nprocs()
    and such weak aliases.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 07 Feb 2010 16:54:24 +0100

eglibc (2.10.2-5) unstable; urgency=low

  [ Petr Salinger]
  * Update kfreebsd/local-no-SOCK_NONBLOCK.diff to cvs-resolv-* changes.
    Move it into any/local-no-SOCK_NONBLOCK.diff, as it is used also on hurd.
    Closes: #564008.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-posix_opt.h.diff: New patch to update standard
    macros in posix_opt.h.
  * patches/hurd-i386/local-pthread_posix-option.diff: Refresh and update
    standard macros in posix_opt.h.
  * patches/hurd-i386/submitted-sysvshm.diff: Add standard macro _XOPEN_SHM in
    posix_opt.h.
  * patches/hurd-i386/local-tls-support.diff: Use kern_return_t instead of
    error_t to avoid a dependency on a GNU-specific type.
  * patches/hurd-i386/submitted-getcwd.diff: renamed to cvs-getcwd.diff since
    merged upstream.
  * patches/hurd-i386/submitted-setsid.diff: renamed to cvs-setsid.diff since
    merged upstream.

  [ Aurelien Jarno ]
  * Fix sparc64 build.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 07 Jan 2010 20:57:49 +0100

eglibc (2.10.2-4) unstable; urgency=low

  [ Samuel Thibault ]
  * testsuite-checking/expected-results-i486-linux-gnu-libc: Add
    tst-atime.out failure.

  [ Aurelien Jarno ]
  * Also build a libc6-sparcv9b package on sparc64.
  * Disable debian/patches/any/cvs-futimens.diff. Addresses: #563726,
    #563754.
  * Add debian/patches/localedata/locale-et_EE.diff to change weekday
    and workday to Monday.  Closes: #563636.
  * Add debian/patches/any/cvs-resolv-init.diff to fix mixing IPv4 and
    IPv6 name server in resolv.conf.
  * Add debian/patches/any/cvs-resolv-uninitialized.diff to fix an
    uninitialized variable in resolv code.
  * Add debian/patches/any/cvs-resolv-bindv6only.diff to not use
    IPV4-mapped addresses in the resolver code.  Closes: #563552.
  * Add debian/patches/any/cvs-resolv-edns0.diff to handle overly large
    answer buffers in resolver.
  * Add debian/patches/any/cvs-resolv-v6mapped.diff to fix lookup failure
    with IPv6 mapping enabled and big answers.  Closes: #558984.
  * Add debian/patches/any/submitted-nis-shadow.diff to remove encrypted
    passwords from passwd entries, and add them in shadow entries.
    Closes: #560333.

  [ Petr Salinger]
  * kfreebsd/local-sysdeps.diff: update to revision 2907 (from glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 06 Jan 2010 22:18:19 +0100

eglibc (2.10.2-3) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update from the latest SVN, branch eglibc-2_11:
    - Remove any/cvs-malloc-check.diff (merged upstream).
  * debhelper.in/libc.postinst: also restart incron on upgrade.  Closes:
    #557801.
  * debhelper.in/libc.postinst: restart the services instead of stopping
    them and then starting them again.  Closes: #211784.
  * Use gcc/g++-4.4 on hppa, hurd-i386, mips and mipsel.
  * Mention EGLIBC in packages description.  Closes: #559121.
  * Add support for sparc64 architecture.
  * debian/sysdeps/mips.mk, debian/sysdeps/mipsel.mk: remove hack to support
    buildds kernels now that they have been upgraded.
  * debian/control.in/main: add a Homepage: pseudo header.  Closes: #561034.
  * debian/local/manpages/gai.conf.5: fix a typo.  Closes: #560144.
  * Replace debian/any/submitted-nis-not-configured.diff by upstream patch
    debian/any/cvs-nis-not-configured.diff.
  * Add debian/patches/any/local-ntp-update.diff to partially update the NTP
    API, backported from upstream.  Closes: #559482.
  * Add debian/patches/any/cvs-malloc_info-output.diff from upstream to fix
    malloc_info() output.  Closes: #562678.
  * Add debian/patches/any/cvs-futimens.diff from upstream to correctly handle
    AT_FDCWD in futimens().

  [ Samuel Thibault ]
  * testsuite-checking/expected-results-i486-linux-gnu-libc: Add hurd-i386
    testsuite results.
  * sysdeps/hurd.mk: Enable testsuite.
  * patches/hurd-i386/submitted-getcwd.diff: Add patch to fix duplicate port
    deallocation.
  * patches/hurd-i386/submitted-setsid.diff: Add patch to fix bogus port
    deallocation.

  [ Petr Salinger]
  * kfreebsd/local-sysdeps.diff: update to revision 2904 (from glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 02 Jan 2010 13:07:44 +0100

eglibc (2.10.2-2) unstable; urgency=low

  [ Carlos O'Donell]
  * debian/patches/hppa/cvs-nptl-compat.diff: new version to fix
    pthread structures alignment on hppa.

  [ Aurelien Jarno ]
  * debian/control: bump libc-bin breaks on libc0.1/0.3/6/6.1 to (<< 2.10).
    Closes: #556945.
  * patches/localedata/submitted-pt_BR.diff: new patch to fix the thousand
    separator on pt_BR locale.  Closes: #474479.
  * debhelper.in/locales.postinst: if an selected entry is present more than
    once, only uncomment the first one.  Closes: #529368.
  * patches/any/submitted-gethostbyname3.diff: return an error if the
    nameserver timeouts.  Closes: #499781.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 24 Nov 2009 06:12:57 +0100

eglibc (2.10.2-1) unstable; urgency=low

  [ Aurelien Jarno ]
  * New upstream minor release.
    - fix build timeout on SH4.  Closes: #552407.
    - disabled patches/svn-updates.diff.
    - remove patches/powerpc/cvs-readahead.diff (merged).
    - remove patches/any/submitted-libgcc_s.so.diff (merged).
    - remove patches/any/cvs-preadv-pwritev.diff (merged).
    - remove patches/any/cvs-getaddrinfo-nss-notfound.diff (merged).
  * patches/ia64/cvs-memchr.diff: new patch from upstream replacing
    patches/ia64/submitted-memchr.diff.
  * patches/any/cvs-malloc-check.diff: new patch from upstream to fix bugs
    with MALLOC_CHECK.  Closes: #557158.
  * patches/any/cvs-ksm.diff: add support to KSM, define MADV_MERGEABLE and
    MADV_UNMERGEABLE. Closes: #556631.
  * Replace patches/locale/fix-C-first_weekday.diff by upstream version
    patches/locale/cvs-C-first_weekday.diff.  Closes: #556884.
  * rules.d/debhelper.mk: don't use --strip-unneeded when stripping .o
    objects.  Closes: #556951.
  * patches/any/submitted-bits-fcntl_h-at.diff: new patch to move AT_*
    constants from <fcntl.h> to <bits/fcntl.h>. Closes: #555303.
  * Replace patches/any/submitted-sched_h.2.diff by upstream version
    patches/any/cvs-sched_h.diff.
  * Use gcc/g++-4.4 on sparc.
  * patches/any/submitted-nis-not-configured.diff: fix getaddrinfo() if
    NIS is not configured. Fixes CVE-2010-0015.  Closes: #556600.
  * patches/any/submitted-getaddrinfo-nodata.diff: new patch from Michael
    Stone to fix getaddrinfo() if a plugin returns TRY_AGAIN or NO_DATA.
    Closes: #557596.

  [ Carlos O'Donell]
  * patches/hppa/local-stack-grows-up.diff: new version.

  [ Petr Salinger]
  * kfreebsd/local-sysdeps.diff: update to revision 2859 (from glibc-bsd).
    Closes: #557248.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 23 Nov 2009 09:46:23 +0100

eglibc (2.10.1-7) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/all/local-ldd.diff: new patch to handle the case where ld.so is
    not executable (wrong architecture), and always trace dynamic library
    dependencies through the dynamic linker.  Closes: #502189,
    #552518, #499016.
  * Strip *.o files manually (dh_strip does not do it) to prevent
    leakage of the build directory (has been lost in a merge).
  * script.in/nsscheck.sh: fix call to invoke-rc.d.  Closes: #555463.
  * patches/ia64/submitted-memchr.diff: fix memchr() when data is shorter
    than software pipeline.
  * Bump to Standards-Version 3.8.3.
  * Re-enable PIE on mips and build-depends on binutils (>= 2.20-3).
  * Build-depends on g++-4.4 (>= 4.4.2-2) and use gcc-4.4 on armel.
  * libc-bin-dev: recommends manpages-dev.  Closes: #485608.
  * Generate /usr/lib{,32,64}/gconv/gconv-modules.cache at build time
    instead of during package installation. Closes: #548042.
  * debhelper.in/locales-all.prerm: remove /usr/lib/locale on removal, to
    make puiparts happy.

  [ Carlos O'Donell]
  * patches/hppa/local-stack-grows-up.diff: fix pthread stack related
    functions when the stack grows up.  Closes: #553722.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 Nov 2009 12:53:04 +0100

eglibc (2.10.1-6) unstable; urgency=high

  [ Aurelien Jarno ]
  * Don't ask to stop gdm before an upgrade, but run reload in the postint
    Closes: #553362.
  * patches/powerpc/cvs-readahead.diff: fix readahead on PowerPC.
  * patches/any/cvs-preadv-pwritev.diff: fix preadv, pwritev and fallocate
    for-D_FILE_OFFSET_BITS=64.  Closes: #554608.
  * patches/any/submitted-sched_h.2.diff: allow const argument to CPU_ISSET()
    Closes: #554901.
  * kfreebsd/local-sysdeps.diff: update to revision 2819 (from glibc-bsd).
  * patches/any/submitted-etc-resolv.conf.diff: also handle case when the file
    is present, but a nameserver entry is missing.  Closes: #552010.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 08 Nov 2009 18:56:15 +0100

eglibc (2.10.1-5) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/local-disable-ioctls.diff: New patch to disable some
    non-working ioctls.
  * patches/hurd-i386/local-pthread_types.diff: Fix path typo.

  [ Aurelien Jarno ]
  * Move xz-utils to Build-Depends from Build-Depends-Indep.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 01 Nov 2009 17:19:00 +0100

eglibc (2.10.1-4) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/any/submitted-localedef-mmap.diff: new patch to cope with
    different mmap alignment restrictions between MMAP_SHARED and
    MMAP_PRIVATE. On SPARC64, MMAP_SHARED implies a 16kB alignment (L1
    D-Cache size), while MMAP_PRIVATE implies a 8kB alignment (page
    size).  Closes: #552233.
  * patches/any/submitted-confname.h.diff: new patch to fix build of
    bits/confname.h with -pedantic-errors.  Closes: #552819.
  * kfreebsd/local-sysdeps.diff: update to revision 2817 (from glibc-bsd).
    Fixes <netinet/icmp6.h>.  Closes: #552138.
  * Disable PIE on MIPS/MIPSEL.
  * Replace patches/s390/submitted-getutmpx.diff by upstream version
    (patches/any/cvs-getutmpx-compat.diff).
  * Don't include debian/ and stamp-dir/ in eglibc source tarball.  Closes:
    #553053.
  * Switch to the more common xz format from lzma for eglibc-source
    tarball.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 30 Oct 2009 09:48:09 +0100

eglibc (2.10.1-3) unstable; urgency=low

  [ Samuel Thibault ]
  * patches/hurd-i386/local-bigmem.diff: Fix patch.

  [ Aurelien Jarno ]
  * patches/s390/submitted-getutmpx.diff: new patch to fix getutmpx() on
    s390.  Closes: #544838.
  * patches/any/submitted-missing-etc-resolv.conf.diff: new patch to fix
    name resolution with empty or missing /etc/resolv.conf.  Closes:
    #552453.
  * debian/sysdeps/i386.mk: build with gcc-4.3 on i386.  Closes: #551903.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 26 Oct 2009 19:40:34 +0100

eglibc (2.10.1-2) unstable; urgency=low

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2806 (from glibc-bsd).
  * Drop kfreebsd/local-sysdeps-2.10.diff (merged in local-sysdeps.diff).

  [ Samuel Thibault ]
  * patches/hurd-i386/local-bigmem.diff: New patch to fix dl.so crash when
    running on GNU Mach with VM_MAX_ADDRESS < 0xc0000000.

  [ Aurelien Jarno ]
  * patches/any/submitted-missing-etc-hosts.diff: return HOST_NOT_FOUND
    instead of NO_DATA.  Closes: #551622, #551760, #551879, #552010.
  * Restart NSS related services after upgrade. Closes: #551971, #551885.
  * testsuite-checking/*kfreebsd*: the *at syscalls emulation is not
    working under all conditions, allow failure of related tests. That
    should be removed after switching to kernel 8.0.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 23 Oct 2009 08:48:29 +0200

eglibc (2.10.1-1) unstable; urgency=low

  [ Aurelien Jarno ]
  * New upstream release.
    - Fix C++ declaration of string functions.  Closes: #496763.
    - Add Handling for group shadow files.  Closes: #519479.
    - Use AT_RANDOM for randomized stack protector value.  Closes:
      #533077.
    - don't trigger assertion on __pthread_mutex_lock anymore.  Closes:
      #479952.
    - Fix week specifier in en_GB.  Closes: #511474.
    - Update sys/timex.h.  Closes: #550857.
    - debian/copyright, debian/*symbols*, debian/shlibver,
      debian/locales-depver, debian/debhelper.in/*.lintian: upgrade
      to 2.10.
    - alpha has been moved to ports, update debian/sysdeps/alpha.mk and
      debian/patches/alpha/* accordingly.
    - Remove debian/patches/arm/submitted-setjmp.diff (merged).
    - Remove debian/patches/arm/submitted-fpu_control_h.diff (merged).
    - Remove debian/patches/hppa/cvs-tsd.diff (merged).
    - Remove debian/patches/hppa/cvs-nptl.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-resource-prio.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-hurdsig-fix.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-net-headers.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-report-wait-fix.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-get_pc_thunk.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-strerror_l.diff (merged).
    - Remove debian/patches/hurd-i386/cvs-rtld.diff (merged).
    - Update debian/patches/hurd-i386/local-tls-support.diff.
    - Update debian/patches/hurd-i386/submitted-extern_inline.diff.
    - Update debian/patches/hurd-i386/local-atomic-no-multiple_threads.diff.
    - Remove debian/patches/mips/cvs-context.diff (merged).
    - Remove debian/patches/sparc/cvs-siginfo.diff (merged).
    - Remove debian/patches/all/submitted-readme-version.diff (merged).
    - Remove debian/patches/any/submitted-install-map-files.diff (merged).
    - Remove debian/patches/any/cvs-pthread_h.diff (merged).
    - Remove debian/patches/any/local-bashisms.diff (merged).
    - Remove debian/patches/any/cvs-bz7058-nss_nss-nis.diff (merged).
    - Remove debian/patches/any/cvs-iconv-utf16.diff (merged).
    - Remove debian/patches/any/submitted-cross-zic.diff (merged).
    - Remove debian/patches/any/cvs-binutils_2.20.diff (merged).
    - Remove debian/patches/any/submitted-nss-nsswitch.diff (merged).
    - Remove debian/patches/any/cvs-bz9706-nss_nss-files_files-parse.diff
      (merged).
    - Update debian/patches/any/cvs-broken-dns.diff.
    - Remove debian/patches/any/cvs-bz9697-posix-regcomp.diff (merged).
    - Remove debian/patches/any/cvs-bz697-posix-regexec.diff (merged).
    - Remove debian/patches/any/submitted-broken-dns.diff (merged).
    - Remove debian/patches/any/submitted-mount_h.diff (merged).
    - Update debian/patches/any/submitted-futex_robust_pi.diff.
    - Update debian/patches/any/local-dynamic-resolvconf.diff.
    - Update debian/patches/any/local-libgcc-compat-main.diff.
    - Update debian/patches/any/local-libgcc-compat-ports.diff.
    - Update debian/patches/any/local-no-pagesize.diff.
    - Remove debian/patches/any/submitted-date-and-unknown-tz.diff (merged).
    - Remove debian/patches/any/cvs-sunrpc-license.diff (merged).
    - Remove debian/patches/any/submitted-tst-cpucount.diff (merged).
    - Remove debian/patches/any/submitted-signalfd-eventfd.diff (merged).
    - Remove debian/patches/any/cvs-unsetenv.diff (merged).
    - Remove debian/patches/localedata/mt_MT_euro.diff (merged).
    - Remove debian/patches/localedata/submitted-bz9731-el_CY_euro.diff
      (merged).
    - Remove debian/patches/localedata/sk_SK_euro.diff (merged).
    - Remove debian/patches/localedata/submitted-bz9730-locale-sv_FI.diff
      (merged).
    - Remove debian/patches/localedata/cvs-el_CY-el_GR-frac_digits.diff
      (merged).
    - Update debian/patches/localedata/sort-UTF8-first.diff.
    - Update debian/patches/localedata/fr_CA-first_weekday.diff
    - Update debian/patches/localedata/fr_BE-first_weekday.diff
    - Update debian/patches/localedata/cy_GB-first_weekday.diff
    - Remove debian/patches/localedata/submitted-bz9835-en_GB-first_day.diff
      (merged).
    - Update debian/patches/localedata/first_weekday.diff
    - Update debian/patches/localedata/fr_LU-first_weekday.diff
    - Update debian/patches/localedata/fr_CH-first_weekday.diff
    - Remove debian/patches/sh4/cvs-headers-update.diff (merged).
    - Remove debian/patches/any/local-revert-3270.diff (fixed upstream).
  * Remove localedata/locale-fr_FR.diff as coreutils has been fixed.
  * Add debian/patches/any/submitted-autotools.diff to update config.guess
    and config.sub.
  * Remove debian/patches/powerpc/local-sysconf.diff, as it only concerns
    kernel that are not supported anymore.
  * Add debian/patches/ia64/submitted-sysconf.diff to fix sysconf() on ia64.
  * Add debian/patches/alpha/submitted-getsysstats.diff,
    debian/patches/alpha/submitted-includes.diff and
    debian/patches/alpha/submitted-lowlevellock.diff to partially fix FTBFS
    on alpha.
  * Add debian/patches/any/local-linuxthreads-unwind.diff to fix exception
    handling with linuxthreads.
  * Add debian/patches/any/cvs-nptl-init.diff to allow overwriting
    architectures init.c in csu and nptl individually.
  * Add debian/patches/any/submitted-accept4-hidden.diff to fix build
    on non Linux architectures.
  * Add debian/patches/kfreebsd/local-sysdeps-2.10.diff to update sysdeps
    for glibc 2.10 on GNU/kFreeBSD.
  * Add debian/patches/alpha/submitted-rtld-fPIC.diff to fix build on alpha.
  * Add debian/patches/any/submitted-getent-gshadow.diff to add gshadow
    support to getent.
  * debian/rules.d/tarball.mk: store the checkout revision in the tarball
    (file .svn-revision).
  * debian/rules.d/tarball.mk: add an "update-from-upstream-svn" rule to
    automatically update debian/patches/svn-updates.diff.
  * patches/ia64/submitted-libm.diff: new patch to fix errors in the
    math testsuite on ia64.
  * Use gcc 4.4 by default, except on armel, hppa, mips, mipsel, sparc and
    hurd-i386.
  * Update to upstream revision 8758.
  * patches/any/submitted-missing-etc-hosts.diff: new patch from Steve
    Langasek to treat a missing /etc/hosts as a simple "not found", not as
    an internal error.  Closes: bug#539950.
  * libc.postinst: only call telinit on Linux as originally.
  * Fix package name in alpha/ia64 private symbols versioning.
  * Add patches/sparc/local-sparcv9-memchr.diff to fix test-memchr.

  [ Petr Salinger ]
  * Add kfreebsd/local-no-SOCK_NONBLOCK.diff to fix build on GNU/kFreeBSD.

  [ Samuel Thibault ]
  * Add debian/patches/hurd-i386/local-_dl_random.diff to fix build on
    hurd-i386.
  * Add debian/patches/hurd-i386/local-unwind-resume.diff to fix build on
    hurd-i386.
  * Fix debian/patches/hurd-i386/local-tls-support.diff to align up includes
    on Linux, to fix build.

  [ Carlos O'Donell ]
  * Add hppa/cvs-nptl-compat.diff to keep ABI compatibility between
    linuxthreads and NPTL on HPPA.
  * sysdeps/hppa.mk: switch to NPTL. Closes: bug#538513.
  * testsuite-checking/expected-results-hppa-linux-gnu-libc: update.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 18 Oct 2009 18:35:20 +0200

eglibc (2.9-27) unstable; urgency=low

  [ Aurelien Jarno ]
  * Extend description of libc-bin, patch by Christoph Berg. Closes:
    bug#544389.
  * Strip *.o files manually (dh_strip does not do it) to prevent
    leakage of the build directory.
  * libc.postinst: re-add "telinit u", removed by accident in version
    2.9-24. Closes: bug#545179.
  * nscd.init: set PATH to "/sbin:/usr/sbin:/bin:/usr/bin". Closes:
    bug#544942.
  * nscd.conf.5: add documentation for max-db-size and auto-propagate
    options. Closes: bug#544544.
  * Merge from the multiarch branch:
    - allow one to specify libdir and slibdir also for the main flavor.
    - use real dependencies between the build_* and binaryinst_*
      targets.
    - simplify clean target.
  * Set the minimum kernel version to 6.0.0 for biarch library on
    kfreebsd-amd64 to match the main library.
  * alpha/submitted-sock_nonblock.diff: adjust patch location (alpha is
    still a main architecture in glibc 2.9). Closes: bug#540871.

  [ Samuel Thibault ]
  * debian/debhelper.in/libc.install: Install libc/*-gnu*/ instead of
    libc/*-*-gnu*/, to fix FTBFS on hurd-i386 due to it now being i486-gnu/.
  * debian/patches/hurd-i386/submitted-null-pathname.diff: New patch to fix
    chdir("") and chroot("") into returning ENOENT.
  * debian/patches/hurd-i386/submitted-sbrk.diff: New patch to fix sbrk beyond
    128MB.
  * debian/patches/hurd-i386/local-thread-cancel.diff: New patch to fix ext2fs
    crash.
  * debian/patches/hurd-i386/submitted-readlinkat.diff: New patch to add
    support for readlinkat(), to fix insserv build.
  * debian/patches/hurd-i386/cvs-termios-IXANY.patch: New patch to
    define IXANY in XOpen environment too, to fix libgphoto2 build.
  * debian/patches/hurd-i386/submitted-SOL_IP.patch: New patch to add SOL_IP
    definition, to fix directfb build.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2779 (from glibc-bsd).

  [ Clint Adams ]
  * debian/rules.d/debhelper.mk: make sure that snippets are included
    before doing CURRENT_VER substitution; fix thanks to Steve
    Langasek.
  * Bump to Standards-Version 3.8.3.

 -- Clint Adams <schizo@debian.org>  Wed, 30 Sep 2009 16:24:56 -0400

eglibc (2.9-26) unstable; urgency=low

  [ Aurelien Jarno ]
  * alpha/submitted-sock_nonblock.diff, hppa/submitted-sock_nonblock.diff:
    create the files at the correct location. Closes: bug#540871.
  * Use the full triplet for optimized and biarch packages.
  * cvs-unsetenv.diff: new patch to not segfault in unsetenv() if run after
    clearenv().

  [ Samuel Thibault ]
  * Convert config_os' gnu-gnu into gnu to fix multiarch paths.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2744 (from glibc-bsd).
  * any/local-linuxthreads-kill_other.diff, fixes ruby 1.9 testsuite failure

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 31 Aug 2009 07:05:00 +0200

eglibc (2.9-25) unstable; urgency=low

  * Remove Ben Collins <bcollins@debian.org> from the uploaders (Closes:
    bug#540901).
  * Recommends libc6-i686 on i386 and libc0.1-i686 on kfreebsd-i386
    (instead of amd64 and kfreebsd-amd64). Closes: bug#455603.
  * rules.d/debheper.in: fix a one letter typo causing libc6-udeb to be
    empty. Closes: bug#541725.
  * alpha/submitted-sock_nonblock.diff, hppa/submitted-sock_nonblock.diff:
    new patches to accommodate SOCK_NONBLOCK != O_NONBLOCK on these
    architectures. Closes: bug#540871.
  * Add dependency on $syslog in /etc/init.d/nscd. Closes: bug#541492.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 16 Aug 2009 13:43:11 +0200

eglibc (2.9-24) unstable; urgency=low

  [ Aurelien Jarno ]
  * Remove any/cvs-pthread_mutex_lock.diff following upstream decision.
  * Replace debian/sysdeps/depflags.{mk,pl} by entries in debian/control
    using the "new" dpkg-dev features. Clean-out some very old entries.
  * Recommends libc6-i686 on amd64 and libc0.1-i686 on kfreebsd-amd64
    (Closes: bug#455603).
  * Don't access dpkg files directly in libc6.preinst.
  * patches/any/local-ld-multiarch.diff: convert i586 and i686 into i486
    (Closes: bug#540646).
  * debian/rules.d/debhelper.mk: use dh_lintian instead doing the work
    manually.
  * Split out libc-bin from libc6 and libc-dev-bin from libc6-dev.
    (Closes: #330735).

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2696 (from glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 10 Aug 2009 14:32:35 +0200

eglibc (2.9-23) unstable; urgency=low

  * debhelper.in/libc.postinst, sysdeps/depflags.pl: remove upgrade code
    for pre-etch installations.
  * Don't ship /etc/init.d/glibc.sh anymore: the GNU libc is now smart
    enough to print "FATAL: kernel too old" alone. This also speed up
    the boot a bit.
  * Don't ship /usr/share/doc/libc6/TODO, but keep the file in the
    sources.
  * Don't ship /usr/share/doc/libc6/{README,PROJECT}.gz, they are
    irrelevant for an already built GNU libc.
  * Move /usr/share/doc/libc6/{CONFORMANCE,NAMESPACE,NOTES}.gz to
    libc6-dev.
  * Move all upstream changelogs in glibc-docs, and install a small
    changelog file explaining the reason.
  * Ship README.libm in libc6-dev.
  * Update any/cvs-broken-dns.diff from upstream.
  * any/cvs-pthread_mutex_lock.diff: new patch from upstream to fix
    a memory ordering problem in pthread_mutex_{,timed}lock.
  * Replace any/submitted-signalfd-eventfd.diff by upstream version
    any/cvs-signalfd-eventfd.diff.
  * alpha/submitted-asm-memchr.diff: new patch to fix broken prefetching
    in memchr() on alpha.
  * control.in/i386: replace the Pre-Depends by a Conflicts.  Closes:
    #538807. Update the breaks version of the packages not yet
    transitioned.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 27 Jul 2009 15:37:54 +0200

eglibc (2.9-22) unstable; urgency=low

  * kfreebsd/local-sysdeps.diff: update to revision 2670 (from glibc-bsd).
  * any/submitted-signalfd-eventfd.diff: new patch to support < 2.6.27
    kernels in eventfd/signalfd.  Closes: #537509.
  * alpha/submitted-fdatasync.diff: update to keep fdatasync() as a
    cancellation point.  Closes: #537586.
  * sparc/cvs-siginfo.diff, s390/submitted-siginfo.diff,
    ia64/submitted-siginfo.diff: new patches to get "struct sigevent"
    from bits/siginfo.h in sync with the kernel version. Closes: #534548.
  * debhelper.in/libc-alt.preinst: also clear old /lib32 and /usr/lib32
    symlinks on install, as they might have been left by a previous
    installation of the package.
  * patches/any/cvs-getaddrinfo-nss-notfound.diff: new patch to correctly
    handle missing NSS modules.  Closes: #535106, #298290.
  * Add X-Interactive: true to /etc/init.d/glibc.sh.  Closes: #538435.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 26 Jul 2009 10:16:30 +0200

eglibc (2.9-21) unstable; urgency=low

  [ Aurelien Jarno ]
  * Re-add /usr/include/scsi/scsi.h.  Closes: #537354.
  * libc6-dev-i386: pre-depends on libc6-i386.  Closes: #535313.
  * /etc/bindresvport.blacklist: add rsync (port 873). Closes: #537289.
  * any/local-bindresvport_blacklist.diff: update from latest openSUSE
    version.
  * kfreebsd/local-sysdeps.diff: update to revision 2643 (from glibc-bsd).
    Closes: #537492.
  * debian/local/etc_init.d/glibc.sh: add support for start/stop/restart/
    force-reload options.
  * debian/debhelper.in/libc-alt.preinst: add set -e.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 19 Jul 2009 21:09:38 +0200

eglibc (2.9-20) unstable; urgency=low

  [ Clint Adams ]
  * Bump to Standards-Version 3.8.2.

  [ Aurelien Jarno ]
  * Don't ship /usr/include/scsi/scsi.h anymore.  Closes: #535809.
  * Add sysdeps/sh4.mk.  Closes: #536199.
  * debian/control.in/main: Build-Depends on dpkg-dev (>= 1.15.3.1).
    Closes: #536482.
  * kfreebsd/local-sysdeps.diff: update to revision 2624 (from glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 Jul 2009 14:39:01 +0200

eglibc (2.9-19) unstable; urgency=low

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2611 (from glibc-bsd).
    Closes: #534115. Thanks to Javier Mendez Gomez.

  [ Aurelien Jarno ]
  * libc6-i386/presubj: remove.  Closes: #533768.
  * eu.po update from Piarres Beobide.  closes: #534283.
  * arm/local-hwcap-updates.diff, arm/local-no-hwcap.diff: update ARM
    hwcaps to support NEON and VFP.  Closes: #534126.
  * control.in/i386: add a breaks nvidia-glx-ia32 (<= 185.18.14-1) and
    nvidia-libvdpau-ia32 (<= 185.18.14-1).  Closes: #534874.
  * Merge any/submitted-broken-dns.diff into any/cvs-broken-dns.diff and
    update from upstream.

  [ Clint Adams ]
  * ru.po update from Yuri Kozlov.  closes: #534781.
  * cs.po update from Miroslav Kure.  closes: #534787.

 -- Clint Adams <schizo@debian.org>  Sun, 05 Jul 2009 11:49:39 -0400

eglibc (2.9-18) unstable; urgency=low

  * Remove /lib32 and /usr/lib32 in the libc6-i386 preinst.  closes: #533773.

 -- Clint Adams <schizo@debian.org>  Sun, 21 Jun 2009 03:17:50 -0400

eglibc (2.9-17) unstable; urgency=low

  [ Aurelien Jarno ]
  * Fix the versionned conflict of libc6-i386 with libc6-i386-dev. Closes:
    #533482.

  [ Clint Adams ]
  * Use Breaks instead of Conflicts for the /emul/ia32-linux transition.
    closes: #533503.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2599 (from glibc-bsd).

 -- Clint Adams <schizo@debian.org>  Thu, 18 Jun 2009 18:36:51 -0400

eglibc (2.9-16) unstable; urgency=low

  * Restore /lib/ld-linux.so.2 symlink. Closes: #533364.
  * control.in/i386: tighten a bit the conflicts given the recent uploads.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 17 Jun 2009 07:32:47 +0200

eglibc (2.9-15) unstable; urgency=low

  * kfreebsd/local-sysdeps.diff: update to revision 2587 (from glibc-bsd).
    Update expected testsuite results accordingly.
  * any/cvs-broken-dns.diff: backport more parts from upstream.
  * Update Italian debconf translation, by Luca Monducci.  Closes: #531431.
  * sh4/cvs-headers-update.diff: new patch from upstream to fix build failure
    on SH4.  Closes: #532385.
  * sysdeps/amd64.mk: fix i386_slibdir.
  * control.in/i386: remove duplicate entries.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 13 Jun 2009 22:25:41 +0200

eglibc (2.9-14) unstable; urgency=low

  [ Aurelien Jarno ]
  * debian/debhelper.in/locales.postrm: remove /etc/default/locale on
    purge.  Closes: #530902.

  [ Clint Adams ]
  * Move /emul/ia32-linux libraries to /usr/lib32.

 -- Clint Adams <schizo@debian.org>  Sat, 13 Jun 2009 09:51:12 -0400

eglibc (2.9-13) unstable; urgency=low

  * debian/debhelper.in/nscd.init: fix return code when querying status
    and nscd is not running to comply with LSB.  Closes: #527883.
  * debian/debhelper.in/locales.config: don't use "echo -e".  Closes:
    #527945, #529173.
  * debian/patches/localedata/supported.diff: add kk_KZ.RK1048 locale.
    Closes: #528177.
  * debian/debhelper.in/locales.config: use previous debconf settings if
    /etc/environment and /etc/default/locale do not exist.
  * debian/bug/locales/presubj: fix a typo.  Closes: #528353.
  * debian/local/manpages/validlocale.8: fix a typo.  Closes: #528658.
  * debian/patches/any/cvs-sunrpc-license.diff: new patch from upstream
    to change the SUNRPC license into BSD one. Update debian/copyright
    accordingly.  Closes: #382175.
  * debian/patches/any/submitted-tst-cpucount.diff: new patch to fix
    tst-cpucount test on non Linux kernels.
  * kfreebsd/local-sysdeps.diff: update to revision 2545 (from glibc-bsd).
  * debian/patches/kfreebsd/local-config_h_in.patch: new patch to correctly
    define __KFREEBSD_KERNEL_VERSION.
  * debian/sysdeps/kfreebsd.mk: bump minimal kernel version to 6.0.
  * debian/debhelper.in/libc.NEWS: detail the exact line that has to be
    added to /etc/resolv.conf.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 26 May 2009 13:45:58 +0200

eglibc (2.9-12) unstable; urgency=low

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2503 (from glibc-bsd).

  [ Aurelien Jarno ]
  * any/local-revert-3270.diff: new patch to revert fix for PR nptl/3270.
    (closes: bug#527541).

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 08 May 2009 11:57:16 +0200

eglibc (2.9-11) unstable; urgency=low

  * Switch to Embedded GLIBC (EGLIBC), sources taken from the 2.9
    branch.
    - Update all/submitted-readme-version.diff.
    - Update any/local-bashisms.diff.
    - Update any/cvs-bz9697-posix-regcomp.diff.
    - Update any/cvs-binutils_2.20.diff.
    - Drop any/local-makeconfig.diff.
    - Drop any/submitted-getcwd-sys_param_h.diff (merged in eglibc).
    - Add any/submitted-cross-zic.diff to fix biarch builds.
    - Add any/submitted-nss-nsswitch.diff to fix linuxthreads builds.
    - Add any/submitted-install-map-files.diff to fix GNU/Hurd builds.
    - More tests of flavour/biarch builds are run, update the expected
      testsuite results accordingly.
    - Rename glibc-source package into eglibc-source.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 May 2009 09:54:14 +0200

glibc (2.9-10) unstable; urgency=low

  [ Samuel Thibault ]
  * hurd-i386/local-pthread_posix-option.diff: Set _POSIX_TIMEOUTS to 200112
    too, to fix gthread compilation in gcc-4.4

  [ Petr Salinger ]
  * fix up GNU/kFreeBSD specific macro LIST_FOREACH_SAFE.

  [ Aurelien Jarno ]
  * any/cvs-broken-dns.diff: backport more parts from upstream.
  * any/submitted-broken-dns.diff: new patch to not raise an error if one
    query returns NOTIMP or FORMERR and the other NOERROR.  Closes: #526823.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 05 May 2009 01:39:50 +0200

glibc (2.9-9) unstable; urgency=low

  * mips/cvs-context.diff: add missing part from upstream.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 28 Apr 2009 23:11:30 +0200

glibc (2.9-8) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update Swedish debconf translation, by Martin Bagge.  Closes: #522982.
  * mips/cvs-context.diff: new patch from upstream to add getcontext,
    setcontext, makecontext, swapcontext.
  * any/submitted-mount_h.diff: new patch to add MNT_DETACH and MNT_EXPIRE to
    sys/mount.h.  Closes: #523952.
  * arm/submitted-fpu_control_h.diff: new patch to disable macros from
    <fpu_control.h> on EABI.  Closes: #525261.
  * any/cvs-iconv-utf16.diff: new patch from upstream to reject UTF-8-encoded
    UTF-16 surrogates in iconv.  Closes: #525299.
  * any/local-getaddrinfo-interface.diff: ignore addresses with no interface
    assigned while sorting with rule 7.  Closes: #521439.
  * any/cvs-broken-dns.diff: new patch from CVS to provide a fallback for
    broken DNS server while doing unified IPv4/IPv6 requests. The first lookup
    will be slow, but subsequent requests will fallback to the previous
    behaviour. This can be enabled by default by setting 'single-request' in
    /etc/resolv.conf.
  * debhelper.in/libc.NEWS: add entry explaining the new behaviour and the new
    option.
  * any/local-disable-gethostbyname4.diff: disabled this patch to re-enable
    unified IPv4/IPv6 requests.  Closes: bug#343140, bug#435646.
  * localedata/cvs-el_CY-el_GR-frac_digits.diff: new patch from CVS to fix
    frac_digits and int_frac_digits on el_CY ad el_GR locales.  Closes:
    bug#511621.
  * mips_asm_unistd.h, sysdeps/mipsel.mk, sysdeps/mips.mk: use our own version
    of unistd.h corresponding to the one of a 2.6.24 kernel to workaround kernel
    bugs on the build daemons.
  * any/cvs-binutils_2.20.diff: new patch from upstream to fix build failure
    with binutils 2.20.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2482 (from glibc-bsd).
    Closes: #522686. Thanks to Jan Christoph Nordholz.

  [ Samuel Thibault ]
  * hurd-i386/cvs-rtld.diff: new patch, fixes boot of glibc built with
    binutils >= 2.19.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 27 Apr 2009 00:44:59 +0200

glibc (2.9-7) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update German debconf translation, by Helge Kreutzman.  Closes: #519992.
  * Update testsuite results on alpha, tst-timer.out exits with SIGILL on
    some machines, it was already the case with glibc 2.7 on the same
    machines.
  * Update testsuite results on hppa, tst-posix_fallocate.out and
    tst-makecontext.out are known to fail with a 32-bit kernel.
  * debian/script.in/nsscheck.sh: fix a typo.  Closes: #520455.
  * kfreebsd/local-sysdeps.diff: update to revision 2390 (from glibc-bsd).
  * libc6.1.symbols.alpha: fix package name for private symbols.

  [ Samuel Thibault ]
  * debian/rules.d/debhelper.mk: let grep libpthread.so fail because on
    hurd-i386 glibc does not provide it.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 07 Apr 2009 07:58:50 +0200

glibc (2.9-6) unstable; urgency=low

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/local-tls-support.diff: fix typo in tlsdesc.sym.

  [ Aurelien Jarno ]
  * debian/po/de.po: fix German translation.  Closes: bug#519612.
  * Update French debconf translation, by Christian Perrier.  Closes: #519662.
  * any/local-disable-gethostbyname4.diff: disable unified lookup for
    getaddrinfo(). While unified lookup fix the problem of DNS servers simply
    dropping AAAA requests, it breaks lookup with even more broken DNS servers
    only returning a broken AAAA answer. As it seems the second type of broken
    DNS concerns more users, let's revert to the old behaviour.  Closes:
    #516218.
  * any/submitted-getaddrinfo-lo.diff: correctly handle the lo interface and
    associated addresses when checking for native connection.  Closes:
    bug#519545.
  * debian/control.in/libc: change -dbg packages to section debug.
  * debian/control.in/main: update Standards-Version to 3.8.1:
    - debian/local/etc_init.d/glibc.sh: move set -e out from the shebang line.
    - debian/debhelper.in/nscd.init: exit successfully if the daemon was
      already running.
  * debian/debhelper.in/nscd.dirs: remove /var/run/nscd directory.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 15 Mar 2009 21:22:48 +0100

glibc (2.9-5) unstable; urgency=low

  [ Clint Adams ]
  * Change first day of the week in ru_UA locale to Monday.  closes:
    #517386.

  [ Aurelien Jarno ]
  * testsuite-checking/expected-results-i486-linux-gnu-libc,
    testsuite-checking/expected-results-i686-linux-i686: remove
    testgrp.out from the ignore list, it was due to a misconfiguration
    of the build daemon.
  * debhelper.in/libc.{preinst,postint}: bump the version triggering the
    restart of NSS related services to 2.9-5.
  * debhelper.in/libc.postint: change cupsys into cups.
  * script.in/nsscheck.sh: convert mysql-server into mysql. Closes:
    bug#172123.
  * merge lost patch from lenny:
    - debhelper.in/locales.config: use previous debconf settings if
      /etc/locales does not exists. Closes: bug#517884.
  * debian/local/manpages/ld.so.8: fix a typo.  Closes: bug#518394.
  * debhelper.in/libc.preinst, debhelper.in/libc.templates: warn users
    about the need to disable xscreensaver and xlockmore before libc6
    is unpacked.  Closes: bug#517795.

  [ Samuel Thibault ]
  * debian/patches/hurd-i386/cvs-ECANCELED.diff: rename into
    submitted-ECANCELED.diff
  * debian/patches/hurd-i386/local-net-headers.diff: rename into
    cvs-net-headers.diff
  * debian/patches/hurd-i386/local-pthread_types.diff: make it create a new
    sysdep/mach/hurd/bits/pthreadtypes.h instead of modifying
    bits/pthreadtypes.h.  Move from series.hurd-i386 to series.
  * debian/patches/hurd-i386/local-tls-dtv-offset.diff: remove patch, make
    local-tls-support.diff create tlsdesc.sym instead.
  * debian/patches/hurd-i386/local-no-strerror_l.diff: remove patch, replaced
    by...
  * debian/patches/hurd-i386/cvs-strerror_l.diff: new patch from Thomas
    Schwinge.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 12 Mar 2009 00:13:02 +0100

glibc (2.9-4) unstable; urgency=low

  * testsuite-checking/expected-results-ia64-linux-gnu-libc: ignore
    result of tst-oddstacklimit.out, it is known to fail with old
    kernels, just like in glibc 2.7.
  * debian/debhelper.in/libc{-alt,-otherbuild,}.lintian: remove outdated
    overrides.
  * debhelper.in/libc.postinst: restart NSS services on upgrades from
    versions prior to 2.9-1.
  * testsuite-checking/expected-results-arm-linux-gnueabi-libc: ignore
    result of test-fenv.out and test-fpucw.out, as they were already
    failing with glibc 2.7.
  * patches/any/submitted-futex_robust_pi.diff: new patch to correctly
    define when PI futexes and robust mutexes have been introduced
    in the kernel, on a per architecture basis.
  * testsuite-checking/expected-results-{alpha,ia64}-linux-gnu-libc:
    remove PI futexes failures.
  * patches/all/submitted-readme-version.diff: fix the upstream version
    number in upstream README.  Closes: bug#516908.
  * debian/rules.d/build.mk: disable the testsuite on ball/mayr/mayer/rem
    build daemons.
  * debian/rules.d/info.mk: new file to dump useful info in the build log.
  * debian/rules: always define and export SHELL as "/bin/bash -e".
    Closes: bug#517077.
  * patches/any/cvs-bz7058-nss_nss-nis.diff: new patch to fix crash when
    doing host lookup with nss-nis.  Closes: bug#517094.
  * Add debian/libc6-mips{n32,64}.symbols.mips{el,} symbol files.
  * debian/debhelper.in/glibc-source.install, debian/rules.d/build.mk:
    switch the format of glibc-source to lzma, sparing 6MB.
  * debian/libc6.1.symbols.{alpha,ia64}: fix symbols.
  * debian/*symbols*: rename symbols.common into libc6.symbols.common.
  * rules.d/debhelper.mk: don't strip debugging symbols. Remove
    debhelper.in/libc-dbg.{install,lintian} and wrapper/objcopy.
    control.in/libc: update description of libc-dbg.  Closes: bug#516516.
  * patches/kfreebsd/local-scripts.diff: correctly define the soname of
    libthread_db.
  * libc0.1.symbols.common, libc0.1.symbols.kfreebsd-{amd64,i386],
    libc0.1-i386.symbols.kfreebsd-amd64: new files.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 27 Feb 2009 19:01:26 +0100

glibc (2.9-3) unstable; urgency=low

  * debhelper.in/nscd.init: fix the for loop.  Closes: bug#516509.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 21 Feb 2009 11:40:24 +0100

glibc (2.9-2) unstable; urgency=low

  [ Aurelien Jarno ]
  * testsuite-checking/*: ignore tst-cpuclock2 test, as it fails on
    machines using cpufreq.
  * Rename submitted/cvs-tsd.diff into hppa/cvs-tsd.diff.
  * patches/any/local-bashisms.diff: fix more bashisms in the testsuite.
  * rules.d/build.mk: define SHELL as /bin/bash.
  * patches/any/cvs-pthread_h.diff: patch from upstream to fix warning
    in pthread.h.
  * debhelper.in/libc.preinst: restart NSS services on upgrades from
    versions prior to 2.9-1.
  * debhelper.in/*symbols*, rules.d/debhelper.mk: allow linking against
    private symbols again, but with a strict dependency on the upstream
    version.
  * debhelper.in/nscd.init: fix cache flushing on restart/reload.  Closes:
    bug#516212.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2370 (from glibc-bsd).
  * drop kfreebsd/local-sysdeps28.diff (merged into local-sysdeps.diff).

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 20 Feb 2009 22:25:19 +0100

glibc (2.9-1) unstable; urgency=low

  [ Aurelien Jarno ]
  * New upstream release.
    - This version has been tagged in the CVS, update debian/rules and
      debian/rules.d/tarball.mk accordingly.
    - shs_CA locale is enabled.  Closes: #504663.
    - fix snprintf with low-memory.  Closes: #481543.
    - fix mtrace warning message.  Closes: #507488.
    - Disable m68k/local-mathinline_h.diff.
    - Update any/local-bashisms.diff.
    - Update hurd-i386/local-tls-support.diff.
    - Update localedata/locale-en_DK.diff.
    - Update localedata/sort-UTF8-first.diff.
    - Update localedata/supported.diff.
    - Update localedata/first_weekday.diff.
    - Remove all/submitted-iconv-latin9.diff (merged).
    - Remove any/submitted-user_h.diff (merged).
    - Remove any/cvs-bug-iconv6_tst-iconv7.diff (merged).
    - Remove any/cvs-getaddrinfo.diff (merged).
    - Remove any/cvs-iconv-braces.diff (merged).
    - Remove any/cvs-nscd-getservbyport.diff (merged).
    - Remove any/cvs-regex_anchor.diff (merged).
    - Remove any/cvs-tst-regex.diff (merged).
    - Remove any/submitted-rpcgen-makefile.diff (merged).
    - Remove hppa/cvs-context.diff (merged).
    - Remove hppa/submitted-atomic_h.diff (merged).
    - Remove hppa/submitted-fesetenv.diff (merged).
    - Remove hurd-i386/cvs-lock-memory-clobber.diff (merged).
    - Remove hurd-i386/cvs-mig-init.diff (merged).
    - Remove hurd-i386/cvs-MSG_NOSIGNAL.diff (merged).
    - Remove hurd-i386/cvs-open_2.diff (merged).
    - Remove hurd-i386/cvs-signal-werror.diff (merged).
    - Remove hurd-i386/cvs-termios.diff (merged).
    - Remove hurd-i386/cvs-fcntl-types.diff (merged).
    - Remove mips/local-setjmp.diff (merged).
    - Remove sparc/cvs-context.diff (merged).
    - Remove localedata/locale-ks_IN.diff (replaced upstream by
      ks_IN@devanagari).
    - debian/shlibver: bump to 2.9.
    - debian/locales-depver: bump to 2.9.
    - debian/sysdeps/depflags.pl: add a conflict on nscd (<< 2.9) to libc.
    - Finnish (fi_FI) time format is fixed.  closes: #468849.
  * debhelper.in/locales.config: convert ks_IN into ks_IN@devanagari.
  * symbols.wildcards: update for glibc 2.9.
  * debhelper.in/*.lintian: update for glibc 2.9.
  * testsuite-checking/compare.sh: don't assume expected and current
    testsuite results in same order.  Closes: bug#504031.
  * testsuite-checking/expected-results-powerpc64-linux-ppc64: update.
  * debian/local/etc_init.d/glibc.sh: add Description and Short-Description.
    Closes: bug#510083.
  * Remove manpage that will be provided by manpages-dev.  Closes: bug#506515,
    bug#505784.
  * debian/copyright: update.  Closes: bug#506881.
  * any/submitted-popen.diff: new patch from Gentoo to fix popen() on >= 2.6.27
    kernels.  Closes: bug#512238.
  * arm/submitted-setjmp.diff: new patch to fix build on arm.
  * debian/rules: set BUILD_CC (host compiler) to gcc, and set CC (target
    compiler) to gcc-4.3. The later can be override on a per target basis.
  * debian/rules.d/build.mk: enable stackguard randomization.  Closes:
    bug#511811.
  * expected-results-i486-linux-gnu-libc, expected-results-i686-linux-i686:
    Add tests that fail on a Xen machine. Sigh.
  * any/local-linuxthreads-thread_self.diff: new patch to fix a warning on
    linuxthreads builds.
  * rules.d/build.mk: unset LANG to make sure testsuite errors are not
    localized.
  * debian/rules: remove *.mo file in the clean target.
  * sysdeps/alpha.mk, control.in/main: use gcc-4.3 on alpha.
  * debhelper.in/locales.postinst: make sure /etc/default/locale is always
    created.  Closes: bug#515099.
  * debian/wrapper/objcopy: apply special strip to libraries only.  Closes:
    bug#513882.
  * debian/localedata/locale-fr_FR.diff: revert change of week of day and
    month abbreviations in fr_FR locale.  Closes: bug#509191.

  [ Clint Adams ]
  * patches/any/cvs-bz697-posix-regexec.diff: regex fix from Paolo Bonzini.
  * patches/any/cvs-bz9697-posix-regcomp.diff: regex fix from Paolo Bonzini,
    closes: #510219.
  * patches/localedata/submitted-bz9725-locale-sv_SE.diff: fix from David
    Weinehall for incorrect sv_SE date format.  closes: #489960.
  * patches/any/cvs-bz9706-nss_nss-files_files-parse.diff: unify NSS
    behavior between 32-bit and 64-bit platforms.  addresses: #483645.
  * localedata/submitted-bz9730-locale-sv_FI.diff: make sv_FI time format
    conform to that of fi_FI.  closes: #489946.
  * Rename patches/localedata/el_CY_euro.diff to
    patches/localedata/submitted-bz9731-el_CY_euro.diff.
  * Rename patches/localedata/dz_BT-collation.diff to
    patches/localedata/submitted-bz9732-dz_BT-collation.diff.
  * patches/localedata/submitted-bz9835-en_GB-first_day.diff: new patch to
    fix first_weekday and first_workday for en_GB.  closes: #512343.

  [ Arthur Loiret ]
  * patches/any/local-nss-overflow.diff: new patch to ignore uids and gids
    greater than UINT_MAX.  Closes: #483645.
  * patches/hppa/submitted-tsd.diff: new patch from to fix build on hppa.
    Closes: #511430.

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2352 (from glibc-bsd).
  * add kfreebsd/local-linuxthreads29.diff:
    update to fix build on kfreebsd architectures.

  [ Samuel Thibault ]
  * hurd-i386/cvs-resource-prio.diff: new patch to fix detection of PRIO_*
    values in some packages
  * hurd-i386/cvs-hurdsig-fix.diff: new patch to fix hurd signal FD locking.
  * hurd-i386/cvs-report-wait-fix.diff: patch from CVS instead of
    hurd-i386/submitted-report-wait.diff.
  * hurd-i386/submitted-critical-sections.diff: new patch to fix some missing
    critical sections.
  * hurd-i386/submitted-dup2-fix.diff: new patch to fix dup2 FD locking.
  * hurd-i386/local-net-headers.diff: new patch to install net/*.h headers.
  * hurd-i386/local-tls-dtv-offset.diff: new patch to fix DTV_OFFSET macro.
  * hurd-i386/local-pthread_posix-option.diff: put back to series.
  * hurd-i386/local-check_native.diff: new patch to provide a dummy
    __check_native() function.
  * hurd-i386/cvs-get_pc_thunk.diff: new patch to fix missing
    __i686.get_pc_thunk.bx reference.
  * hurd-i386/submitted-dl-sysdep.diff: new patch to fix static linking.
  * hurd-i386/submitted-stat.diff: clean up patch.
  * hurd-i386/submitted-itimer-lock.diff: new patch fixing itimer unlocking.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 17 Feb 2009 22:49:15 +0100

glibc (2.8+20080809-3) experimental; urgency=low

  [ Aurelien Jarno ]
  * New upstream release.
    - Fix conversions to ISO-2022-JP.  Closes: #466340.
    - "Tarballs are a completely outdated concept":
      + use a flat .orig.tar.gz
      + rules.d/tarball.mk: remove all, add a get-orig-source target
      + rules.d/quilt.mk: fix the unpatch target
    - Update any/cvs-getaddrinfo.diff.
    - Update any/submitted-i686-timing.diff.
    - Update hurd-i386/cvs-lock-memory-clobber.diff.
    - Update kfreebsd/local-sys_queue_h.diff
    - Update locale/preprocessor-collate-uli-sucks.diff
    - Update localedata/tailor-iso14651_t1.diff.
    - Update localedata/locales-fr.diff.
    - Update localedata/cy_GB-first_weekday.diff.
    - Update localedata/fr_BE-first_weekday.diff.
    - Update localedata/fr_CA-first_weekday.diff.
    - Update localedata/fr_CH-first_weekday.diff.
    - Update localedata/fr_LU-first_weekday.diff.
    - Remove alpha/submitted-xstat.diff (outdated).
    - Remove amd64/cvs-vdso_clock_gettime.diff (merged).
    - Remove arm/cvs-ioperm.diff (merged).
    - Remove arm/cvs-gcc4-inline.diff (merged).
    - Remove arm/local-args6.diff (merged).
    - Remove arm/submitted-RTLD_SINGLE_THREAD_P.diff (merged).
    - Remove hppa/cvs-atomic.diff (merged).
    - Remove hppa/cvs-lowlevellock.diff (merged).
    - Remove hurd-i386/cvs-kernel-features.diff (merged).
    - Remove hurd-i386/cvs-O_CLOEXEC_fix.diff (merged).
    - Remove hurd-i386/cvs-epfnosupport.diff (merged).
    - Remove hurd-i386/cvs-df.diff (merged).
    - Remove hurd-i386/cvs-blocked-exceptions.diff (merged).
    - Remove i386/cvs-short-for-fnstsw.diff (merged).
    - Remove mips/cvs-memory-barriers.diff (merged).
    - Remove mips/cvs-mknod.diff (merged).
    - Remove mips/cvs-fcsr.diff (merged).
    - Remove mips/cvs-mipsn32.diff (merged).
    - Remove sh4/cvs-nptl-private-futexes.diff (merged).
    - Remove all/cvs-gai_conf.diff (merged).
    - Remove any/cvs-epoll_h.diff (merged).
    - Remove any/cvs-ether_line.diff (merged).
    - Remove any/cvs-ethertype.diff (merged).
    - Remove any/cvs-fchmodat.diff (merged).
    - Remove any/cvs-gcc-4.3.diff (merged).
    - Remove any/cvs-iconv-iso2022jp-loop-bug.diff (merged).
    - Remove any/cvs-isoc99_vscanf.diff (merged).
    - Remove any/cvs-rfc3484.diff (merged).
    - Remove any/cvs-sched_h.diff (merged).
    - Remove any/cvs-strerror_r.diff (merged).
    - Remove any/local-strfry.diff (merged).
    - Remove any/cvs-strtod.diff (merged).
    - Remove any/cvs-tzfile.diff (merged).
    - Remove any/cvs-vfscanf.diff (merged).
    - Remove any/cvs-sunrpc_rpc_thread.diff (merged).
    - Remove any/cvs-wchar_h.diff (merged).
    - Remove any/local-dl-execstack.diff (outdated).
    - Remove any/local-gcc4-wcstol_l.diff (outdated).
    - Remove any/local-ip6-localhost.diff (fixed differently).
    - Remove any/local-notls.diff (outdated).
    - Remove any/submitted-ieee754_h.diff (merged).
    - Remove any/submitted-link-local_resolver.diff (merged).
    - Remove localedata/cvs-locale-ig_NG.diff (merged).
    - Remove localedata/cvs-locale-lo_LA.diff (merged).
    - Remove localedata/cvs-locale-ug_CN.diff (merged).
    - Remove localedata/locale-es_CR.diff (merged).
    - Remove localedata/locale-pt_PT.diff (merged).
    - Add patches/alpha/submitted-creat64.diff from Gentoo.
    - Add patches/alpha/submitted-dl-support.diff from Gentoo.
    - debian/shlibver: bump to 2.8.
    - debian/locales-depver: bump to 2.8.
  * Convert all patch to patchlevel -p1.  Closes: #485165.
  * debian/rules.d/quilt.mk: add a refresh target.
  * local/manpages/*: fix comments to make lintian happy.
  * locale/check-unknown-symbols.diff: changes errors to warnings.
  * debian/control.in/main: update Standards-Version to 3.8.0:
    - Add debian/README.source.
  * debian/rules, debian/rules.d/build.mk, debian/testsuite-checking/*:
    implement regression check, based on a patch from Carlos O'Donell.
  * testsuite-checking/expected-results-alpha-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-alphaev67-linux-alphaev67: new file.
  * testsuite-checking/expected-results-arm-linux-gnueabi-libc: new file.
  * testsuite-checking/expected-results-hppa-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-i486-kfreebsd-gnu-libc: new file.
  * testsuite-checking/expected-results-i486-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-i686-kfreebsd-i386: new file.
  * testsuite-checking/expected-results-i686-kfreebsd-i686: new file.
  * testsuite-checking/expected-results-i686-linux-i386: new file.
  * testsuite-checking/expected-results-i686-linux-i686: new file.
  * testsuite-checking/expected-results-i686-linux-xen: new file.
  * testsuite-checking/expected-results-ia64-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-mips-linux-gnu-libc: new file
  * testsuite-checking/expected-results-mips32-linux-mipsn32: new file.
  * testsuite-checking/expected-results-mips64-linux-mips64: new file.
  * testsuite-checking/expected-results-mips32el-linux-mipsn32: new file.
  * testsuite-checking/expected-results-mips64el-linux-mips64: new file.
  * testsuite-checking/expected-results-mipsel-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-powerpc-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-powerpc64-linux-ppc64: new file.
  * testsuite-checking/expected-results-s390-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-s390x-linux-s390x: new file.
  * testsuite-checking/expected-results-sparc64-linux-sparc64: new file.
  * testsuite-checking/expected-results-sparc-linux-gnu-libc: new file.
  * testsuite-checking/expected-results-sparcv9b-linux-sparcv9b: new file.
  * testsuite-checking/expected-results-x86_64-kfreebsd-gnu-libc: new file.
  * testsuite-checking/expected-results-x86_64-linux-amd64: new file.
  * testsuite-checking/expected-results-x86_64-linux-gnu-libc: new file.
  * control.in/main: build-depends on dpkg (>= 1.14.17).
  * Add symbols files for the various libraries, based on a patch by
    Raphaël Hertzog.  Closes: #462444.
  * localedata/supported.diff: sort locales by alphabetical order.  Closes:
    #493231.
  * debian/rules, debian/rules.d/build.mk, debian/sysdeps.mk/*: use a common
    huge TIMEOUTFACTOR for all architectures.
  * debian/sysdeps/mipsel.mk: use the correct triplet for mipsn32 and mips64
    builds.
  * debian/sysdeps/kfreebsd-amd64.mk: remove wrong symlink /lib32/lib32.
  * debian/sysdeps/amd64.mk,kfreebsd-amd64.mk: enable i686 optimizations.
  * debhelper.in/locales-all.prerm, debhelper.in/locales.postinst: remove
    prepended path.
  * debian/sysdeps/hppa.mk: use relative symlinks for hppa64 include
    directories.
  * patches/all/submitted-iconv-latin9.diff: add latin9 as an alias to
    latin-9 for consistency with other charsets.  Closes: #497449.
  * rules, rules.d/build.mk, debhelper.in/glibc-doc.manpages: install
    preprocessed manpages instead of raw ones.
  * debian/sysdeps/*.mk, script.in/kernelcheck.sh: bump minimal kernel
    version to 2.6.18.  Closes: #499689.
  * debian/control.in/main: add Vcs-Svn and Vcs-Browser field.  Closes:
    #499769.
  * debian/sysdeps/depflags.pl: add a conflict on nscd (<< 2.8) to libc
    Closes: #498516).
  * rules, rules.d/build.mk, debhelper.in/glibc-doc.manpages: install the
    generated manpages.
  * any/cvs-bug-iconv6_tst-iconv7.diff: new patch from upstream to fix
    bug-iconv6 and tst-iconv7 when the locales package is not installed.

  [ Petr Salinger ]
  * add any/local-linuxthreads-ptw.diff. Closes: #494908.
  * add kfreebsd/local-sysdeps28.diff, glibc 2.8 specific kfreebsd sysdeps.

  [ Samuel Thibault ]
  * Add hurd-i386/submitted-report-wait.diff.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 25 Oct 2008 21:22:39 +0200

glibc (2.7-18) unstable; urgency=low

  * patches/localedata/mt_MT_euro.diff, patches/localedata/el_CY_euro.diff:
    new patches to switch Cyprus and Malta currency to Euro.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 04 Jan 2009 11:28:23 +0100

glibc (2.7-17) unstable; urgency=low

  * patches/localedata/sk_SK_euro.diff: new patch to switch Slovakia
    currency to Euro.  Closes: bug#510423.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 02 Jan 2009 22:49:53 +0100

glibc (2.7-16) unstable; urgency=low

  * patches/any/submitted-rpcgen-makefile.diff: new patch to fix fancy
    Makefile filename when using rpcgen -a.  Closes: bug#503182.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 23 Oct 2008 15:39:04 +0200

glibc (2.7-15) unstable; urgency=low

  * debhelper.in/locales.config, debhelper.in/locales.postinst: modify
    /etc/locale.gen instead of regenerating it.  Closes: bug#494468.
  * any/cvs-nscd-getservbyport.diff: new patch from upstream to fix getservbyport()
    when nscd is used.  Closes: bug#500055.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 12 Oct 2008 23:04:27 +0200

glibc (2.7-14) unstable; urgency=low

  [ Petr Salinger ]
  * kfreebsd/local-sysdeps.diff: update to revision 2322 (from glibc-bsd).
  * extend kfreebsd/local-ftw.diff: do not use *at functions also in glob.c,
    this patch is applied only on kfreebsd, fixes globtest.out failure.
  * any/local-linuxthreads-weak.diff: new patch to pass
    stdio-common/scanf15.out test on linuxthreads platforms,
    although it seems to be rather gcc 4.x bug, see GCC Bugzilla Bug 37266.

  [ Aurelien Jarno ]
  * patches/mips/cvs-mknod.diff: new patch from upstream to allow > 255 minors
    on mips.  Closes: #493751.
  * patches/sparc/cvs-context.diff: new patch from upstream to add
    getcontext(), setcontext(), makecontext() on Sparc.  Closes: #295173.
  * patches/hppa/cvs-context.diff: new patch from upstream to add
    getcontext(), setcontext(), makecontext() on PARISC.  Closes: #492778.
  * any/local-ip6-localhost.diff: new patch from upstream BTS, to remove the
    ::1 -> 127.0.0.1 mapping.
  * any/cvs-isoc99_vscanf.diff: new patch from upstream to fix vscanf on
    non-GNU compilers.
  * Fix nosegneg pseudo hwcap.  Closes: #499366.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-lock-memory-clobber.diff: new patch from upstream
    to fix safety of locks.
  * patches/hurd-i386/local-pthread_posix-option.diff: new patch to advertise
    the libpthread from the hurd packages.
  * patches/hurd-i386/cvs-signal-werror.diff: new patch to fix gdb compilation.
  * patches/hurd-i386/local-tls-support.diff: fix cthread compilation.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 20 Sep 2008 10:00:36 +0200

glibc (2.7-13) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update Brazilian Portuguese debconf translation, by Felipe Augusto van de
    Wiel.  Closes: #485381.
  * patches/any/cvs-getaddrinfo.diff: new patch from CVS to correctly
    initialize internal resolver structures in getaddrinfo().  Closes:
    #489586.
  * Update Romanian debconf translation, by Eddy Petrişor.  Closes: #488734.
  * any/cvs-tst-regex.diff: new patch from CVS to add a timeout to tst-regex.
    Closes: #489856.
  * control.in/main: build depends on gcc-4.3 (>= 4.3.0-7), remove
    mips/local-gcc-ice.diff.
  * Update Swedish debconf translation, by Martin Bagge.  Closes: #492191.
  * Revert the changes to patches/hppa/cvs-atomic.diff, it was not the cause
    of the "tst-regex problem".
  * hppa/cvs-lowlevellock.diff: new patch from upstream to fix build of NPTL
    glibc on hppa.  Closes: #486589.

  [ Petr Salinger]
  * debian/sysdeps/kfreebsd.mk: also use the bsm/ directory from kernel
    headers.
  * kfreebsd/local-sysdeps.diff: update to revision 2265 (from glibc-bsd).
  * Disable call to "GL(dl_wait_lookup_done)" in linuxthreads builds. Proper
    solution still have to be created. Stop crashes in mean time. See #489066.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-MSG_NOSIGNAL.diff: New patch to implement
    MSG_NOSIGNAL.
  * patches/hurd-i386/local-msg-nosignal.diff: Forcibly set MSG_NOSIGNAL to 0
    until pfinet gets recompiled.  Only apply on hurd-i386.
  * Use gcc-4.3 on hurd-i386.
  * patches/hurd-i386/cvs-open_2.diff: New patch to implement __open_2
    and __openat_2. Together with kfreebsd update closes: #489357.
  * patches/hurd-i386/local-pthread_types.diff: New patch to drag pthread
    types from hurd headers.  Bump the hurd-dev dependency version
    accordingly.
  * patches/hurd-i386/cvs-fcntl-types.diff: New patch to include
    <sys/type.h> from <bits/fcntl.h> like on Linux.  Fixes a lot of FTBFS on
    hurd.
  * patches/hurd-i386/local-tls.diff: Resync with upstream.
  * patches/hurd-i386/local-tls-support.diff: Make tls.h also include
    <stdint.h> and <bits/libc-lock.h> include <tls.h>, like on Linux.
  * patches/hurd-i386/submitted-trivial.diff: Remove, thanks to updated tls.h.

  [ Pierre Habouzit ]
  * Cherry-pick upstream fixes with respect to locale rwlocks, merge them into
    patches/any/cvs-strerror_r.diff. Closes: #489906.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 29 Jul 2008 03:09:20 +0200

glibc (2.7-12) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/alpha/submitted-procfs_h.diff: don't include elf/asm.h on alpha,
    as it has been removed from linux-libc-dev.
  * patch/arm/cvs-ioperm.diff: don't include asm/page.h as it has been removed
    from linux-libc-dev.  Closes: #480892.
  * patches/hppa/cvs-atomic.diff: don't remove "memory" asm constraint. Fixes
    FTBFS on hppa.
  * Update Swedish debconf translation, by Martin Bagge.  Closes: #482467.
  * sysdeps/amd64.mk, sysdeps/i386.mk, control.in/main: bump g++-4.3 build-depends
    to (>= 4.3.0-2) to make sure the cld fix is applied. Use gcc-4.3 on amd64
    and i386.
  * patches/any/cvs-iconv-braces.diff: new patch from upstream to fix various
    iconv bugs.
  * local/manpages/nscd.conf.5: update nscd.conf manpage.  Closes: #482505.

  [ Clint Adams ]
  * Add any/cvs-regex_anchor.diff to fix performance anomaly with ^$.
    closes: #475474.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-termios.diff: update patch, fixes compilation of jove.
  * patches/hurd-i386/local-pthread-unsupported-stubs.diff: new patch to
    declare the unsupported function stubs, fixes compilation of pike.  Also
    bump the dependency on hurd-dev to get <gnu/stubs-pthread.h>.
  * patches/hurd-i386/local-unlockpt-chroot.diff: new patch to fix ptys in
    chroots.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 02 Jun 2008 19:14:35 +0200

glibc (2.7-11) unstable; urgency=low

  [ Aurelien Jarno ]
  * Re-enable testsuite on MIPS SB1 platforms.
  * mips/cvs-memory-barriers.diff: new patch from CVS to fix test_and_set.
  * mips/cvs-fcsr.diff: new patch from CVS to fix floating point control
    register accesses.
  * local/manpages/ld.so.8: fix libraries search order.  Closes: #473458.
  * Update Finish debconf translation, by Esko Arajärvi.  Closes: #473802.
  * Replace patches/mips/submitted-mipsn32.diff by the version merged
    upstream.
  * patches/hppa/cvs-atomic.diff: new patch from upstream to fix atomic
    locks witch gcc-4.3.
  * patches/any/cvs-rfc3484.diff: update tests from CVS.  Closes: #474226.
  * patches/localedata/locale-shs_CA.diff: add Secwepemctsín from CVS.
  * debhelper.in/libc-prof.README.Debian: new file to explain how to use
    libc-prof.  Closes: #442858.
  * patches/any/cvs-ethertype.diff: new patch to add new ETHERTYPE_*
    definitions.  Closes: #474171.
  * sysdeps/depflags.pl: conflicts with tzdata-etch.
  * kfreebsd/local-sysdeps.diff: update to revision 2163 (from glibc-bsd).
  * patches/s390/submitted-nexttowardf.diff: fix IEEE exceptions raising in
    nexttowardf() on s390 with gcc-4.3.
  * patches/i386/cvs-short-for-fnstsw.diff: patch for upstream to fix build
    with latest binutils.
  * patches/any/local-no-pagesize.diff: don't include asm/page.h from
    sys/user.h on alpha.  Closes: #480295.
  * patches/any/submitted-user_h.diff: don't include linux/user.h from
    sys/user.h.  Closes: #480093.
  * patches/hppa/submitted-fesetenv.diff: fix fesetenv() on hppa with
    gcc-4.3.
  * sysdeps/arm.mk, sysdeps/hppa.mk, sysdeps/s390.mk, control.in/main: use
    gcc-4.3 on arm, hppa and s390.
  * debian/shlibs-add-udebs: new script from Frans Pop to correctly compute
    the udev dependencies.  Closes: #474293.
  * rules.d/debhelper.mk: remove linda overrides installation.
  * debhelper.in/*lintian: update.
  * control.in/main: relax a few dependencies.
  * rules.d/debhelper.mk: avoid creating empty directories when building
    libc6-dbg.

  [ Pierre Habouzit ]
  * Add any/cvs-strerror_r.diff to make strerror_r actually thread safe.
    Closes: #456531.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-termios.diff: new patch to revamp ioctls/termios
  bits.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 11 May 2008 12:13:59 +0200

glibc (2.7-10) unstable; urgency=low

  * Update Chinese debconf translation, by LI Daobing.
  * Update Dutch debconf translation, by Bart Cornelis.  Closes: #468300.
  * Update Polish debconf translation, by Emilian Nowak.
  * Update Vietnamese debconf translation, by Clytie Siddall.  Closes: #468453.
  * Update Basque debconf translation, by Piarres Beobide.  Closes: #468463.
  * Update Romanian debconf translation, by Stan Ioan-Eugen.  Closes: #468671.
  * Update Czech debconf translation, by Miroslav Kure.  Closes: #468910.
  * Update Russian debconf translation, by Sergey Alyoshin.  Closes: #469037.
  * Update Korean debconf translation, by Sunjae Park.  Closes: #469097.
  * Update French debconf translation, by Christian Perrier.  Closes: #469249.
  * patches/localedata/locale-es_CR.diff: chane AM/PM format to "a.m./p.m."
    from "A.M/P.M.".
  * Remove uk_UA from patches/localedata/first_weekday.diff: merged upstream
    in a different way.  Closes: bug#469439.
  * patches/any/cvs-rfc3484.diff: update from CVS to allow the definition of
    IPv4 scopes in /etc/gai.conf.
  * patches/all/cvs-gai_conf.diff: update gai.conf from CVS to also mention
    Teredo tunnels and scopev4 defaults.
  * sysdeps/mips.mk, sysdeps/mipsel.mk: define TIMEOUTFACTOR.
  * patches/any/cvs-strtod.diff: new patch from CVS to fix strtod().  Closes:
    #465769.
  * Update Italian debconf translation, by Luca Monducci.  Closes: #469985.
  * control.in/main, sysdeps/*.mk, rules: build with gcc-4.3 by default,
    except on alpha, arm, hppa, s390 and hurd-i386.
  * rules, rules.d/build.mk: fix parallel build.
  * control.in/main: build witch gcc-4.2 on i386 and amd64, as gcc-4.3 does
    not emit cld instructions in the prologue of the functions anymore.
    Closes: #469568.
  * debian/rules.d/build.mk: disable testsuite on ARM machines running a
    2.6.21 to 2.6.24 kernel.
  * Replace any/submitted-gcc-4.3.diff by any/cvs-gcc-4.3.diff.
  * debhelper.in/libc.preinst, debhelper.in/libc.postinst: remove support for
    upgrade from Potato, and misc fixes.
  * control.in/main, rules.d/control.mk: remove @threads_arches@, as all
    architectures now support threads.
  * control.in/main, debhelper.in/glibc-source.install: build a glibc-source
    package.
  * sysdeps/mips.mk, sysdeps/mipsel.mk, control.in/main: enable n32 and 64
    flavours.  Closes: #341884.
  * Update Arabic debconf translation, by Ossama Khayat.  Closes: #471472.
  * rules.d/build.mk: reset LDFLAGS, as dpkg now defines it to a default
    value which breaks the glibc.
  * patches/mips/local-gcc-ice.diff: decrease optimisations on a few files
    to workaround gcc ICE on mips/mipsel n32/64.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-blocked-exceptions.diff: new patch to dump
    core when a blocked exception arises.
  * patches/hurd-i386/cvs-df.diff: new patch to clear DF for signal
    handlers (Closes: #470021).
  * patches/hurd-i386/local-gcc-4.1-init-first.diff: update and actually
    apply.
  * patches/hurd-i386/submitted-mig-init.diff: new patch to fix uninitialized
    local variables.
  * patches/hurd-i386/local-pthread_stubs.diff: new patch to use libpthread
    stubs from libpthread-stubs.  Add libpthread-stubs0-dev dependency on
    hurd-i386.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 27 Mar 2008 23:09:00 +0100

glibc (2.7-9) unstable; urgency=low

  * patches/any/local-ldso-disable-hwcap.diff: revert previous changes
    as they break etch -> lenny upgrades.  Closes: #465753.
  * kfreebsd/local-sysdeps.diff: update to revision 2137 (from glibc-bsd).
  * any/submitted-link-local_resolver.diff: kernel 2.6.24 is out, don't wait
    indefinitely for upstream. This patch from Pierre Ynard adds support for
    link-local addresses in /etc/resolv.conf.
  * Factorize NSS detection code:
    - debhelper.in/libc.preinst, debhelper.in/libc.postinst: move NSS code
      to...
    - script.in/nsscheck.sh: ... this file.
    - rules.d/debhelper.mk: Replace NSS_CHECK with code from
      script.in/nsscheck.sh.
  * debhelper.in/libc.preinst, debhelper.in/libc.templates: debconfize preinst
    script.
  * patches/localedata/locale-es_CR.diff: new patch to default to am/pm format
    for es_CR locale.  Closes: #466482.
  * control.in/main, sysdeps/amd64.mk, sysdeps/i386.mk,
    sysdeps/kfreebsd-amd64.mk, sysdeps/kfreebsd-i386.mk, sysdeps/sparc.mk : use
    gcc-4.3 on amd64, i386, kfreebsd-i386, kfreebsd-amd64 and sparc.
  * sysdeps/i386.mk, sysdeps/kfreebsd-i386.mk: use default gcc optimizations
    on i386 and kfreebsd-i386 (-march=i486 -mtune=generic).
  * debian/local/manpages/ldconfig.8: describe --ignore-aux-cache option.
    Closes: #467509.
  * Update Lithuanian debconf translation, by Gintautas Miliauskas.
  * Update Catalan debconf translation, by Jordi Mallach.
  * Update Spanish debconf translation, by Carlos Valdivia Yagüe.
  * Update German debconf translation, by Helge Kreutzman.  Closes: #468072.
  * Update Galician debconf translation, by Jacobo Tarrio.  Closes: #468080.
  * Update Slovak debconf translation, by Ivan Masár.  Closes: #468082.
  * Update Portuguese debconf translation, by Ricardo Silva.  Closes: #468091.
  * update Japanese debconf translation, by Kenshi Muto.  Closes: #468099.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 27 Feb 2008 19:14:37 +0100

glibc (2.7-8) unstable; urgency=low

  * any/cvs/rfc3484.diff: patch from CVS to fix recognition of interface
    family.  Closes: #465583.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 13 Feb 2008 17:12:18 +0100

glibc (2.7-7) unstable; urgency=low

  [ Arthur Loiret ]
  * patches/sh4/cvs-nptl-private-futexes.diff: new patch from CVS to fix
    FTBFS on sh4.

  [ Samuel Thibault ]
  * patches/hurd-i386/cvs-epfnosupport.diff: new patch to fix socket()
    error for IPV6.

  [ Aurelien Jarno ]
  * patches/any/local-ldso-disable-hwcap.diff: enable tls/ directory even
    when hardware capabilities are disabled. This workarounds a bug in
    nvidia-glx.  Closes: #453480.
  * patches/mips/local-r10k.diff: new patch from Florian Lohoff to
    workaround LL/SC bug on R10k.  Closes: #462112.
  * patches/mips/submitted-mipsn32.diff: new patch to fix truncate64()
    on MIPS n32.
  * kfreebsd/local-sysdeps.diff: update to revision 2129 (from glibc-bsd).
  * patches/any/cvs-epoll_h.diff: new patch from CVS to define EPOLLRDHUP
    in /usr/include/sys/epoll.h. Closes: #463342.
  * patches/any/submitted-gcc-4.3.diff: pass -isystem option for GCC's
    include-fixed/ directory. Fixes build with gcc-4.3.
  * debian/control.in/main: bump to Standards-Version 3.7.3.
  * debian/sysdeps/*.mk: build main flavours with -O2 instead of -O3 (risks to
    trigger a bug in the compiler are higher with -O3). Remove -g from cflags,
    as it is automatically added by the glibc scripts.
  * debhelper.in/nscd.init: depends on $remote_fs instead of $local_fs.
    Closes: #464022.
  * patches/any/submitted-ieee754_h.diff: use __BIG_ENDIAN instead of
    BIG_ENDIAN. Closes: #464594.
  * local/manpages/ld.so.8: Add missing options to manpage. Closes:
    #464395.
  * rules.d/build.mk: build the locales in the build target instead of the
    install one to workaround a bug in fakeroot.  Closes: #464924.
  * patches/alpha/local-dl-procinfo.diff: fix _dl_string_platform() to accept
    NULL pointers, which happens on statically linked binaries.  Closes:
    bug#456260.
  * local/manpages/gai.conf.5: new manpage.
  * any/submitted-rfc3484-sortv4.diff: Drop. Replaced by ...
  * ... any/cvs/rfc3484.diff: patch from upstream to fix various RFC3484
    issues:
    - Fix source IPv4 source address length computation.  Closes: bug#456779.
    - Only apply rule 9 for IPv4 if source and destination addresses are on
      the same subnet.  Closes: bug#438179.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 12 Feb 2008 22:29:56 +0100

glibc (2.7-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/localedata/locale-ks_IN.diff: new locale contributed by Rakesh
    Pandit.  Closes: #457351.
  * patches/series: enable patches/any/cvs-vfscanf.diff.  Closes: #453408.
  * Support dpkg-buildpackage -j, but only debian/rules is actually run in
    parallel.
  * patches/any/cvs-iconv-iso2022jp-loop-bug.diff: patch from CVS to fix
    iconv hang when converting to ISO-2022-JP. Thanks to Bryan Donlan for
    the patch.  Closes: #458579.
  * kfreebsd/local-sysdeps.diff: update to revision 2094 (from glibc-bsd).
  * patches/amd64/cvs-vdso_clock_gettime.diff: new patch from CVS to fix
    static linking on amd64.
  * patches/any/local-linuxthreads-fd.diff: new patch to make sure
    linuxthreads doesn't use stdin, stdout or stderr for its internal
    use.
  * debhelper.in/libc.preinst: also check for libc6-xen in non-dpkg-owned
    files test.  Closes: #459523.
  * patches/any/submitted-rfc3484-labels.diff: remove, this patch is actually
    broken, and the observed behaviour conforms with the RFC.
  * patches/any/submitted-fileops-and-signals.diff: disabled as it breaks too
    much programs.  Closes: #459643.
  * patches/localedata/locale-pt_PT.diff: new patch from Flávio Martins to
    fix mon_decimal_point for pt_PT.  Closes: #459217.
  * debian/debhelper.in/locales.postinst: don't update /etc/default/locale
    if it already exists and DEBCONF_RECONFIGURE is not empty.  Closes:
    #458914.
  * debian/sysdeps/depflags.pl: bump conflict against tzdata to (<< 2007k-1).

  [ Clint Adams ]
  * debhelper.in/nscd.init: use lsb output functions.  Closes: #457661.
  * patches/any/cvs-sunrpc_rpc_thread.diff: patch by André Cruz to fix
    sunrpc memory leak.  closes: #460226.

  [ Samuel Thibault ]
  * patches/hurd-i386/submitted-extern_inline.diff: new patch to fix extern
    inline declarations for c++.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 12 Jan 2008 15:33:10 +0100

glibc (2.7-5) unstable; urgency=low

  [ Aurelien Jarno ]
  * Moved merged parts of patches/any/submitted-sched_h.diff into
    patches/any/cvs-sched_h.diff.
  * patches/any/cvs-ether_line.diff: new patch from upstream to fix
    ether_line().  Closes: bug#453899.
  * patches/any/cvs-vfscanf.diff: new patch from upstream to fix
    crash when %as is used with sscanf().  Closes: bug#453408.
  * debian/rules: also set CXX when cross-compiling.
  * patches/any/submitted-malloc_h.diff: removed, replaced by
    patches/any/cvs-wchar_h.diff.
  * debian/sysdeps/depflags.pl: conflict against tzdata (<< 2007j-2) as
    etch now have version 2007j-1etch1.  Closes: bug#455783.
  * debian/sysdeps/depflags.pl: suggests libc6-i686 on i386 architecture.
    Closes: bug#455603.
  * any/submitted-rfc3484-labels.diff: new patch to fix RFC 3484 default
    label ordering.  Closes: bug#456779.
  * patches/alpha/local-dl-procinfo.diff: add missing part.  Closes:
    bug#456260.

  [ Petr Salinger]
  * kfreebsd/local-sysdeps.diff: update to revision 2082 (from glibc-bsd).
  * any/cvs-fchmodat.diff: properly declare as stub - needed by GNU/kFreeBSD.

  [ Samuel Thibault]
  * patches/hurd-i386/submitted-ioctl-unsigned-size_t.diff: update to also
    handle unsigned char/int/short/long and ssize_t.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 19 Dec 2007 01:22:06 +0100

glibc (2.7-4) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/localedata/locale-de_LI.diff: fix locale.  Closes: bug#453860.
  * debian/debhelper.in/locales.NEWS: fix location of the README file.
    Closes: bug#453515.
  * debian/debhelper.in/locales.README: rename into locales.README.Debian.
  * debian/debhelper/in/locales.NEWS: fix a typo.  Closes: bug#453613.
  * Update any/submitted-sched_h.diff: allow compilation of <sched.h> with
    -pedantic.  Closes: bug#453687.
  * Fix a typo in debian/sysdeps/alpha.mk.  Closes: bug#452890.
  * Disable amd64/local-x86_64_bits_sigcontext.diff.  Closes: #454598.
  * debhelper.in/libc.preinst: check for non-dpkg owned versions of
    libc6-i686 before upgrade.  Closes: #454557.
  * Load debconf frontend after the optimized libraries have been
    re-enabled.  Closes: #453480.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 07 Dec 2007 00:49:02 +0100

glibc (2.7-3) unstable; urgency=low

  [ Aurelien Jarno ]
  * Remove cs_CZ-first_weekday.diff: merged upstream in a different way.
    Closes: bug#344470.
  * Remove da_DK-first_weekday.diff: likewise.
  * Remove de_DE-first_weekday.diff: likewise.
  * Remove en_GB-first_weekday.diff: likewise.
  * Remove et_EE-first_weekday.diff: likewise.
  * Remove en_US-first_weekday.diff: likewise.
  * Remove fr_FR-first_weekday.diff: likewise.
  * Remove hu_HU-first_weekday.diff: likewise.
  * Remove nb_NO-first_weekday.diff: likewise.
  * Remove nn_NO-first_weekday.diff: likewise.
  * Remove pl_PL-first_weekday.diff: likewise.
  * Remove sk_SK-first_weekday.diff: likewise.
  * amd64, i386/local-clone.diff: restore patch to fix gij running out of
    memory, as it has been lost upstream.
  * debian/sysdeps/alpha.mk: fix alphaev67_rltddir.  Closes: #452890.
  * patches/localedata/locale-de_LI.diff: new locale contributed by Giacomo
    Catenazzi.  Closes: #453041.
  * debian/debhelper.in/locales-all.postinst: honor TMPDIR.  Closes: #453326.
  * patches/any/submitted-malloc_h.diff: defines __need_ptrdiff_t,
    __need_size_t and __need_NULL in malloc.h.  Closes: #453264.
  * support user defined locales in /usr/local/share/i18n.  Closes: #453131.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 29 Nov 2007 18:01:03 +0100

glibc (2.7-2) unstable; urgency=low

  [ Aurelien Jarno ]
  * sysdeps/alpha.mk: define alphaev67_MIN_KERNEL_SUPPORTED to 2.6.9.
    Closes: #452890.
  * alpha/submitted-fdatasync.diff: new patch to fix fdatasync() on alpha.
    Closes: #452081.
  * debian/script.in/nohwcap.sh: add libc6-alphaev67 to the list of optimized
    packages.
  * any/cvs-tzfile.diff: new patch from CVS to fix reading version 0 timezone
    data files.  Closes: #451892.
  * debhelper.in/locales.config, debhelper.in/locales.postinst,
    rules.d/debhelper.mk: rework the maintainer scripts of locales to handle
    locales addition or removal.
  * debhelper.in/locales.config: convert no_NO into nb_NO while upgrading.
    Closes: #452788.
  * debhelper.in/locales-all.NEWS, debhlper/locales-all.NEWS: add a note
    about no_NO locale.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 26 Nov 2007 19:03:17 +0100

glibc (2.7-1) unstable; urgency=low

  [ Clint Adams ]
  * New upstream release with linuxthreads snapshot.
    - Fixes an ABBA deadlock in ld.so.  Closes: #443460.
    - Render dgettext" thread safe.  Closes: #443660.
    - Fixes CVE-2007-4840 (multiple errors in iconv
      function).  Closes: #442250.
    - Fixes strtod("-0", 0).  Closes: #448723.
    - Remove localedata/locale-de_CH.diff (merged).
    - Update locale/fix-LC_COLLATE-rules.diff.
    - Update locale/LC_COLLATE-keywords-ordering.diff.
    - Update locale/fix-C-first_weekday.diff.
    - Update locale/preprocessor-collate.diff.
    - Update localedata/locales-fr.diff.
    - Remove localedata/locale-sa_IN.diff (merged).
    - Remove localedata/locale-wo_SN.diff (merged).
    - Update localedata/tailor-iso14651_t1.diff.
    - Add localedata/tailor-iso14651_t1-common.diff.
    - Remove localedata/fix-unknown-symbols.diff (merged).
    - Update localedata/first_weekday.diff.
    - Add localedata/cs_CZ-first_weekday.diff.
    - Add localedata/da_DK-first_weekday.diff.
    - Add localedata/pl_PL-first_weekday.diff.
    - Add localedata/de_DE-first_weekday.diff.
    - Add localedata/en_GB-first_weekday.diff.
    - Add localedata/en_US-first_weekday.diff.
    - Add localedata/et_EE-first_weekday.diff.
    - Add localedata/fr_BE-first_weekday.diff.
    - Add localedata/fr_CA-first_weekday.diff.
    - Add localedata/fr_CH-first_weekday.diff.
    - Add localedata/fr_FR-first_weekday.diff.
    - Add localedata/fr_LU-first_weekday.diff.
    - Add localedata/hu_HU-first_weekday.diff.
    - Add localedata/nb_NO-first_weekday.diff.
    - Add localedata/nn_NO-first_weekday.diff.
    - Add localedata/sk_SK-first_weekday.diff.
    - Add localedata/cy_GB-first_weekday.diff.
    - Update localedata/sort-UTF8-first.diff.
    - Remove localedata/submitted-as_IN.diff (merged).
    - Remove hppa/submitted-multiple-threads.diff (merged).
    - Remove hppa/submitted-ustat.diff (merged).
    - Remove hurd-i386/cvs-sigsuspend-nocancel.diff (merged).
    - Remove hurd-i386/cvs-lock-intern.diff (merged).
    - Remove sparc/local-undefined-registers.diff (obsolete).
    - Remove all/local-pt_BR.diff (merged).
    - Remove any/cvs-ld_library_path.diff (merged).
    - Remove any/cvs-initfini.diff (merged).
    - Remove any/cvs-posix-glob.diff (merged).
    - Update any/local-bashisms.diff.
    - Remove any/local-forward-backward-collation.diff (merged).
    - Remove any/local-version-sanity.diff (merged).
    - Remove any/submitted-strtok.diff (merged).
    - Remove any/submitted-regex-collate.diff (merged).
    - Remove localedata/locale-no_NO.diff (obsolete).
    - Update localedata/supported.diff.
  * Bump shlib version to 2.7-1.
  * Add localedata/cvs-locale-ig_NG.diff BZ#5224, missing collation symbols
    for ig_NG.
  * Add localedata/cvs-locale-lo_LA.diff BZ#5237, missing collation symbols
    for lo_LA.
  * Add localedata/cvs-locale-ug_CN.diff BZ#5238, missing collation symbols
    for ug_CN.

  [ Aurelien Jarno ]
  * any/submitted-longdouble.diff: update.
  * Improve any/submitted-rfc3484-sortv4.diff.
  * Update hurd-i386/submitted-trivial.diff.
  * any/local-strfry.diff: new patch to fix strfry(), as Ulrich Drepper
    has still not managed to commit a correct version.
  * Remove hppa/submitted-threaddb.diff (merged).
  * Update hppa/submitted-nptl-carlos.diff.
  * Update hurd-i386/submitted-libc_once.diff.
  * Remove hurd-i386/cvs-ioctl-delay.diff (merged).
  * Update hurd-i386/local-tls-support.diff.
  * Add hurd-i386/cvs-kernel-features.diff: provide almost empty
    kernel-features.h for files that include it.
  * Add arm/local-args6.diff: provide DOCARGS_6 and UNDOCARGS_5 for
    arm old-abi.
  * Add arm/local-lowlevellock.diff: new patch to fix build on arm.
  * debian/rules, debian/rules.d/build.mk: allow per architecture
    TIMEOUTFACTOR.
  * sysdeps/arm.mk, sysdeps/armel.mk, sysdeps/hppa.mk, sysdeps/s390.mk,
    sysdeps/sh4.mk: define TIMEOUTFACTOR.
  * locales-depver: tighten locales dependencies.
  * any/local-disable-test-tgmath2.diff: new patch to disable test-tgmath2,
    which take too much resources during compilation.
  * Add hurd-i386/submitted-strtoul.diff: new patch to use
    __strtoul_internal() instead of strtoul() in internal functions.
  * Add hurd-i386/submitted-ptr-mangle.diff: new patch to define PTR_MANGLE
    and PTR_DEMANGLE.
  * Update Galician debconf translation, by Jacobo Tarrio.  Closes: #447928.
  * Update Dutch debconf translation, by Bart Cornelis.  Closes: #448928.
  * Add sh4/local-fpscr_values.diff and any/local-allocalim-header.diff
    from Arthur Loiret.  Closes: #448248.
  * Fix encoding of Japanese translation.  Closes: #447221.
  * Add any/submitted-sched_h.diff: new patch to define `__CPU_ALLOC_SIZE.
  * Add mips/local-setjmp.diff: new patch to fix g++ tests on mips/mipsel.
  * Add any/local-fhs-nscd.diff: move nscd directory to /var/cache/nscd from
    /var/db/nscd.  Closes: #449198.
  * debhelper.in/nscd.postrm: remove /var/cache/nscd on purge.  Closes:
    #449193.
  * script.in/kernelcheck.sh, sysdeps/alpha.mk: bump minimum kernel version to
    2.6.9 for alpha.
  * script.in/kernelcheck.sh, sysdeps/sh4.mk: bump minimum kernel version to
    2.6.11 for sh4.
  * debian/patches/arm/local-eabi-wchar.diff: new patch from Riku Voipio to
    fiw WCHAR_MIN and WCHAR_MAX definitions on armel.  Closes: #444580.
  * debian/po/zh_CN.po: update from LI Daobing. Closes: #447866.
  * debhelper.in/locales-all.postinst: trap exit signal and remove temporary
    directory.  Closes: #447328.
  * debhelper.in/libc.NEWS: mention that the tzconfig script has been replaced
    by the maintainer scripts of tzdata.  Closes: bug#448796.
  * patches/all/local-alias-et_EE.diff: switch estonian locales alias to
    ISO-8859-15.
  * patches/alpha/submitted-fpu-round.diff: restore the old version of
    ceil/floor/rint functions.  Closes: #442568.
  * patches/alpha/local-dl-procinfo.diff: new patch to add platform
    capabilities support on alpha.
  * Add an ev67 flavour on alpha:  Closes: #229251
    - control.in/opt: add libc6-alphaev67 packages.
    - sysdeps/alpha.mk: add a new pass for ev67 flavour.
  * debian/local/manpages/iconv.1: document //translit and //ignore
    options.  Closes: #451304.
  * debian/local/manpages/getent.1: document exit codes.  Closes:
    #445631.
  * debian/local/manpages/ld.so.8: document $ORIGIN, $PLATFORM and $LIB
    features.  Closes: #444145.
  * local/manpages/ldconfig.8: remove --force option from the manpage
    to be consistent with the binary.  Closes: #451958.
  * kfreebsd/local-sysdeps.diff: update to revision 2046 (from glibc-bsd).

  [ Petr Salinger]
  * any/local-stdio-lock.diff: make _IO_*_lock linuxthreads compliant.
  * any/local-o_cloexec.diff: don't assume O_CLOEXEC is always defined.
  * any/local-linuxthreads-signals.diff: always use non-RT signal handler
    on GNU/kFreeBSD.

  [ Pierre Habouzit ]
  * Remove any/local-iconv-fix-trampoline.diff (obsolete).
  * Remove any/submitted-strfry.diff (merged).
  * Update any/submitted-rfc3484-sortv4.diff.
  * Update localedata/*first_weekday.diff.
  * Remove localedata/fix-am_ET.diff (obsolete).
  * Add locale/preprocessor-collate-uli-sucks.diff to revert Ulrich's
    preprocessor that isn't enough for Debian.
  * Update patches/locale/preprocessor-collate.diff.
  * Add alpha/submitted-PTR_MANGLE.diff (Closes: #448508).

  [ Samuel Thibault ]
  * hurd-i386/submitted-ptr-mangle.diff: Define PTR_MANGLE for assembly.
  * hurd-i386/cvs-O_CLOEXEC_fix.diff: New patch to fix conflicting O_CLOEXEC
    value.

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 23 Nov 2007 10:46:24 +0100

glibc (2.6.1-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * Update Spanish debconf translation, by Carlos Valdivia Yagüe.

  [ Clint Adams ]
  * debian/po/de.po: update from Helge Kreutzmann. closes: #442888.
  * debian/po/cs.po: update from Miroslav Kure. closes: #442904.
  * debian/po/it.po: update from Luca Monducci. closes: #443497.
  * debian/po/ja.po: update from Kenshi Muto. closes: #446577.
  * Add any/cvs-posix-glob.diff, fixing improper of treatment of \
    in glob(). closes: #445210

 -- Clint Adams <schizo@debian.org>  Sun, 14 Oct 2007 10:02:35 -0400

glibc (2.6.1-5) unstable; urgency=low

  [ Pierre Habouzit ]
  * remove any/local-sysmacros.diff: sorry for bug #439859 but it makes gimp
    (and presumably other software) FTBFS, it's too dispruptive.
    Closes: #442427.

  [ Clint Adams ]
  * amd64/local-x86_64_bits_sigcontext.diff: use a copy of the generic header
    for x86_64.  closes: #442418.

 -- Clint Adams <schizo@debian.org>  Sun, 16 Sep 2007 14:42:17 -0400

glibc (2.6.1-4) unstable; urgency=low

  * Disable any/local-ipv6-lookup.diff as it is causing breakages.
    Closes: bug#441857.
  * any/local-sysmacros.diff: use __inline instead of inline for
    compatibility with ANSI.  Closes: #441959.
  * patches/localedata/tailor-iso14651_t1.diff: correctly fix fi_FI
    locale.  Closes: bug#441026.
  * debian/rules.d/debhelper.mk: fix regex.  Closes: #441824.
  * Update French debconf translation, by Christian Perrier.  Closes:
    #442101.
  * any/submitted-regex-collate.diff: fix regex engine for multibyte
    characters and C collation.  Closes: #441355.
  * debian/local/manpages/locale-gen.8: fix manpage.  Closes: #442104.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 13 Sep 2007 17:05:17 +0200

glibc (2.6.1-3) unstable; urgency=low

  * sysdeps/amd64.mk: uses x86_64 headers also for the i486 flavour now
    that they are compatible.
  * sysdeps/i386.mk: uses x86_64 headers also for the main flavour.
  * debian/local/etc_default/locale: remove.  Closes: bug#441360.
  * sysdeps/*.mk: don't provide include symlink for bi-arch, but only
    an empty directory.
  * debian/rules.d/debhelper.mk: modify nscd/DEBIAN/control during build
    to workaround a dpkg-shlibdeps bug.  Closes: bug#433723.
  * debian/local/manpages/nscd.conf.5: document the persistent and shared
    cache options.  Closes: bug#338504.
  * patches/all/local-alias-UTF-8.diff: encode locales.alias in UTF-8.
    Closes: bug#404433.
  * debhelper.in/locales.links, debhelper.in/locales.install: move
    locales.alias into /etc and provide a symlink in
    /usr/share/locale/locale.alias.
  * patches/localedata/tailor-iso14651_t1.diff: fix fi_FI locale.  Closes:
    bug#441026.
  * kfreebsd/local-sysdeps.diff: update to revision 1998 (from glibc-bsd).
  * sysdeps/kfreebsd-amd64.mk: uses x86_64 headers also for the i486 flavour
    now that they are compatible.
  * any/local-sysmacros.diff: new patch to declare "major", "minor" and
    "makedev" as inline function instead of macros.  Closes: #439859.
  * debhelper.in/libc.postinst, debhelper.in/libc.templates: prompt user
    with debconf if it is available.  Closes: #440964.
  * debian/control.in/libc: suggests debconf | debconf-2.0.
  * Update Brazilian Portuguese debconf translation, by Felipe Augusto van de
    Wiel.
  * Update Vietnamese debconf translation, by Clytie Siddall.
  * Update Basque debconf translation, by Piarres Beobide.
  * Update Swedish debconf translation, by Daniel Nylander.
  * Update Slovak debconf translation, by Ivan Masár.
  * Update Lithuanian debconf translation, by Gintautas Miliauskas.
  * Update Russian debconf translation, by Sergey Alyoshin.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 11 Sep 2007 04:42:20 +0200

glibc (2.6.1-2) unstable; urgency=low

  [ Samuel Thibault ]
  * Rename hurd-i386/submitted-lock-intern.diff into
    hurd-i386/cvs-lock-intern.diff, hurd-i386/submitted-ECANCELED.diff
    into hurd-i386/cvs-ECANCELED.diff and
    hurd-i386/submitted-sigsuspend-nocancel.diff into
    hurd-i386/cvs-sigsuspend-nocancel.diff as the patches have been accepted
    upstream.
  * hurd-i386/local-tls-support.diff: update to fix TLS leak in /hurd/exec
    server.
  * hurd-i386/cvs-ioctl-delay.diff: new patch to add standard *DLY ioctl macros.
  * hurd-i386/submitted-IPV6_PKTINFO.diff: new patch to add standard
    IPV6_PKTINFO macro.

  [ Aurelien Jarno ]
  * debian/rules.d/build.mk: disable testsuite on ARM machines running a
    2.6.21 or 2.6.22 kernel.
  * debian/debhelper.in/locales.{prerm,postinst}: look for supported.tar.lzma
    instead of supported.tar.gz.
  * debian/local/etc_default/devpts: remove.
  * debian/local/etc_default/locale: new file.  Closes: bug#437404.
  * debhelper.in/locales.install: install it.
  * debian/local/manpages/locale.1: fix a typo.  Closes: bug#438114.
  * kfreebsd/local-sysdeps.diff: update to revision 1995 (from glibc-bsd).
  * any/submitted-rfc3484-sortv4.diff: new patch to allow bypassing RFC3484
    rule 9 for IPv4 adresses.  Closes: bug#438179
  * debian/debhelper.in/libc.preinst: change version check for NSS services to
    (<< 2.6-1).
  * debian/debhelper.in/libc.preinst: add proftpd to the list of services to
    restart.  Closes: bug#435640.
  * Bump shlibdeps version to 2.6.1-1 due to SPARC v9 transition.
  * New Slovak debconf translation, by Ivan Masár.  Closes: bug#438576.
  * any/local-ipv6-lookup.diff: new patch to do IPv6 lookups only when an
    IPv6 address is configured. Patch by Tollef Fog Heen and Andrew McMillan.
    Closes: #435646.

  [ Pierre Habouzit ]
  * Document new libc.conf in ld.so.conf.d that puts /usr/local/lib front.

 -- Aurelien Jarno <aurel32@debian.org>  Mon,  3 Sep 2007 18:15:37 +0200

glibc (2.6.1-1) unstable; urgency=low

  * New upstream version:
    - Workaround bug in java's unwinder.  Closes: #434484.

  [ Aurelien Jarno ]
  * debian/copyright: update.
  * Remove any/cvs-glibc-2_6-branch.diff (merged upstream).
  * Remove any/cvs-printf_fp.c.diff (merged upstream).
  * Remove sparc/submitted-gscope_flag.diff (merged upstream).
  * Remove arm/cvs-gscope_flag.diff (merged upstream).
  * Remove hppa/submitted-gscope_flag.diff (merged upstream).
  * Remove mips/cvs-gscope_flag.diff (merged upstream).
  * any/local-bindresvport_blacklist.diff: patch from openSUSE to
    add support for /etc/bindresvport.blacklist.
  * debian/local/etc/bindresvport.blacklist: new default configuration
    file.
  * debian/debhelper.in/libc.install: install it!
  * debian/rules.d/debhelper.mk: fix arguments order when calling find.
  * kfreebsd/local-sysdeps.diff: update to revision 1992 (from glibc-bsd).
  * any/local-linuxthreads-gscope.diff: update for kfreebsd futexes.
  * i386/local-linuxthreads-gscope.diff: update for kfreebsd futexes.
  * amd64/local-linuxthreads-gscope.diff update for kfreebsd futexes.

  [ Samuel Thibault ]
  * hurd-i386/local-gscope.diff: resync, mostly merged upstream.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 07 Aug 2007 13:34:26 +0200

glibc (2.6-5) unstable; urgency=low

  [ Aurelien Jarno ]
  * mips/cvs-gscope_flag.diff: new patch to fix build on mips/mipsel.
  * arm/cvs-gscope_flag.diff: new patch to fix build on arm/armel.
  * any/cvs-initfini.diff: new patch from upstream to fix crti.o on
    ppc64.  Closes: #434626.
  * debian/sysdeps/powerpc.mk: build libc6-ppc64 with gcc-4.2.
  * debian/sysdeps/alpha.mk: build with gcc-4.2.
  * debian/control: Remove build-depend on gcc-4.1 on powerpc and alpha.
  * sparc/submitted-gscope_flag.diff: update from upstream.
  * hppa/submitted-gscope_flag.diff : new patch to fix build on hppa
    with NPTL.
  * any/local-linuxthreads-gscope.diff: new patch to add gscope support
    to linuxthreads.
  * hppa/local-linuxthreads-gscope.diff: new patch to fix build on hppa
    with linuxthreads.  Closes: #434799.
  * cvs-printf_fp.c.diff: new patch to print the correct number of digits
    with %#g.
  * amd64/local-linuxthreads-gscope.diff: new patch to fix build on *amd64
    with linuxthreads.
  * i386/local-linuxthreads-gscope.diff: new patch to fix build on *i386
    with linuxthreads.
  * kfreebsd/local-sysdeps.diff: update to revision 1989 (from glibc-bsd).
  * any/submitted-longdouble.diff: patch from Carlos O'Donell to fix long
    double tests.
  * any/submitted-libgcc_s.so.diff: patch from Carlos O'Donell to allow
    differents libgcc_s.so SONAME on architecture basis.
  * hppa/submitted-fadvise64_64.diff: patch from Carlos O'Donell to add
    support for fadvise64_64 syscall.
  * debian/control: Simplify build-dependencies.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 29 Jul 2007 17:25:52 +0200

glibc (2.6-4) unstable; urgency=low

  [ Samuel Thibault ]
  * sysdeps/hurd.mk (CC, BUILD_CC): Remove.
  * control: Build-depend on gcc-4.2 on hurd-i386.

  [ Pierre Habouzit ]
  * any/cvs-glibc-2_6-branch.diff: upstream branch pull, includes:
    + any/cvs-ld-integer-overflow.diff
    + any/cvs-malloc.diff
    + any/cvs-nis-nss-default.diff
    + any/cvs-nscd-short-replies.diff
    + any/cvs-vfscanf.diff

  [ Aurelien Jarno ]
  * debian/sysdeps/powerpc.mk: build libc6-ppc64 with gcc-4.1 as gcc-4.2
    produces broken binaries.
  * debian/control: Build-depend on gcc-4.1 on powerpc
  * debian/control: Build-depend on g++-4.1/g++-4.2 and
    g++-4.1-multilib/g++-4.2-multilib.
  * debian/*.NEWS: move to debian/debhelper.in/*.NEWS.
  * rules.d/debhelper.mk: remove debian/*.NEWS on clean.
  * sparc/submitted-gscope_flag.diff: new patch to fix build on sparc.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 26 Jul 2007 08:57:48 +0200

glibc (2.6-3) unstable; urgency=low

  [ Aurelien Jarno ]
  * script.in/kernelcheck.sh: s/kernel_compare_version/linux_compare_versions/
    for arm.
  * script.in/kernelcheck.sh: the minimum kernel version is now 2.6.8 and not
    2.6.1.  Closes: bug#432721.
  * hppa/submitted-threaddb.diff: new patch from Randolph Chung to fix
    debugging interface for NPTL on hppa.
  * Drop SPARC V8 support:
    - control.in/opt: drop libc6-sparcv9.
    - sysdeps/sparc.mk: drop libc6-sparcv9.
    - script.in/kernelcheck.sh: add check for SPARC V8 or earlier CPU.
    - patches/series: disable sparc/submitted-timing.diff.
    - patches/sparc/local-sparcv8-target.diff: rename to
      local-sparcv9-target.diff and default to v9.
  * Build with gcc-4.2 except on alpha (untested).
  * patches/any/cvs-ld_library_path.diff: new patch from CVS to fix segfaults
    with empty LD_LIBRARY_PATH variable.
  * rules.d/build.mk: create /etc/ld.so.conf.d/libc.conf to add
    /usr/local/lib as a default search path.  Closes: #395177.
  * Honor parallel= option in DEB_BUILD_OPTIONS.  Closes: #413744.

  [ Pierre Habouzit ]
  * rules.d/debhelper.mk: add some magic to copy debian/bug/$pkg/ files into
    /usr/share/bug/.
  * add libc6-i386/presubj to document /usr/lib32 issues not being a
    libc6-i386 problem.
  * add locales/presubj about locales depends that are correct, and tell bug
    reporters how to look for their package being built or not.
  * add patches/any/local-missing-linux_types.h.diff to add missing
    #include <linux/types.h> due to migration to linux-libc-dev.
    Closes: #433962.

  [ Samuel Thibault ]
  * hurd-i386/local-tls-support.diff: new patch to support TLS.
  * debian/sysdeps/hurd.mk (libc_extra_config_options): Removed
    --without-__thread, --without-tls and libc_cv_z_relro=no.
  * hurd-i386/local-atomic-no-multiple_threads.diff: new patch, hurd-i386
    doesn't need the multiple_threads field.
  * hurd-i386/local-gscope.diff: new patch, backport of the CVS global scope.
  * hurd-i386/local-no-strerror_l.diff: new patch to disable non-implemented
    strerror_l().
  * hurd-i386/submitted-lock-intern.diff: new patch to fix a header inclusion.
  * sysdeps/depflags.pl: make libc0.3 depend on TLS-enabled hurd packages.
  * hurd-i386/local-sigsuspend-nocancel.diff: renamed into
    submitted-sigsuspend-nocancel.diff.
  * hurd-i386/submitted-ECANCELED.diff: new patch to fix ECANCELED value.
    Closes: #396135.
  * hurd-i386/local-gcc-4.1-init-first.diff: New patch by Thomas
    Schwinge to fix building with gcc-4.1.
  * sysdeps/hurd.mk (CC, BUILD_CC): Change to gcc-4.1.
  * control: Depend on gcc-4.1 on hurd-i386.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 23 Jul 2007 08:01:26 +0200

glibc (2.6-2) unstable; urgency=low

  [ Clint Adams ]
  * Add any/cvs-nis-nss-default.diff: preserve errno.
  * Add any/cvs-vfscanf.diff: add additional test for EOF
    in loop to look for conversion specifier to avoid testing of
    wrong errno value.

  [ Aurelien Jarno ]
  * Add any/cvs-ld-integer-overflow.diff: fix an integer
    overflow in ld.so.  Closes: bug#431858.
  * hppa/submitted-multiple-threads.diff: new patch to fix an FTBFS on
    hppa.  Closes: bug#428509, bug#429487.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 10 Jul 2007 09:17:49 +0200

glibc (2.6-1) unstable; urgency=low

  [ Pierre Habouzit ]
  [ Clint Adams]
  * New upstream version.
   - Remove locale/iso3166-RS.diff (obsolete).
   - Remove locale/fix-exhausted-memory.diff (merged upstream).
   - Update locale/LC_COLLATE-keywords-ordering.diff.
   - Remove localedata/locale-hy_AM.diff (obsolete).
   - Remove localedata/locale-pl_PL.diff (merged upstream).
   - Remove localedata/locales-sr.diff (obsolete).
   - Update localedata/tailor-iso14651_t1.diff.
   - Update localedata/first_weekday.diff.
   - Remove alpha/cvs-cfi.diff (merged upstream).
   - Remove arm/cvs-check_pf.c (merged upstream).
   - Remove hppa/cvs-hppa-update.diff (obsolete).
   - Update hppa/submitted-nptl-carlos.diff from "upstream".
   - Remove hppa/submitted-nptl-carlos2.diff (merged upstream).
   - Remove hppa/local-r19use.diff (merged upstream).
   - Remove hurd-i386/cvs-futimes.diff (merged upstream).
   - Remove m68k/cvs-m68k-update.diff (obsolete).
   - Update m68k/local-mathinline_h.diff.
   - Remove mips/cvs-ldsodefs_h.diff (merged upstream).
   - Remove mips/submitted-msq.diff (merged upstream).
   - Remove all/cvs-iconv-E13B.diff (obsolete).
   - Remove all/submitted-new-brf-encoding.diff (merged upstream).
   - Remove any/cvs-2.5-branch-update.diff (obsolete).
   - Remove any/cvs-pow.diff (obsolete).
   - Remove any/cvs-printf_fp-c.diff (obsolete).
   - Remove any/cvs-ftw-c.diff (obsolete).
   - Remove any/cvs-bits_in_h-ipv6.diff (obsolete).
   - Remove any/cvs-itoa-c.diff (obsolete).
   - Remove any/cvs-lt-update.diff (obsolete).
   - Remove any/cvs-realpath.diff (obsolete).
   - Remove any/cvs-vfprintf-stack-smashing.diff (obsolete).
   - Remove any/cvs-zdump-64-bit.diff (obsolete).
   - Update any/local-ldso-disable-hwcap.diff.
   - Remove any/submitted-gethostbyname_r.diff (obsolete).
   - Remove any/submitted-iconv-colon.diff (merged upstream).
   - Update any/submitted-strfry.diff.
   - Remove any/submitted-unistd_XOPEN_VERSION.diff (obsolete).
   - Remove any/cvs-glob-c.diff (obsolete).
   - Remove any/cvs-scanf_hexfloat.diff (obsolete).
   - Remove alpha/submitted-sigsuspend.diff (merged upstream).
   - Remove arm/cvs-procinfo-eabi.diff (obsolete).
  * debian/sysdeps/depflags.pl: Clean out relationships for packages
    that do not exist in sarge or later.
  * debian/debhelper.in/libc.install: do not hardcode the glibc
    version number in the path to gai.conf.
  * debian/control.in/main, debian/sysdeps/depflags.pl:
    use linux-libc-dev on all linux architectures, and
    remove all references to linux-kernel-headers.
  * Bump shlibdeps version to 2.6-1 due to sync_file_range, futimens,
    utimensat, __sched_cpucount, sched_getcpu, strerror_l, and
    epoll_pwait symbols.
  * debian/rules.d/build.mk: pass --enable-profile to configure.

  [ Aurelien Jarno ]
  * patches/sparc/local-undefined-registers.diff: new file to ignore
    global registers while looking for undefined symbols.
  * debian/script.in/kernelcheck.sh: add a warning for FreeBSD kernels
    5.X.
  * local/etc_init.d/glibc.sh, debhelper.in/libc.preinst: don't check for
    linux kernel, it is now done in script.in/kernelcheck.sh.
  * patches/any/cvs-malloc.diff: new patch from upstream to fix malloc ABI.
  * patches/any/local-linuxthreads-lowlevellock.diff: new patch to support
    low level locking on linuxthreads.
  * patches/any/local-linuxthreads-fatalprepare.diff: new patch to support
    FATAL_PREPARE on linuxthreads, by not using __libc_pthread_functions_init
    and PTHFCT_CALL.
  * patches/hppa/local-linuxthreads.diff: new patch to get glibc buildable on
    hppa with linuxthreads.
  * patches/arm/submitted-RTLD_SINGLE_THREAD_P.diff: fix a missing #defined
    on arm.
  * patches/localedata/submitted-as_IN.diff: new patch to fix a not anymore
    unassigned unicode code.
  * locales-depver: tighten locales dependencies.
  * debian/sysdeps/linux.mk, debian/script.in/kernelcheck.sh: bump minimum
    kernel requirement to 2.6.8.
  * debian/rules, debian/rules.d/build.mk, debian/sysdeps/*.mk: also defines
    CXX as g++ is used in the testsuite.

  [ Petr Salinger]
  * kfreebsd/local-sysdeps.diff: update to revision 1949 (from glibc-bsd).
  * any/local-linuxthreads-defines.diff: new patch to restore a few defines
    in config.make.in still needed by linuxthreads.
  * patches/local-tst-mktime2.diff: fix time/tst-mktime2.c.

  [ Pierre Habouzit ]
  * kernelchecks.sh: Make the warning about kernel 2.6 more explicit so that
    people can deal with it without adding yet-another critical bug on the
    glibc.
  * kernelchecks.sh: add some quotes to unconfuse syntax hilighting a bit.
  * nscd.init: ksh is confused if you call functions start or stop.
    Closes: 428884.
  * patches/locale/preprocessor-collate.diff: update it to work (with
    restrictions) with depth >= 2 copies. The patch is scurvy and make locale
    parsing completely non reentrant.
  * debian/control: ${Source-Version} -> ${binary:Version}.
  * debian/debhelper.in/nscd.lintian: yes, /var/db for lintian is ok.
  * patches/any/submitted-fileops-and-signals.diff: fixes libio file
    operations in presence of recoverable errors.
    Closes: 429021.
  * patches/localedata/fix-am_ET.diff: fix am_ET using our preprocessor
    extensions.

  [ Samuel Thibault ]
  * Remove patches/hurd-i386/cvs-getsid.diff (merged upstream).
  * patches/hurd-i386/submitted-ioctl-unsigned-size_t.diff: new patch to fix
    some packages that use unsigned or size_t in ioctls.
    Closes: 431365.

 -- Clint Adams <schizo@debian.org>  Sat, 07 Jul 2007 09:43:02 -0400

glibc (2.5-11) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/hppa/submitted-pie.diff: new patch to fix PIE on hppa. Patch by
    Sébastien Bernard and John David Anglin.  Closes: #427990.
  * debian/debhelper.in/libc.preinst: use -e instead of -f to canonicalize
    links.  Closes: #427416.

  [ Pierre Habouzit ]
  * pass -X/usr/lib/debug to dh_makeshlibs so that libc6-dbg gets no useless
    shlibs.  Closes: #427637.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 11 Jun 2007 15:06:21 +0200

glibc (2.5-10) unstable; urgency=low

  [ Aurelien Jarno ]
  * kfreebsd/local-sysdeps.diff: update to revision 1942 (from glibc-bsd).
    Thanks to Petr Salinger.
  * arm/cvs-procinfo-eabi.diff: patch from CVS to not include asm/procinfo.h.
  * any/submitted-strtok.diff: new patch to fix a typo in strings/strtok.c.
    Closes: #426118.
  * debian/sysdeps/depflags.pl: depends on libgcc1/libgcc2/libgcc4.
  * any/cvs-nscd-short-replies.diff: new patch from CVS to fix crash on
    short replies.
  * sysdeps/depflags.mk, sysdeps/depflags.pl: use DEB_HOST_ARCH_OS and
    DEB_HOST_ARCH instead of DEB_HOST_GNU_SYSTEM and DEB_HOST_GNU_TYPE.
  * debian/sysdeps/arm.mk, debian/script.in/kernelcheck.sh: bump minimum
    kernel requirement to 2.6.12 on arm to get __ARM_NR_set_tls syscall.
    Closes: #421037.
  * debian/sysdeps/armel.mk: bump minimum kernel requirement to 2.6.14
    on armel.
  * patches/series: disable any/local-ldconfig-timestamps.diff as this
    patch does not take into account sub-directories.

  [ Clint Adams ]
  * debian/local/manpages/ld.so.8: quote accepted values for LD_DEBUG.
    closes: #426101.
  * New Malayalam debconf translation, by Sajeev പിആര്‍.
    closes: #426203.
  * Update Vietnamese debconf translation, by Clytie Siddall.
    closes: #426824.

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 03 Jun 2007 19:01:50 +0200

glibc (2.5-9) unstable; urgency=low

  * debian/patches/arm/local-ioperm.diff: Remove the check
    involving LINUX_VERSION_CODE.
  * debian/patches/hppa/submitted-atomic_h.diff: update to loop again
    when the kernel returns -EDEADLOCK.  Workaround: #425567.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 22 May 2007 17:03:23 +0200

glibc (2.5-8) unstable; urgency=low

  [ Aurelien Jarno ]
  * debian/sysdeps/depflags.pl: Add a conflicts on binutils
    (<< 2.17cvs20070426-1) for libc-dev.  Closes: #422625.

  [ Clint Adams ]
  * debian/sysdeps/depflags.pl: Clean out relationships for packages
    that do not exist in sarge or later.
  * debian/debhelper.in/libc.install: do not hardcode the glibc
    version number in the path to gai.conf.
  * debian/control.in/main, debian/sysdeps/depflags.pl:
    use linux-libc-dev to build on all linux architectures.
    (retain Depends alternative on linux-kernel-headers)

  [ Aurelien Jarno ]
  * debian/local/etc_init.d/glibc.sh: fix a typo.  Closes: #423870.
  * debian/patches/hppa/submitted-atomic_h.diff: new patch to fix the
    atomic CAS function on hppa.  Closes: #424057.
  * debian/control.in/main: unify the gcc-4.1 depends to (>= 4.1.2-6).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 20 May 2007 03:43:09 +0200

glibc (2.5-7) unstable; urgency=low

  * debian/sysdeps/i386.mk: switch from --includir= to amd64_includedir.
  * debian/local/etc_init.d/glibc.sh: fix the broken comment.  Closes:
    #422587.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 07 May 2007 11:45:41 +0200

glibc (2.5-6) unstable; urgency=low

  * patches/any/cvs-vfprintf-stack-smashing.diff: new patch from
    upstream (fix enormous alloca triggered with %-X.Ys like formats
    specifier, with Y big, and in multi-byte locales). Closes: #380195,
    #421555.
  * patches/hppa/cvs-hppa-update.diff: update from CVS to fix
    bits/pthreadtypes.h on hppa.
  * patches/any/local-disable-nscd-host-caching.diff: the comment lines
    should have the '#' on the first column.  Closes: #421882.
  * Remove patches/any/local-Rminkernel.diff (not needed anymore).
  * debian/patches/hppa/submitted-ustat.diff: new patch from Jeff Bailey
    to makes glibc build with exported kernel headers.
  * debian/patches/hppa/submitted-nptl-carlos2.diff: new patch to add
    STACK_GROWS_UP case to NPTL.
  * debian/patches/hppa/local-r19use.diff: new patch from Carlos O'Donell
    (specify r19 as input to asms that save/restore).
  * debian/patches/alpha/cvs-cfi.diff: new patch from CVS (fix
    cfi instructions in sysdep-cancel.h).  Closes: #422067.
  * debian/sysdeps/kfreebsd-i386.mk: tune for i686.
  * debian/sysdeps/i386.mk: drop i386-linux-gnu compat symlinks, all the
    toolchain is now using i486-linux-gnu.
  * Merge from multiarch tree:
    - debian/rules: define localedir, sysconfdir and rootsbindir.
    - debian/rules.d/build.mk: use $(localedir), $(sysconfdir) and
      $(rootsbindir) instead of hardcoded values. Make includedir
      flavour specific.
    - debian/sysdeps/amd64.mk: define i386_includedir.
    - debian/sysdeps/powerpc.mk: define ppc64_includedir.
    - debian/sysdeps/ppc64.mk: define powerpc_includedir.
    - debian/sysdeps/s390.mk: define s390x_includedir.
    - debian/sysdeps/kfreebsd-amd64.mk: define i386_includedir.
    - debian/sysdeps/sparc.mk: define sparc64_includedir.
  * debian/control.in/main: build-depends on gcc-4.1.2 (>= 4.1.2-6) on
    hppa.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 07 May 2007 03:27:10 +0200

glibc (2.5-5) unstable; urgency=low

  [ Aurelien Jarno ]
  * Rename patches/all/submitted-iconv-E13B.diff into
    patches/all/cvs-iconv-E13B.diff as the patch has been accepted
    upstream.
  * debian/debhelper.in/libc.NEWS: new file to warn user to upgrade
    to a 2.6.1 or later kernel before upgrading the glibc.
  * debian/script.in/kernelcheck.sh: improve the kernel error message.
  * New Tamil debconf translation, by Tirumurti Vasudevan.  Closes:
    #420755.
  * script.in/nohwcap.sh: use sed instead of awk.  Closes: #420799.
  * Update Catalan debconf translation, by Jordà Polo.  Closes: #420835.
  * Add support for n32 and 64 ABIs on mips and mipsel, but keep it
    disabled for now:
    - control.in/main: add libc6-dev-mipsn32, libc6-dev-mips64 to the
      build-dependencies.
    - control.in/mips64: add libc6-mips64 and libc6-dev-mips64 packages.
    - control.in/mipsn32: add libc6-mipsn32 and libc6-dev-mipsn32 packages.
    - rules.d/control.mk: use control.in/mips64 and control.in/mipsn32.
    - sysdeps/mips.mk: add two new passes for n32 and 64 ABIs.
    - sysdeps/mipsel.mk: likewise.
  * debian/control.in/main: drop build-depends on libssp32 and libssp64,
    build-depends on gcc-4.1 (>= 4.1.2-5) instead. Drop build-conflicts
    on gcc-4.1 (= 4.1.1-14). Closes: #413370.
  * debian/sysdeps/hppa.mk: switch back to gcc-4.1.
  * debian/debhelper.in/libc.preinst: add a check for silly users having
    LD_ASSUME_KERNEL=2.4.1 in their /etc/profile, ~/.bashrc or shell
    init script.
  * debian/control.in/main: build depends on binutils (>= 2.17cvs20070426-1).
    Closes: #405738.
  * debian/shlibver: bump shlib to 2.5-5 for the transition to
    hash-style=gnu.
  * debian/control.in/main: build depends on gcc-4.1-multilib on bi-arch
    architectures.
  * control.in/amd64, control.in/i386, control.in/kfreebsd-i386,
    control.in/mipsn32, control.in/mips64, control.in/powerpc,
    control.in/ppc64,  control.in/s390x, control.in/sparc64: drop the
    depends on lib32gcc1/lib64gcc1. Recommends gcc-multilib.
  * debhelper.in/libc.postint: remove the version check when creating
    ld.so.conf.  Closes: #420726.

  [ Michael Banck ]
  * patches/hurd-i386/local-dl-dynamic-weak.diff: new patch (turn
    _dl_dynamic_weak on by default for hurd-i386).

  [ Pierre Habouzit ]
  * nscd.init:
     + use nscd --shutdown rather than start-stop-daemon to stop nscd more
       gracefuly. Closes: #338507.
     + also invalidate hosts on reload.
     + drop oldies (nscd_nischeck things, does not exists anymore).
  * patches/any/cvs-scanf_hexfloat.diff: fix a bug when parsing a float in
    hexadicimal form with no exponent. Closes: #166403.
  * disable hosts caching in nscd by default as it breaks gethostby* calls
    (does not respect DNS TTLs, see #335476):
     + document it in nscd.NEWS.Debian.
     + patches/any/local-disable-nscd-host-caching.diff: update nscd.conf.

  [ Clint Adams ]
  * Switch from linux-kernel-headers to linux-libc-dev | linux-kernel-headers.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 30 Apr 2007 21:55:09 +0200

glibc (2.5-4) unstable; urgency=low

  * debian/rules.d/build.mk: fix the testsuite workaround on the MIPS SB1
    platform.
  * debian/locales-all.README.Debian: Remove again, it is useless now.
    (Closes: #378191)
  * debhelper.in/libc.preinst: use dpkg-query instead of looking into
    /var/lib/dpkg/info. Thanks to Guillem Jover for the hint.
  * patches/mips/cvs-ldsodefs_h.diff: new patch (correct multiple
    inclusion guard in sysdeps/mips/ldsodefs.h) from CVS.
  * patches/any/cvs-printf_fp-c.diff: update patch from CVS (fix exponent
    -4 special case handling when wcp == wstartp + 1).  Closes: #419225.
  * patches/any/cvs-bits_in_h-ipv6.diff: new patch from CVS (defines
    IPV6_V6ONLY in bits/in.h).  Closes: #420188.
  * debhelper.in/libc.preinst: check the library files instead of links
    while checking for a non-dpkg owned libc6 in /lib/tls. Links are
    recreated by ldconfig.
  * patches/any/cvs-realpath.diff: new patch (fix wrong comment about
    realpath() in /usr/include/stdlib) from CVS.  Closes: #239427.
  * debian/local/manpages/iconv.1: mention that -t is optional.  Closes:
    #354292.
  * debian/local/manpages/iconv.1: mention that multiple fils could be
    specified on the command line.  Closes: #340911.
  * debian/patches/any/submitted-strfry.diff: new patch (fix strfry()
    distribution) by Steinar H. Gunderson.  Closes: #341903.
  * patches/all/submitted-iconv-E13B.diff: new patch to fix wrong E13B
    charset alias. patches/any/submitted-iconv-colon.diff: new patch to
    allow colons in charset names.  Closes: #91935.
  * New Hungarian debconf translation, by Attila Szervác.  Closes: #420420.
  * debian/patches/any/local-ldd.diff: update to discard the error message
    that appears if one of the dynamic loader is not supported by the
    kernel.  Closes: #263494.
  * debian/patches/arm/cvs-check_pf.c: new patch (fix assertion in
    check_pf.c) from CVS.  Closes: #420552.
  * debian/debhelper.in/glibc-doc.links: add missing manpages links for
    functions documented with others.  Closes: #413989.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 23 Apr 2007 11:41:18 +0200

glibc (2.5-3) unstable; urgency=low

  [ Pierre Habouzit ]
  * patches/any/submitted-unistd_XOPEN_VERSION.diff: set _XOPEN_VERSION to 600
    when __USE_XOPEN2K is set. Closes: #203412.
  * patches/any/cvs-glob-c.diff: fixes glob wrt \/ escapes (among other
    fixes). Closes: #234880.

  [ Aurelien Jarno ]
  * Update Italian debconf translation, by Luca Monducci.  Closes: #419399.
  * Put back ld.so into optimized packages, it can be useful in some cases.
  * Update French debconf translation, by Christian Perrier.  Closes: #419445.
  * Switch from gzip to lzma for compressing the locales in the locales-all
    package. The unpacked size is decreased by 10 and the packed size by 4 for
    no measurable difference on the unpacking time.
  * patches/any/submitted-gethostbyname_r.diff: new patch to fix unaligned
    memory access in gethostbyname_r.diff().  Closes: #419459.
  * Rewrite from scratch /etc/ld.so.nohwcap handling.  Closes: #419036
    - script.in/nohwcap.sh: new snipplet to check dpkg and handle
      /etc/ld.so.nohwcap
    - rules.d/debhelper.mk: replace NOHWCAP with nohwcap.sh in debhelper
      scripts
    - debhelper.in/libc.preinst: only touch /etc/ld.so.nohwcap
    - debhelper.in/libc.postinst: replace the old code with NOHWCAP,
      add code to remove /etc/ld.so.hwcappkgs file on upgrade
    - debhelper.in/libc-otherbuild.postrm: replace the old code with NOHWCAP
    - debhelper.in/libc-otherbuild.postinst: ditto
    - debhelper.in/libc-otherbuild.preinst: remove
  * debhelper.in/libc.install: remove /usr/bin/lddlibc4 from the libc6
    package.
  * debhelper.in/libc.preinst: check for a non-dpkg owned libc6 in /lib/tls.
    Closes: #419189.
  * Update Dutch debconf translation, by Bart Cornelis.  Closes: #419729.
  * debhelper.in/libc.postinst: fix the chroot detection, code taken from
    udev scripts.
  * debian/rules.d/build.mk: disable testsuite on the MIPS SB1 platform.
  * patches/localedata/first_weekday.diff: Add first_workday for *_NO
    and *_DK. Closes: #379100.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 19 Apr 2007 07:55:58 +0200

glibc (2.5-2) unstable; urgency=low

  * Update Portuguese debconf translation, by Ricardo Silva.  Closes: #418301,
    #418472.
  * Update Brazilian Portuguese debconf translation, by Felipe Augusto van de
    Wiel.  Closes: #418332.
  * Update Romanian debconf translation, by Stan Ioan-Eugen.  Closes: #418337.
  * Update Turkish debconf translation, by Erçin Eker.  Closes: #418340.
  * Update Galician debconf translation, by Jacobo Tarrio.  Closes: #418365.
  * Update Arabic debconf translation, by Ossama Khayat.  Closes: #418378.
  * Update German debconf translation, by Helge Kreutzmann.  Closes: #418426.
  * Update Basque debconf translation, by Piarres Beobide.  Closes: #418521.
  * Update Swedish debconf translation, by Daniel Nylander.  Closes: #418545.
  * Update Spanish debconf translation, by Carlos Valdivia Yagüe.  Closes:
    #418720.
  * Update Russian debconf translation, by Yuri Kozlov.  Closes: #418748.
  * Update Czech debconf translation, by Miroslav Kure.  Closes: #418767.
  * debian/locales-depver: remove exp from the locales version.
  * Replace patches/alpha/submitted-sigsuspend.diff by
    patches/alpha/cvs-sigsuspend.diff from upstream.
  * patches/any/local-ldconfig-fsync.diff: call fsync() before closing
    /etc/ld.so.cache.  Closes: #416716.
  * Update Korean debconf translation, by Sunjae Park.  Closes: #418872.
  * patches/any/local-notls.diff: also include pthread.h from
    linuxthreads/sysdeps/pthread/gai_misc.h.
    m68k/cvs-m68k-update.diff: update from CVS.  Closes: #418881.
  * debian/local/usr_sbin/tzconfig: removed.
  * debian/local/manpages/tzconfig.8: removed.
  * debian/sysdeps/depflags.pl: conflict with tzdata (<< 2007e-2). Older
    versions need tzconfig.
  * patches/any/cvs-printf_fp-c.diff: update patch from CVS (fix exponent
    -4 special case handling when wcp == wstartp + 1).  Closes: #419225.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 14 Apr 2007 17:23:17 +0200

glibc (2.5-1) unstable; urgency=low

  * New upstream version 2.5.
    - Adds support of POSIX_MADV_* on mips, mipsel, arm and hppa.  Closes:
      #381294.
    - Fixes a pointer-to-long overflow in sunrpc code. Closes: #389084.
    - Fixes getent wrt ipv4 hosts lookups. Closes: #347358.
    - Fixes strtod wrt hex floats with negative exponent. Closes: #172562.
    - Fixes nice() errno when called without appropriate privileges.  Closes:
      #286825.
    - Provides sys/inotify.h. Closes: #369402.
    - Fixes strtod("INF") with some locales. Closes: #415417.

  [ Aurelien Jarno ]
  * debian/shlibver: Bump up to 2.5.
  * debian/copyright: update.
  * Remove locale/cvs-iso3166.diff (merged upstream).
  * Remove localedata/locale-ro_RO.diff (merged upstream).
  * Remove arm/cvs-portshead.patch (merged upstream).
  * Remove arm/local-dwarf2-buildfix.diff (merged upstream).
  * Remove hppa/cvs-clone.patch (merged upstream).
  * Remove hppa/cvs-portshead.diff (merged upstream).
  * Remove hppa/submitted-drop-utimes.diff (merged upstream).
  * Remove hurd-i386/cvs-machrules-make.diff (merged upstream).
  * Remove mips/cvs-fork.diff (merged upstream).
  * Remove mips/cvs-resource.diff (merged upstream).
  * Remove powerpc/cvs-procfs.diff (merged upstream).
  * Remove any/cvs-argp_h.diff (merged upstream).
  * Remove any/cvs-getcwd_c.diff (merged upstream).
  * Remove any/cvs-sysctl.diff (merged upstream).
  * Remove any/cvs-thread_signals.diff (merged upstream).
  * Remove any/cvs-uio_h.diff (merged upstream).
  * Remove any/cvs-sunrpc-xdrmem_setpos.diff (merged upstream).
  * Remove any/cvs-getent-wrong-struct-size.diff (merged upstream).
  * Remove any/submitted-strfmon.diff (merged upstream).
  * Remove all/submitted-uninitialized-byte-LC_CTYPE.diff (merged upstream).
  * Remove any/local-ttyname-devfs.diff (devfs is not supported anymore).
  * Update arm/local-no-hwcap.diff.
  * Update any/local-ldso-disable-hwcap.diff.
  * Update all/submitted-new-brf-encoding.diff.
  * debhelper.in/libc.docs: remove INTERFACE as it has been removed upstream.
  * sysdeps/depflags.pl: don't make libc6 depends on tzdata, as this package
    is of priority required. Should help to debconfize tzdata.
  * sysdeps/i386.mk: put the static Xen libc flavour in /usr/lib/xen.  Closes:
    #391372.
  * sysdeps/powerpc.mk: install 64-bit headers (actually gnu/stubs-64.h)
    directly into /usr/include and provide /usr/include/powerpc64-linux-gnu as
    a symlink to /usr/include for compatibility reasons.  Closes: #391858.
  * sysdeps/ppc64.mk: install 32-bit headers (actually gnu/stubs-32.h)
    directly into /usr/include and provide /usr/include/powerpc-linux-gnu as
    a symlink to /usr/include for compatibility reasons.
  * kfreebsd/local-scripts.diff: update.
  * kfreebsd/local-sys_queue_h.diff: update.
  * kfreebsd/local-sysdeps.diff: update to revision 1689 (from glibc-bsd).
  * kfreebsd/local-sysdeps-2.4.diff: remove.
  * sysdeps/kfreebsd: enable the ports add-on.
  * sysdeps/kfreebsd-i386.mk: ditto.
  * any/local-stubs_h.diff: new patch to fix a warning in stubs.h.  Closes:
    #394128.
  * alpha/submitted-sigsuspend.diff: new patch (fix the build on alpha) from
    the libc-alpha mailing list.
  * debian/local/manpages/*: fix typos.  Closes: #395427.
  * debian/debhelper.in/libc.dirs: don't provide /sys, now provided by
    initscripts.
  * debian/debhelper.in/nscd.init: add lsb header.
  * debian/rules.d/debhelper.mk: add support for installing lintian and linda
    overrides files.
  * debian/debhelper.in/libc.overrides: new file.
  * debian/debhelper.in/libc-dev.overrides: new file.
  * debian/debhelper.in/libc-alt.overrides: new file.
  * debian/debhelper.in/libc-otherbuild.overrides: new file.
  * debian/debhelper.in/libc-dev-otherbuild.overrides: new file.
  * debian/any/submitted-getcwd-sys_param_h.diff: new patch (fix the build
    with linuxthreads) from the libc-alpha mailing list.
  * debian/powerpc/cvs-tls-debug.diff: new patch (fix for debugging
    thread-local variables on powerpc) from CVS.
  * Build depends on gcc-4.2 on hppa to enable TLS on hppa.  Closes: #397813.
  * debian/patches/hppa/cvs-hppa-update.diff: new patch (CVS update).
  * debian/sysdeps/hppa.mk, debian/script.in/kernelcheck.sh: bump minimum
    kernel requirement to 2.6.9 on hppa to get LWS CAS support.
  * debian/any/patches/local-linuxthreads-semaphore_h.diff: new patch (fix
    /usr/include/semaphore.h with linuxthreads).
  * sysdeps/sparc.mk: install 64-bit headers (actually gnu/stubs-64.h)
    directly into /usr/include and provide /usr/include/sparc64-linux-gnu as
    a symlink to /usr/include for compatibility reasons.  Closes: #403980.
  * sysdeps/*.mk: build with -g instead of -g1.  Closes: bug#403270.
  * debhelper.in/libc.install: install gai.conf in /etc.  Closes: #404379.
  * Add patches/any/local-ldconfig-timestamps.diff (use the timestamps to
    update the cache only when needed) by Josselin Mouette.  Closes: #374945.
  * Add partial support for armel, from http://armel-debs.applieddata.net/diffs/.
  * debian/debhelper.in/: delete /usr/doc removal from postinst scripts.
  * debian/control.in: drop the dependency on tzdata. It is a required package
    and the glibc from Etch depends on it, ensuring tzdata is always present
    post-Etch.
  * debian/script.in/kernelcheck.sh, debian/sysdeps/linux.mk: set the minimum
    kernel version to 2.6.1, except on m68k where it is set to 2.4.1.
  * patches/any/cvs-2.5-branch-update.diff: new patch (2.5 branch update) from
    upstream CVS.
  * patches/any/cvs-lt-update.diff: new patch (linuxthreads update) from
    upstream CVS.
  * debhelper.in/locales.templates: recommends UTF-8 locales by default.
    Closes: #312927.
  * control.in/main, rules.d/debhelper.mk: use dh_shlibdeps to set the
    dependencies of nscd.  Closes: #409288.
  * sysdeps/s390.mk: install 64-bit headers (actually gnu/stubs-64.h)
    directly into /usr/include and provide /usr/include/s390x-linux-gnu as
    a symlink to /usr/include for compatibility reasons.
  * patches/all/local-pthread-manpages.diff: update to fix a typo in
    pthread_detach(3).  Closes: #98852.
  * Change any/local-__thread.diff into any/local-notls.diff.
  * Update any/local-notls.diff (make glibc buildable without TLS support)
    from Petr Salinger and Aurelien Jarno.
  * hurd-i386/submitted-trivia.diff: new patch from Thomas Schwinge (make glibc
    partly buildable on Hurd).
  * hurd-i386/submitted-stat.diff: new patch from Thomas Schwinge (update
    struct stat on Hurd).
  * hurd-i386/submitted-libc_once.diff: new patch from Thomas Schwinge (add
    __libc_once_else to make glibc buildable on Hurd).
  * hurd-i386/local-msg-nosignal.diff: new patch from Thomas Schwinge
    (workaround the missing MSG_NOSIGNAL support).
  * m68k/cvs-m68k-update.diff: new patch (bits from CVS).  Closes: #364098.
  * any/submitted-clock-settime.diff: new patch (include <time.h> to get
    clockid_t).
  * hurd-i386/local-sigsuspend-nocancel.diff: new patch (workaround missing
    sigsuspend_not_cancel() on Hurd).
  * debhelper.in/glibc-doc.links: add symlinks from pthread_setcanceltype(3),
    pthread_setcancelstate(3) and pthread_testcancel(3) to pthread_cancel(3).
    Closes: #411132.
  * debian/control.in/i386: Changed the conflicts on ia32-libs-dev to a
    versioned conflict.  Closes: #407540.
  * any/local-mktemp.diff: new patch (also propose mkdtemp as an alternative
    to mktemp).  Closes: #377310.
  * any/cvs-ftw-c.diff: new patch (fix nftw() with FTW_CHDIR in /) from CVS.
    Closes: #367522.
  * any/cvs-printf_fp-c.diff: new patch (fix printf %#.0g) from CVS.
    Closes: #209136.
  * New Norwegian bokmål debconf translation, by Bjørn Steensrud.  Closes:
    #412559.
  * Remove patches/arm/local-softfloat.diff and patches/series.arm-softfloat.
    Remove arm-softfloat from debian/rules.d/control.mk. armel (ARM EABI)
    replaces the softfloat architecture.
  * patches/any/cvs-pow.diff: new patch (fix pow(-inf, nan)) from upstream.
    Closes: #226291.
  * Update Catalan debconf translation, by Jordà Polo.  Closes: #413259.

  [ Denis Barbier ]
  * Remove localedata/locale-en_NZ.diff (merged upstream).
  * Remove localedata/locale-nr_ZA.diff (merged upstream).
  * Remove localedata/new-catalan-locales.diff (merged upstream).
  * Remove localedata/update-ZA.diff (merged upstream).
  * Remove localedata/locale-te_IN.diff (merged upstream).
  * Remove locale/iso4217-RON.diff (merged upstream).
  * Update localedata/locales_CH.diff
  * Update localedata/supported.diff
  * Update localedata/locale-hy_AM.diff
  * Update localedata/locale-csb_PL.diff
  * Update localedata/dz_BT-collation.diff
  * Update localedata/locale-ia.diff
  * Update localedata/locales-sr.diff
  * Update localedata/tailor-iso14651_t1.diff
  * Update localedata/fix-lang.diff
  * Update localedata/first_weekday.diff

  [ Pierre Habouzit ]
  * Adding myself to Uploaders.
  * Rework patches/any/local-ldd.diff so that we don't use file(1) anymore (it
    wasn't used anyway). Closes: #165417, #413095.
  * Rework patch for #340871 (patches/m68k/local-mathinline_h.diff to use
    __NTH rather than __THROW) in function implementations.
  * Fix rpcgen(1) manpage, to match rpcgen(1) behaviour more closely.
    Closes: #46175.
  * patches/any/submitted-date-and-unknown-tz.diff: fix date output in case of
    an unknown timezone in $TZ, submitted upstream as #4028.
    Closes: #55648, #119540, #269238.

  [ Michael Banck ]
  * patches/hurd-i386/local-tls.diff: New patch (fixes building with TLS) by
    Samuel Thibault and Barry deFreese.  Closes: #413787.

  [ Clint Adams ]
  * debian/watch: add watch file.
  * debian/control, debian/control.in/opt, debian/control.in/main,
    debian/control.in/libc0.1, debian/control.in/libc,
    debian/debhelper.in/locales.templates: English corrections from
    Christian Perrier for Debconf templates and package descriptions.
    Closes: #418006.

 -- Clint Adams <schizo@debian.org>  Mon, 09 Apr 2007 16:17:20 -0400

glibc (2.4-1) UNRELEASED; urgency=low

  * New upstream version 2.4:
    - NPTL is used instead of linuxthreads on alpha.  Closes: #325600.
    - NPTL being the default thread library when available, only one
      version of the thread library is available (either linuxthreads or
      NPTL).  Closes: #399035.
    - .eh_frame has been fixed.  Closes: #349688.
    - Fix a memory leak in getprotobyname. Closes: #365233.
    - Support for MALLOC_PERTURB has been added.  Closes: #350579.
    - Support for 2.4 kernels has been removed.  Closes: #258740.

  [ Clint Adams ]
  * Remove all/cvs-manual-memory.diff (merged upstream).
  * Remove all/cvs-manual-string.diff (merged upstream).
  * Remove any/cvs-divdi3-moddi3.diff (merged upstream).
  * Remove any/cvs-errlist.diff (merged upstream).
  * Remove any/cvs-siginfo_h.diff (merged upstream).
  * Remove any/cvs-regcomp_c.diff (merged upstream).
  * Remove any/cvs-tst-setcontext_c.diff (merged upstream).
  * Remove any/local-dash.diff (merged upstream).
  * Remove any/local-gcc4-elf.diff (merged upstream).
  * Remove powerpc/cvs-executable-got.diff (merged upstream).
  * Remove sparc/cvs-datastart.diff (merged upstream).
  * Remove sparc/cvs-gcc4-inline.diff (merged upstream).
  * Remove sparc/local-gcc4-mv8.diff (merged upstream).
  * Remove sparc/submitted-socket-weakalias.diff (merged upstream).
  * Remove everything to do with nscd_nischeck.
  * Remove any/local-linuxthreads-sizefix.diff (not necessary anymore).
  * Update hppa/submitted-lt.diff.
  * debian/shlibver: Bump up to 2.4-1.
  * Update any/local-bashisms.diff: fix invalid test operator (==)
    in run-iconv-test.sh
  * debian/rules.d/build.mk: don't try to build html documentation.
  * debian/sysdeps/hppa.mk: use ports and linuxthreads add-ons
  * debian/sysdeps/m68k.mk: use ports and linuxthreads add-ons
  * debian/sysdeps/m32r.mk: use ports and linuxthreads add-ons
  * debian/sysdeps/mips.mk: use ports add-on
  * debian/sysdeps/mipsel.mk: use ports add-on
  * debian/sysdeps/arm.mk: use ports add-on
  * Build with gcc 4.1 on all architectures but hurd-i386.
  * debian/debhelper.in/nscd.init: partially sync nscd initscript
    with upstream.
  * Remove mips/local-librt.diff.
  * debian/rules.d/tarball.mk: no longer run tar with -v.
  * Add hppa/cvs-portshead.patch (update hppa code to ports HEAD)
  * Add arm/cvs-portshead.patch (update arm code to ports HEAD)

  [ Denis Barbier ]
  * Remove locale/complex-collate.diff (merged upstream).
  * Remove locale/cvs-{iso4217,iso639}.diff, locale/cvs-localedata.diff
  * Remove from any/local-forward-backward-collation.diff a chunk merged
    upstream.
  * debian/rules.d/tarball.mk: glibc-<foo>-2.4.tar.bz2 add-on unpacks
    into either <foo> or glibc-<foo>-2.4, in which case it is renamed
    into <foo>.

  [ Michael Banck ]
  * debian/sysdeps/hurd.mk: Only use libidn for add-ons.

  [ Aurelien Jarno ]
  * Update all/submitted-new-brf-encoding.diff.
  * Remove alpha/cvs-gcc4-profile.diff (not needed anymore).
  * Update alpha/submitted-xstat.diff.
  * Update arm/cvs-gcc4-inline.diff.
  * Remove arm/cvs-gcc4.1-raise.diff (merged upstream).
  * Remove arm/cvs-float-byteorder.diff (merged upstream).
  * Remove arm/cvs-socket-weakalias.diff (merged upstream).
  * Update arm/local-ioperm.diff to reflect the new port add-on.
  * Update arm/local-no-hwcap.diff to reflect the new port add-on.
  * Remove any/cvs-argp_h.diff (merged upstream).
  * Remove any/cvs-ctan.diff (merged upstream).
  * Remove any/cvs-futimes.diff (merged upstream).
  * Remove any/cvs-nfs_h.diff (merged upstream).
  * Remove any/cvs-path_log.diff (merged upstream).
  * Remove any/cvs-resource_h.diff (merged upstream).
  * Remove any/cvs-static-getpid.diff (merged upstream).
  * Remove any/cvs-tls-crashfix.diff (merged upstream).
  * Add any/cvs-uio_h.diff from upstream to allow inclusion of bits/uio.h from
    fcntl.h and prevent multiple inclusions.
  * Remove any/local-kernel-features.diff (merged upstream).
  * Update any/local-ldso-disable-hwcap.diff.
  * Add any/local-linuxthreads-tst-sighandler.diff to disable
    tst-sighandler{1,2} tests, which seems to be buggy.
  * Update any/local-rtld.diff.
  * Update any/local-sysctl.diff to reflect the new port add-on.
  * Update any/local-version-sanity.diff.
  * Remove any/submitted-eh-frame-terminator.diff (merged upstream).
  * Update any/submitted-nis-netgrp.diff.
  * Remove i386/local-i486_ldt_support.diff (merged upstream).
  * Remove ia64/cvs-gcc41-atomic_h.diff (merged upstream).
  * Remove hppa/cvs-linesep.diff (merged upstream).
  * Remove hppa/cvs-no-ldbl-128 (merged upstream).
  * Replace hppa/cvs-pie-relocs.diff by submitted-nptl-carlos.diff, see
    http://lists.parisc-linux.org/pipermail/parisc-linux/2006-July/029549.html.
  * Remove hppa/local-gcc-4-profile.diff (not necessary anymore).
  * Update hppa/local-inlining.diff to reflect the new port add-on.
  * Remove hppa/local-remove-mallocdef.diff (not necessary anymore as
    spinlock ldcw fix has been applied).
  * Update hppa/submitted-drop-utimes.diff.
  * Remove hppa/submitted-fenv-align.diff (merged upstream).
  * Remove hppa/submitted-fpu.diff (merged upstream).
  * Remove hppa/submitted-iitlbp.diff (merged upstream).
  * Remove hppa/submitted-sysdeps.diff (merged upstream).
  * Remove hurd-i386/cvs-ioctl-pfinet.diff (merged upstream).
  * Remove hurd-i386/cvs-getresuid-dyslexia.diff (merged upstream).
  * Remove hurd-i386/cvs-posix-opts.diff (merged upstream).
  * Update hurd-i386/submitted-sysvshm.diff.
  * Remove kfreebsd/local-nscd_no_mremap.diff (not necessary anymore).
  * Update kfreebsd/local-scripts.diff.
  * Add kfreebsd/local-ftw.diff.
  * Add kfreebsd/local-sysdeps-2.4.diff.
  * Add kfreebsd/local-memusage_no_mremap.diff.
  * Remove m32r/cvs-elf-m32r_rel32.diff (merged upstream).
  * Update m68k/local-compat.diff.
  * Update m68k/local-mathinline_h.diff to reflect the new port add-on.
  * Update m68k/local-fpic.diff.
  * Update m68k/local-reloc.diff to reflect the new port add-on.
  * Update m68k/submitted-gcc34-seccomment.diff.
  * Add mips/cvs-fork.diff (fix the path to i386/fork.c) from CVS.
  * Add mips/cvs-resource.diff (fix a typo in bits/resource.h) from CVS.
  * Remove mips/cvs-gcc4-inline.diff (merged upstream).
  * Remove mips/cvs-gcc4-sysdeps.diff (merged upstream).
  * Update mips/submitted-msq.diff to reflect the new port add-on.
  * Remove powerpc/cvs-gcc41-initfini.diff (merged upstream).
  * Update any/local-libgcc-compat-{all,others}.diff and split them into
    any/local-libgcc-compat-{main,ports}.diff. Move mips/libgcc-compat.c to
    mips/mips32/libgcc-compat.c as it is only needed for the o32 ABI, and not
    needed for n32 and n64 ABIs.
  * Add sparc/local-fork.diff (use fork.c instead of fork.S).
  * Add any/local-__thread.diff (make glibc buildable without __thread support)
    from Michael Banck.
  * debian/script.in/kernelcheck.sh: set the minimum kernel version to 2.6.0,
    except on m68k where it is set to 2.4.1.
  * debian/sysdeps/i386.mk: install the xen flavour in /lib/i686/nosegneg and
    create /etc/ld.so.conf.d/libc6-xen.conf which uses the new hwcap feature.
    Closes: #363442.
  * debian/FAQ: Remove LD_ASSUME_KERNEL workaround, as linuxthreads versions
    of the glibc are not built anymore.

  [ Jeff Bailey ]

  * debian/control.in/libc: Move tzdata dependancy to ...
  * debian/sysdeps/depflags.mk: ... here.

  * debian/sysdeps/powerpc.mk: Include biarch headers in libc6-dev-ppc64

  * debian/patches/any/local-dynamic-resolvconf.diff: New file to
    check for updated resolv.conf before a nameserver call.  (Closes:
    #272265).
  * debian/patches/series: Use it.

 -- Clint Adams <schizo@debian.org>  Sun, 28 May 2006 03:28:14 +0200

glibc (2.3.6.ds1-13) unstable; urgency=low

  * debhelper.in/libc.postinst: try to add /etc/ld.so.conf.d support for
    versions lower then 2.3.6.ds1-11 instead of 2.3.6-16, because new
    installations done with version from 2.3.6-16 to 2.3.6.ds1-10 are
    broken.  Closes: #411542.

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 21 Feb 2007 11:07:13 +0100

glibc (2.3.6.ds1-12) unstable; urgency=low

  [ Pierre Habouzit ]
  * patches/any/cvs-sunrpc-xdrmem_setpos.diff: fix a pointer-to-cast problem
    in sunrpc, backport from glibc-2.5. Closes: #389084.
  * patches/any/cvs-getent-wrong-struct-size.diff: fix a bad struct size in
    nss/getent.c, backport from glibc-2.5. Closes: #347358.
  * patches/any/local-sysctl.diff: sysctl is back for good it seems, remove
    the link warning from the patch. Closes: #410816.

  [ Aurelien Jarno ]
  * debian/control.in/opt: fix a typo: Ezla -> Ezra.  Closes: #410839.

 -- Pierre Habouzit <madcoder@debian.org>  Thu, 15 Feb 2007 18:41:06 +0100

glibc (2.3.6.ds1-11) unstable; urgency=low

  * patches/kfreebsd/local-sysdeps.diff: update to revision 1886 (from
    glibc-bsd).
  * patches/any/cvs-itoa-c.diff: new patch from CVS (fix sprintf %0lld when
    argument equals to 0).  Closes: bug#292523.
  * patches/all/local-pthread-manpages.diff: fix pthread manpages.  Closes:
    bug#220719.
  * debhelper.in/libc-otherbuild.postinst: fix handling of
    /etc/ld.so.hwcappkgs.  Closes: bug#409374.
  * debhelper.in/libc.postinst: fix code adding /etc/ld.so.conf.d support to
    /etc/ld.so.conf.  Closes: bug#409516.

 -- Aurelien Jarno <aurel32@debian.org>  Sat,  3 Feb 2007 20:13:29 +0100

glibc (2.3.6.ds1-10) unstable; urgency=low

  * sysdeps/kfreebsd.mk: Link all machine*/ directories to support
    new bi-arch headers.
  * Add bi-arch support on kfreebsd-amd64:
    - debian/sysdeps/kfreebsd-amd64.mk: New pass for 32-bit glibc
    - debian/control.in/main: Add build-depends on libc0.1-dev-i386
    - debian/control.in/kfreebsd-i386: add libc0.1-dev-i386 and
      libc0.1-i386 packages
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1853 (from
    glibc-bsd).
  * debian/control.in/libc: downgrade priority of libc-dev to optional
    from standard to match overrides.
  * debian/patches/hppa/cvs-clone.diff: new patch by Helge Deller
    <deller@gmx.de> inspired from upstream CVS code (fix LTP clone04 and
    clone06 test).  Closes: #405411.
  * debian/patches/any/cvs-zdump-64-bit.diff: new patch from CVS to fix zdump
    on 64-bit architectures.  Closes: #402776.
  * debian/quitlrc: new file.
  * debian/rules.d/quilt.mk: use debian/quiltrc instead of default ~/.quiltrc.
    Closes: #406136.

 -- Aurelien Jarno <aurel32@debian.org>  Mon,  8 Jan 2007 22:29:37 +0100

glibc (2.3.6.ds1-9) unstable; urgency=low

  [ Aurelien Jarno ]
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1775 (from
    glibc-bsd).
  * debian/po/eu.po: new file, thanks to Piarres Beobide.  Closes: #398984.
  * debian/wrapper/objcopy: remove useless .debug_loc (patch from Daniel
    Jacobowitz).  Closes: #399217.
  * debian/po/de.po: Fix German translation.  Closes: #372817.

  [ Michael Banck ]
  * patches/hurd-i386/submitted-futimes.diff: Moved to ...
  * patches/hurd-i386/cvs-futimes.diff: ... here, updated with the
    version committed upstream by Roland McGrath.

 -- Aurelien Jarno <aurel32@debian.org>  Thu,  7 Dec 2006 11:27:42 +0100

glibc (2.3.6.ds1-8) unstable; urgency=high

  * any/local-iconv-fix-trampoline.diff: new patch (fix iconvconfig segfault
    when run under exec-shield, PaX or similar) from hlfs.  Closes: #397020.
  * debian/po/ro.po: new file, thanks to Stan Ioan-Eugen.  Closes: #395348.
  * debhelper.in/locales.prerm; debhelper.in/locales.prerm,
    debhelper.in/locales-all.prerm: fixed bad interactions between locales
    and locales-all.  Closes: #396354.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1703 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Sat,  4 Nov 2006 23:36:19 +0100

glibc (2.3.6.ds1-7) unstable; urgency=low

  [ Aurelien Jarno ]
  * New any/local-no-pagesize.diff (remove the usage of PAGE_SIZE) by
    Steve Langasek.  Closes: #394385.

 -- Aurelien Jarno <aurel32@debian.org>  Sat, 21 Oct 2006 22:41:39 +0200

glibc (2.3.6.ds1-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * Improve the heuristic used to detect other copy of the C library. Closes:
    #390950.
  * Add m68k/local-pthread_lock.diff (fix deadlock with pthread_spinlock) by
    Roman Zippel. Closes: #385917.
  * Build-conflicts with buggy gcc-4.1 (= 4.1.1-14). Closes: #391485.

 -- Aurelien Jarno <aurel32@debian.org>  Sat,  7 Oct 2006 23:54:49 +0200

glibc (2.3.6.ds1-5) unstable; urgency=low

  [ Aurelien Jarno ]
  * debian/local/manpages/ldconfig.8: Update the manpage. Closes: #325921.
  * debian/local/manpages/ld.so.8: Update the manpage. Closes: #171145,
    #357676, #280027.
  * rules.d/debhelper.mk: don't make ld.so.8.gz or ld.so.conf executable.
  * debian/FAQ: specify that LD_ASSUME_KERNEL does not work on amd64.
    Closes: #386924.
  * patches/any/cvs-sqrt.diff: New patch from upstream to fix sqrt computation
    for negative imaginary number.  Closes: #388852.

  [ Michael Banck ]
  * Add hurd-i386/cvs-getsid.diff (fix getsid(0) on the Hurd) by
    Samuel Thibault (patch from glibc-2.4).
  * Add hurd-i386/submitted-futimes.diff (fix touch on the Hurd) by
    Thomas Schwinge and Samuel Thibault. Closes: #388785.

  [ Denis Barbier ]
  * Add sr_ME and sr_RS locales, and keep sr_CS for backward compatibility.
  * First weekday is Sunday in Brazil.  Closes: #385859
    Thanks Gunther and Felipe Augusto van de Wiel.

 -- Aurelien Jarno <aurel32@debian.org>  Sun,  1 Oct 2006 18:48:27 +0200

glibc (2.3.6.ds1-4) unstable; urgency=low

  * debian/control.in/opt: add a new line at the end of the file.  (Closes:
    #384375).
  * debian/rules.d/control.mk: add a check to make sur that all files in
    debian/control.in have a new line at the end.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 24 Aug 2006 00:21:25 +0200

glibc (2.3.6.ds1-3) unstable; urgency=low

  * patches/any/cvs-sysctl.diff: patch from upstream to fix the sysctl()
    problem for NPTL.
  * patches/any/local-sysctl.diff: remove the NPTL fix from this patch, apply
    the same kind of fix for linuxthreads than for NPTL.  (Closes: #383976).
  * patches/any/local-sysctl.diff: fix for arm.
  * patches/any/local-bashisms.diff: fix bashisms in the testsuite.
  * debian/control.in/{i386,powerpc,ppc64,s390x,sparc64}: change the bi-arch
    package priority to optional (but keep libc6-i386 on amd64 to standard).
    (Closes: #344253).
  * debian/control.in/opt: Removed the comment about the IBM's JDK in the
    descriptions of the optimized packages, as an NPTL version is also present
    in the main libc.
  * debian/rules.d/build.mk: force the locale directory to /usr/lib/locale.
    This way the 32-bit libc6 on amd64 is able use the locales correctly (it
    was already done for other bi-arch architectures).  (Closes: #379959).

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 23 Aug 2006 00:38:22 +0200

glibc (2.3.6.ds1-2) unstable; urgency=low

  [ Aurelien Jarno ]
  * rules.d/build.mk: removed the call to texi2html.  (Closes: #383276).
  * New debian/patches/any/cvs-ctermid.diff from upstream to fix a segfault in
    ctermid(NULL).  Thanks Denis for the hint.  (Closes: #380504, #383362).
  * New debian/patches/localedata/reverted-for-etch.diff: revert a few
    locales changes done in 2.3.6.ds1-1 and refused by the release managers:
    - locales/vi_VN: Various fixes
    - locales/ru_RU: Use U2002 for thousands_sep and mon_throusands_sep.

  [ Denis Barbier ]
  * debian/patches/localedata/cvs-localedata.diff: A new test target
    tst-strfmon1 was previously added into localedata/Makefile,
    so add localedata/tst-strfmon1.c to really perform this test.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 17 Aug 2006 00:32:25 +0200

glibc (2.3.6.ds1-1) unstable; urgency=low

  [ Denis Barbier ]
  * New all/submitted-uninitialized-byte-LC_CTYPE.diff patch to fix
    uninitialized bytes or misaligned words in locale files.
  * debian/debhelper.in/locales-all.postinst: Make localedef silent, and
    fix an error, this script could not be run more than once.
  * debian/debhelper.in/locales-all.prerm: New file, to remove
    /usr/lib/locale/locale-archive.  Thanks Lars Wirzenius.
    (Closes: #382136)
  * debian/debhelper.in/locales.postinst: Pass --no-checks to update-locale
    to not break installation of this package even if non working locales
    are selected.  Thanks Robert Millan.  (Closes: #365628)
  * debian/patches/locale/cvs-iso4217.diff: Update to CVS 2006-08-12.
  * debian/patches/localedata/cvs-localedata.diff: Update to CVS 2006-08-12
    Among other changes:
    * New locale files: as_IN, ca_AD, csb_PL, el_CY, fr_AD, it_AD, nr_ZA,
      or_IN, pa_PK and tr_CY.
    * charmaps/MIK: New file.
    * Sync bg_BG bs_BA es_MX ru_RU tg_TJ tt_RU with latest iso-4217.def
    * Add transliateration support to LC_CTYPE for most locales.
    * Fix date fields for several *_IN locales.
    * locales/{*_ZA,ro_RO,vi_VN}: Various fixes
    * locales/de_DE: Fix date_fmt.
    * locales/hu_HU: Better month name abbreviations.
    * locales/pl_PL: Don't ignore U0020 in collation.
    * locales/ru_RU: Use U2002 for thousands_sep and mon_throusands_sep.
    * locales/es_UY: Change currency_symbol. Closes: #378151
    * locales/de_CH: Change thousand separator to '.
  * The following patches have been merged into localedata/cvs-localedata.diff
    and are dropped:
      locale/iso4217-RON.diff               localedata/locale-ro_RO.diff
      localedata/new-catalan-locales.diff   localedata/locale-te_IN.diff
      localedata/locale-nr_ZA.diff          localedata/update-ZA.diff

  [ Aurelien Jarno ]
  * sysdeps/{powerpc,s390,ia64}.mk: make the NPTL version buildable on 2.4
    kernels.
  * New any/local-sysctl.diff patch to remove the annoying warning messages
    that appear with 2.6.18+ kernels, and to warn users to not use sysctl().
  * debian/debhelper.in/libc.postinst: update list of optimized glibc
    packages.  Thanks Petr Salinger.  (Closes: #383168).
  * New any/cvs-static-getpid.diff patch from upstream to fix getpid() in
    statically linked programs on some architectures.  (Closes: #367656).

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 15 Aug 2006 23:01:43 +0200

glibc (2.3.6-19) unstable; urgency=low

  [ Michael Banck ]
  * debhelper.in/libc-udeb.install.hurd-i386: New file; libpthread is
    not part of glibc on the Hurd.

  [ Aurelien Jarno ]
  * Ship librt in the libc udeb (closes: bug#381881).

 -- Aurelien Jarno <aurelien@aurel32.net>  Tue,  8 Aug 2006 18:18:48 +0200

glibc (2.3.6-18) unstable; urgency=medium

  (urgency set to medium as it fixes a FTBFS)

  [ Aurelien Jarno ]
  * Update ia64/cvs-gcc41-atomic_h.diff again (fix build failure with gcc-4.1,
    nptl part) from upstream.

 -- Aurelien Jarno <aurel32@debian.org>  Tue,  1 Aug 2006 16:59:33 +0200

glibc (2.3.6-17) unstable; urgency=medium

  (urgency set to medium as it fixes a FTBFS)

  [ Aurelien Jarno ]
  * Update ia64/cvs-gcc41-atomic_h.diff (fix build failure with gcc-4.1) from
    upstream.

  [ Michael Banck ]
  * debian/sysdeps/hurd.mk: Disable RUN_TESTSUITE.

 -- Aurelien Jarno <aurelien@aurel32.net>  Sun, 30 Jul 2006 21:25:32 +0200

glibc (2.3.6-16) UNRELEASED; urgency=low

  (urgency set to medium as it fixes a FTBFS)

  [ Aurelien Jarno ]
  * Add arm/cvs-gcc4.1-raise.diff (fix build failure with gcc-4.1) from
    upstream.
  * Add ia64/cvs-gcc41-atomic_h.diff (fix build failure with gcc-4.1) from
    upstream.
  * Build with gcc 4.1 on all architectures but hurd-i386.
  * debian/sysdeps/s390.mk: switch s390x to nptl.
  * debian/rules.d/build.mk: use ld.so libc.so instead of libc.so to
    determine if the host CPU is able to run the testsuite.
  * debian/sysdeps/kfreebsd.mk: also use the nfs/ directory from kernel
    headers.
  * debian/sysdeps/kfreebsd.mk: also use the nfs/ directory from kernel
    headers.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1631 (from glibc-bsd).
  * debian/local/manpages/iconv.1: fixed the description of the --silent
    option.  (Closes: #375741)
  * debian/local/manpages/iconv.1: fixed the use of the TH keyword.  (Closes:
    #372510)
  * debian/locales-all.README.Debian:  File removed, it is useless now.
    (Closes: #378191)
  * Update Russian debconf translation, by Yuri Kozlov.  (Closes: #379395)
  * debian/debhelper.in/libc.postinst: add /etc/ld.so.conf.d/ support.
  * Drop any/local-ldconfig-multiarch.diff, use /etc/ld.so.conf.d/ to
    configure multiarch libraries.
  * Update m68k/local-mathinline_h.diff (fix bits/mathinline.h), by Roger Leigh.
    (Closes: #340871)

  [ Denis Barbier ]
  * debian/control.in/main: also make locales Conflicts: belocs-locales-bin.
  * debian/debhelper.in/locales.config: some programs keep modifying
    /etc/environment to store locale variables, so read /etc/environment
    even when upgrading new versions.  Of course, /etc/default/locale has
    still a higher precedence over /etc/environment.  (Closes: #363644)
  * Add new Lithuanian debconf translation, by Gintautas Miliauskas.
    (Closes: #374365)
  * Update Brazilian Portuguese debconf translation, by Felipe Augusto
    van de Wiel.  (Closes: #375451)
  * debian/debhelper.in/libc.postinst: Call iconvconfig to generate
    /usr/lib/gconv/gconv-modules.cache.  (Closes: #376811)
  * debian/debhelper.in/libc.postrm: Remove this cache file.

 -- Aurelien Jarno <aurel32@debian.org>  Thu,  8 Jun 2006 08:03:49 +0200

glibc (2.3.6-15) unstable; urgency=low

  * debian/rules.d/build.mk: generate a test log file even if the testsuite
    is disabled, too make debhelper 5 happy.

 -- Aurelien Jarno <aurel32@debian.org>  Thu,  8 Jun 2006 08:02:47 +0200

glibc (2.3.6-14) unstable; urgency=low

  [ Aurelien Jarno ]
  * debian/debhelper.in/nscd: explicitely list the tables to invalidate.
    (Closes: #370124)
  * debian/debhelper.in/nscd: create /var/run/nscd if it does not already
    exist.  (Closes: #370122)
  * Update m68k/local-mathinline_h.diff (fix bits/mathinline.h), by Roger Leigh.
    Enable it.  (Closes: #340871)
  * debian/debhelper.in/libc.preinst: also check for other copies of the libc in
    /lib32 and /lib64.
  * debian/debhelper.in/libc.preinst, debian/rules.d/debhelper.mk: only use
    the default system linker when searching for other copies of the libc.
  * debian/sysdeps/i386.mk: make /lib/i386-linux-gnu and /usr/lib/i386-linux-gnu
    symlinks relative.
  * debhelper.in/libnss-dns-udeb.install, debhelper.in/libnss-files-udeb.install:
    fix the installation path.  (Closes: #370523)
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1583 (from glibc-bsd)
    to fix the build with gcc-4.1.
  * patches/m32r/local-ports-m32r.diff: remove libc_cv_gcc_unwind_find=yes
    from m32r/configure by Kazuhiro Inaoka.  (Closes: #371052)
  * rules.d/debhelper.mk: don't install librpcsvc.a when cross-compiling.
    (Closes: #369657)
  * debian/compat, debian/control.in/main: switch to debhelper 5.0.

  [ Denis Barbier ]
  * debian/patches/localedata/tailor-iso14651_t1.diff: Fix several collation
    rules, which could cause errors in regular expressions with character
    ranges, in particular with et_EE locale.  (Closes: #362514)
  * debian/patches/localedata/locale-csb_PL.diff
  * debian/patches/localedata/locale-ro_RO.diff
  * debian/patches/localedata/locale-se_NO.diff: Apply similar fixes.
  * debian/main/control.in: make locales Conflicts: belocs-locales-data.

 -- Aurelien Jarno <aurel32@debian.org>  Wed,  7 Jun 2006 23:16:58 +0200

glibc (2.3.6-13) unstable; urgency=low

  * debian/patches/alpha/local-gcc4.1.diff: fix a small typo. sigh.
  * debian/control.in/main: build-depends on libc6-dev-s390x on s390.
  * Remove any/local-libgcc-static.diff.  (Closes: #369636, #369641)

 -- Aurelien Jarno <aurel32@debian.org>  Wed, 31 May 2006 07:20:14 +0200

glibc (2.3.6-12) unstable; urgency=low

  * Don't do a udeb pass, it is still too buggy.  (Closes: #369492)
  * debian/control.in/main: build-depends on libc6-dev-sparc64 on sparc.
  * Add patches/alpha/local-gcc4.1.diff (fix build with gcc-4.1) from
    Falk Hueffner.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1571 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 30 May 2006 22:35:35 +0200

glibc (2.3.6-11) unstable; urgency=low

  [ Aurelien Jarno ]
  * debian/rules/build.mk: don't remove ld.so from udeb packages.
  * debian/rules: move udeb_add-ons to debian/sysdeps/{kfreebsd,linux}.mk.
  * M32R support:  (Closes: #366962)
    - debian/rules.d/control.mk: add m32r.
    - Add debian/sysdeps/m32r.mk.
    - Add debian/patches/any/cvs-futimes.diff (use fnctl64 if fnctl is no
      available).
    - Add debian/patch/any/local-kernel-features.diff (fix the include path
      for kernel-features.h) so that it could be used from other files.
    - Add debian/patches/any/local-libgcc-static.diff (link with libgcc_s).
    - Add debian/patches/m32r/local-ports-m32r.diff (m32r support).
    - Add debian/patches/m32r/cvs-elf-m32r_rel32.diff (Add R_M32R_REL32 to
      elf/elf.h).
  * debian/local/manpages/localedef.1: fix a typo.  (Closes: #310477)
  * debian/local/manpages/iconv.1: fix the indentation (Closes: #316148)
  * debian/local/manpages/iconv.1, debian/local/manpages/localedef.1: change
    sarge into etch.
  * debian/sysdeps/kfreebsd.mk: build the udeb package with -Os on
    kfreebsd-i386 and kfreebsd-amd64.
  * debian/sysdeps/*.mk: build the udeb with -Os, except on m68k and s390.
  * debian/sysdeps/hppa.mk: build the udeb with gcc 4.1.
    mipsel, powerpc and sparc.
  * debian/sysdeps/arm.mk: set udeb_MIN_KERNEL_SUPPORTED to 2.4.1, as the
    arm build daemons are still running a 2.4 kernel.
  * debian/sysdeps/sparc.mk: set udeb_MIN_KERNEL_SUPPORTED to 2.4.1, as d-i
    still needs a 2.4 kernel.
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1577 (from
    glibc-bsd).
  * Add debian/patches/powerpc/cvs-gcc41-initfini.diff (fix build with gcc 4.1
    on powerpc) from upstream CVS.
  * debian/sysdeps/i386.mk: add a symlink (/usr)/lib/i386-linux-gnu ->
    (/usr)/lib/i486-linux-gnu.
  * Remove patches/i386/local-sse-oldkernel.diff (we don't support 2.2 kernels
    anymore).
  * Merge debian/local/etc_init.d/nscd and debian/debhelper.in/nscd.init.
    (Closes: #368587)
  * Remove debian/local/etc_init.d/nscd.

  [ Denis Barbier ]
  * Add patches/all/submitted-new-brf-encoding.diff: Add new BRF encoding
    (ASCII Braille), submitted upstream by Samuel Thibault.
  * Add patches/localedata/locale-zh_TW.diff: Remove <U897F><U5143> from
    dates.  Thanks Dan Jacobson (Closes: #352600)

  [ Clint Adams ]
  * debian/debhelper.in/libc.preinst: use POSIX syntax for kill.
  * debian/control.in/main: bump to Standards-Version 3.7.2.

 -- Aurelien Jarno <aurel32@debian.org>  Tue, 30 May 2006 02:28:33 +0200

glibc (2.3.6-10) unstable; urgency=low

  [ Aurelien Jarno ]
  * debian/debhelper.in/libc.preinst: use the original path if readlink -f
    fails to canonicalize the path.  (Closes: #368116)
  * Add patches/arm/local-softfloat.diff (support for arm softfloat), and
    enable on arm-softfloat only, as it breaks other architectures.  (Closes:
    #358772)
  * debian/rules.d/control.mk: Add arm-softfloat to the architectures list.
  * Do a separate pass for the udeb package, so that it could use different
    build options.
  * Set the minimum kernel to 2.6.1 for the udeb package, except for i386,
    m68k, mips, mipsel, powerpc and s390.
  * Enable the locales-all package.  (Closes: #308020)
  * debian/sysdeps/i386.mk: build the glibc with --without-__thread again on
    i386 (Closes: #368022, #368326).
  * debhelper.in/libc.preinst, debhelper.in/libc-otherbuild.postinst,
    debhelper.in/libc.postinst, debhelper.in/libc-otherbuild.preinst: use
    /bin/sh instead of /bin/bash.  (Closes: #267594)
  * patches/kfreebsd/local-sysdeps.diff: update to revision 1571 (from
    glibc-bsd).

 -- Aurelien Jarno <aurel32@debian.org>  Sun, 21 May 2006 22:36:27 +0200

glibc (2.3.6-9) unstable; urgency=low

  * Don't run make install with -j, as it is not SMP safe.

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 18 May 2006 17:54:39 +0000

glibc (2.3.6-8) unstable; urgency=low

  [ Aurelien Jarno ]
  * Disable m68k/local-mathinline_h.diff, it breaks the build of the glibc on
    m68k.
  * Add all/local-pt_BR.diff (fix a small typo in the Brazilian Portuguese
    translation) by Guilherme de S. Pastore.  (Closes: #319422)
  * Add hurd-i386/local-mlock.diff (fix mlock on Hurd/Mach), by Samuel
    Thibault.  (Closes: #349204)
  * sysdeps/i386.mk: build glibc with --with-__thread on i386.
  * debian/local/manpages: s/woody/etch/g.  (Closes: #364198)
  * sysdeps/depflags.pl: bumped the versioned conflicts with initrd-tools
    to 0.1.84.1, as older version use LD_ASSUME_KERNEL=2.4.  (Closes: #365647)
  * Follow symlinks while checking for other copy of the C library.
    (Closes: #365838)
  * Invalidate nscd cache when calling /etc/init.d/nscd restart.
    (Closes: #365676, #365677)
  * /usr/sbin/tzconfig: set umask to 022.  (Closes: #367145)
  * debian/main/control.in: make locales Replaces: lliurex-belocs-locales-data.
    (Closes: #365651)
  * Move the NJOBS part to debian/sysdeps/(system) to debian/rules.
  * debian/debhelper.in/libc-otherbuild.postinst: fixed parsing of
    /etc/ld.so.hwcappkgs.  (Closes: #364666)

  [ Denis Barbier ]
  * Fix location of locales/NEWS.Debian.  Thanks Matthijs Mohlmann.
    (Closes: #362763)
  * locales.postinst: Do not abort if the current locale is not generated.
  * locales.config: Fix shell scripting when "All locales" is selected along
    with other choices,  Thanks Olivier Trichet.  (Closes: #364251)
  * update-locale: When checking for invalid locale settings, do not mess up
    with current environment settings.
  * Remove sem_*.3 manual pages from glibc-doc, these manual pages are updated
    and maintained in the manpages-dev package.  (Closes: #365547)

  [ Michael Banck ]
  * Add hurd-i386/cvs-posix-opts.diff (Define many missing options, most
    notably _POSIX_THREAD_SAFE_FUNCTIONS) by Roland McGrath (patch from
    HEAD).

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 18 May 2006 15:34:08 +0000

glibc (2.3.6-7) unstable; urgency=medium

  [ Aurelien Jarno ]
  * Urgency set to medium because this version fixes and RC bug in testing.
  * Optimized libraries should actually be cross-compiled as we don't know the
    CPU that will be used.
  * Allow the glibc to be cross-compiled for Linux and kFreeBSD.  (Closes:
    #358771)
  * Bumped the minimum kernel to 2.4.1 instead of 2.4.0 as there are some
    important new features in this version. Thanks to Petr Salinger for
    noticing me.
  * Add m68k/local-mathinline_h.diff (fix bits/mathinline.h), by Roger Leigh.
    (Closes: #340871)
  * Add beginning and end timestamps to both the build logs and the
    testsuite logs.  (Closes: #155690)
  * debian/sysdeps/sparc.mk: build sparcv9b optimized libraries with
    -mtune=ultrasparc3.
  * debian/sysdeps/kfreebsd/local-sysdeps.diff: update from the latest SVN.
  * debian/patches/series: Fix the patchlevel for local-i486_ldt_support.diff
    (Closes: #226716)
  * Fix a typo in the previous changelog entry (s/not/now/).  (Closes: #362460)

  [ Denis Barbier ]
  * Remove ldd calls from libc.preinst.
  * Do no more transfer variables from /etc/environment to /etc/default/locale
    in locales.postinst, but instead add /usr/share/doc/locales/NEWS.Debian
    to explain that /etc/environment needs to be cleaned up.
    (Closes: #361048)
  * Create a new locales-all package with all supported locales precompiled,
    but keep it disabled for now.
    Both locales and locales-all packages provide a virtual generated-locales
    package.  Packages which currently depends on locales should instead
    depend on 'locales | generated-locales'.
  * Add a new ca_ES@valencia locale, requested by Robert Millan (Closes: #361972)

 -- Aurelien Jarno <aurel32@debian.org>  Fri, 14 Apr 2006 13:48:30 +0200

glibc (2.3.6-6) unstable; urgency=low

  [ Aurelien Jarno ]
  * Remove the timezone database from the libc6 package. It is now provided
    by a separate package called tzdata.
  * Put each test log file in the corresponding package instead of putting all
    of them in libc6.
  * Remove sparc/local-sparc64-fixups.diff as /lib64 and /usr/lib64 are now a
    default search path on 32/64-bit architectures.
  * Switch minimum kernel to at least 2.4.0 on all arches but m68k, and change
    kernelcheck.sh accordingly. Affected architectures:
    - alpha: from 2.2.0 to 2.4.0
    - arm: from 2.2.0 to 2.4.0 (but 2.4.0 was checked at installed time)
    - i386: from 2.2.0 to 2.4.0
    - powerpc: from 2.2.0 to 2.4.0
    - s390: from 2.2.10 to 2.4.0
    - sparc: from 2.2.0 to 2.4.0
    (Closes: #174270, #220992)
  * Add i386/local-i486_ldt_support.diff (add ldt support and thus TLS support
    on i486 machines). Thanks to Petr Salinger for the hint.  (Closes: #226716)
  * Bump shlib to (>= 2.3.6-6) on i386.
  * debian/debhelper.in/libc-alt.install: Add gconv-modules to the bi-arch
    packages.  (Closes: #361642)
  * /etc/ld.so.nohwcap is now supported on non-Linux architectures. Drop the
    "Linux" check from libc-otherbuild.preinst.
  * Build a libc6-xen flavour on i386.
  * Fix a typo in the description of the libc6-sparcv9 and libc6-sparcv9b
    packages.
  * local/usr_sbin/tzconfig:
    - Put a copy of the current timezone into /etc/localtime instead of a
      symlink.  (Closes: #346342)
    - Handle the case where /etc/localtime does not exists.  (Closes:
      #360383).
  * local/manpages/tzconfig.8: Update the manpage accordingly.
  * script.in/kernelcheck.sh: Also take in account 64-bit mips(el) kernels.
  * Add GNU/kFreeBSD patches, using conditional patching until they get
    accepted upstream.
  * Correctly replace DEB_HOST_ARCH by its value in libc6.preinst. Thanks to
    Denis for noticing me.

  [ Denis Barbier ]
  * debian/debhelper.in/locales.config: /etc/locale.gen was not generated at
    initial installation.  (Closes: #357523)
  * update-locale: Fix buggy sanity check between LANGUAGE and LANG.
    (Closes: #361091)
  * update-locale: Drop the --remove flag, it is useless.
  * update-locale: Fix the --locale-file flag.
  * Add new Galician debconf translation, by Jacobo Tarrio.  (Closes: #361101)
  * Use new features of po-debconf 1.0 to remove unneeded strings from PO
    files.
  * Fix day, abmon and mon fields for wo_SN locale.  (Closes: #361338)

  [ Michael Banck ]
  * Add hurd-machrules-make.diff (fixes build problems with make-3.81 for
    Mach interface generation rules) by Roland McGrath (patch from HEAD).
  * Add hurd-sysvshm.diff (implements SysV shared memory for GNU/Hurd)
    by Marcus Brinkmann.

 -- Aurelien Jarno <aurel32@debian.org>  Mon, 10 Apr 2006 20:19:55 +0200

glibc (2.3.6-5) unstable; urgency=low

  [ Denis Barbier ]
  * Add am_pm formatting information to en_NZ.  (Closes: #356328)
  * Add interlingua locale.  (Closes: #224756)
  * Move locale variables from /etc/environment into a dedicated
    /etc/default/locale file.  (Closes: #214898, #349503)
  * Add a new /usr/sbin/update-locale program to handle this new file.

  [ Aurelien Jarno ]
  * Fix ldconfig multiarch patch for reiserfs filesystems.
  * Make ldconfig look into /lib32 and /usr/lib32 on amd64. Add /lib32 ->
    /emul/ia32-linux/lib and /usr/lib32 -> /emul/ia32-linux/usr/lib links.
  * Remove glibc235-gcc4-ppc-procfs.diff from debian/patches/series.
    (Closes: #360126)
  * Add siginfo_h.diff (fixes a typo in ILL_ILLOPN definition), backported
    from upstream.  (Closes: #358041)
  * Replace getcwd_ia64.diff by getcwd_c.diff (fix getcwd on platforms where
    PAGE_SIZE >> PATH_MAX), backported from upstream.  (Closes: #355109)
  * debian/control: drop alternative build-depends on ia32-libs-dev as this
    package does not exist anymore.

 -- Denis Barbier <barbier@debian.org>  Tue,  4 Apr 2006 18:07:21 +0200

glibc (2.3.6-4) unstable; urgency=low

  [ Aurelien Jarno ]
  * Set configure_build to the same value as configure_host for sparc
    optimized libraries (as on i386). This way they will be tested.
  * If the CPU has biarch support, run tests for cross-compiled libraries.
  * Remove ld.so from optimized libraries as it is not used.
  * Add regcomp_c.diff (Call __libc_lock_init after init_dfa) from upstream
    (Ulrich Drepper). This make possible to run the testsuite again on hppa.
  * Enable the testsuite on hppa.
  * Add tst-setcontext_c.diff (fix the arguments passed to setcontext during
    test) from upstream.
  * Create a link /usr/lib32 -> /emul/ia32-linux/usr/lib on amd64.
  * Add argp_h.diff fixes (Remove __NTH for __argp_usage inline function)
    by Ulrich Drepper (patch from HEAD).  (Closes: #355264)
  * Add getcwd_ia64.diff (Remove the assertion so that the behaviour is the
    same on all platforms, including ia64). This is a temporary fix to bug
    #355109, until the upstream takes a decision.
  * debian/sysdeps/kfreebsd-amd64.mk:
    - s/libc6/libc0.1/g
    - Change rtlddir from /lib64 to /lib

  [ Denis Barbier ]
  * locales.config: If $DEBCONF_IS_A_REGISTRY is set to a non-empty value,
    the content of /etc/locale.gen does not override debconf values.
  * Add strfmon.diff: the negative sign is not printed by strfmon when
    current locale defines sign_posn == 4 (as in de_CH) and format
    argument contains the ! modifier.
  * Fix forward-backward-collation.diff: the change in strcoll_l.c has to
    be applied at several places.  (Closes: #357390)
  * Update timezone data files to tzdata2006b (no data change, only comments).
  * Fix resource_h.diff: there was a typo for mips:
    s/_RLIMIT_RTPRIO/__RLIMIT_RTPRIO/  (Closes: #357419)

 -- Denis Barbier <barbier@debian.org>  Sat, 18 Mar 2006 10:26:45 +0100

glibc (2.3.6-3) unstable; urgency=low

  [ Aurelien Jarno]
  * Use a shell function instead of ifneq when testing a variable depending on
    $(curpass), otherwise it is only evaluated at the first pass.
  * Add support for the ppc64 architecture.  (Closes: #301438).
  * Use the new slibdir, libdir, rtlddir variables to build the various
    flavours of the libc. Put them directly in the final directory, and
    remove the corresponding tweaks done after the make install phase.
  * Install the 32-bit libraries in /emul/ia32-linux(/usr)/lib on amd64.
  * Only create the multiarch directories and the symlinks in /lib/ldconfig
    for the main pass. Otherwise alternate libraries would conflict with the
    main one when using multiarch.
  * Fix the build-dependencies for kfreebsd-amd64.
  * Add sysdeps/kfreebsd-amd64.mk and add kfreebsd-amd64 to
    rules.d/control.mk.
  * Make libc6-i386-dev conflicts with all versions of ia32-libs-dev. As it
    won't be built anymore on amd64, this will automatically remove it during
    the upgrade.

  [ Clint Adams ]
  * Get rid of -o as a binary operator to [ in tzconfig and postinst.

  [ Denis Barbier ]
  * Update localedata/locales/ro_RO.  Thanks Eddy Petrişor.  (Closes: #347173)
  * Bump LOCALES_DEP_VER to 2.3.6-2.  All locales can be compiled with
    localedef from 2.3.6-2 and 2.3.6-3.  (Closes: #352620)
  * Updated Italian debconf translation, by Luca Monducci.

 -- Aurelien Jarno <aurel32@debian.org>  Wed,  1 Mar 2006 17:11:36 +0100

glibc (2.3.6-2) unstable; urgency=low

   [ Denis Barbier ]
   * Modify debver2localesdep.pl, locales-depver and control files to provide
     a smooth upgrade in unstable when locales require changes in localedef.
     This is the first part for solving #352620, the proper dependency for
     locales will be set by the next upload.
   * debian/control: Clean up. Remove versioned dependencies on gettext,
     debianutils, tar, texinfo; these versions were already in oldstable.
     Drop references to localebin, wg15-locale, i18ndata, locale-ja, locale-ko,
     locale-vi, locale-zh, libc6-doc, glibcdoc and libc6 (<< 2.1-4).
   * debian/control: Split Build-Depends on several lines for readability
     purpose.
   * Add RON to locale/iso-4217.def and bump LOCALES_COMPAT_VER to 2.3.6-2.
   * Fix thousand separator for de_CH, and let other Swiss locales copy
     de_CH for LC_NUMERIC and LC_MONETARY sections.  (Closes: #345481)
   * Apply a patch from Fedora to define AM/PM strings in cy_GB and en_GB
     locales.  (Closes: #240901)
   * Fix the week definition for the C locale.
   * Check first_weekday fields against current CLDR snapshot.  Modified
     locales are *_GB (=2), ar_SY (=5), ms_MY (=2), id_ID (=2).  Add
     this field to more locales.
   * locale-gen: Replace 'test ... -a ...' by two tests.
   * Add an "All locales" option to the locales/locales_to_be_generated
     template.  When it is selected, /etc/locale.gen is a symlink to
     /usr/share/i18n/SUPPORTED.  (Closes: #321580, #323013)
   * Updated debconf translations:  (Closes: #353611)
    - Brazilian Portuguese, by André Luís Lopes  (Closes: #352416)
    - Czech, by Miroslav Kure
    - Danish, by Morten Brix Pedersen
    - Dutch, by Bart Cornelis
    - French, by Denis Barbier
    - German, by Helge Kreutzmann
    - Polish, by Emilian Nowak
    - Portuguese, by Simão Pedro Cardoso
    - Spanish, by Carlos Valdivia Yagüe
    - Swedish, by Daniel Nylander
    - Ukrainian, by Eugeniy Meshcheryakov

  [ Clint Adams ]
  * Add hurd-getresuid-dyslexia.diff (fixes incorrect ordering of
    arguments) with patch from Samuel Thibault.  (Closes: #352500)
  * Add hppa-no-ldbl-128.diff (stops implying that PA needs
    128-bit long double support in glibc) from Aurelien Jarno.
    (Closes: #344836).
  * debian/local/manpages/locale.1: remove double quotes from
    synopsis.  (Closes: #352597)

  [ Aurelien Jarno ]
  * Move dependency on lib64gcc1 from libc6-amd64 to libc6-dev-amd64 to
    avoid a dependency loop.  (Closes: #352263)
  * Use sed and test in /etc/init.d/glibc.sh to compare kernel versions.
    Put the Debian architecture name in the script at build time instead
    of using 'dpkg --print-architecture'. Thanks to Florent Bayle for
    the idea.  (Closes: #325802, #328088, #339482)
  * Fix example code showing how to use hooks for malloc.  (Closes:
    bug#333565).
  * Add hurd-ioctl-decode-argument.diff (fixes decoding of ioctl
    arguments) from Samuel Thibault.  (Closes: #320273)
  * Fix the prototype of sbrk() in the manual.  (Closes: #281863)
  * Fix the strcasestr() examples in the manual.  (Closes: #289853)
  * Install libc_nonshared.a in /usr/lib/nptl, and fix the location
    of the static libraries of the NPTL ld scripts. (Closes: #347762)
  * Update debian/ files for GNU/kFreeBSD.  (Closes: #351638)
  * Regenerate debian/control, generate debian/control.in/libc0.1.
  * Lintian cleans:
    - Remove build-dependencies on tar and debianutils, they are
      build-essential packages
    - Fix FSF postal address
    - Use policy compliant links in libc6-dev-amd64
    - Use an absolute symlink for /lib64 on amd64
  * Add myself to Uploaders.
  * Switch to gcc-4.0 on powerpc.
  * Remove old hack for gcc-3.4 on amd64.
  * Build with the compiler defined as default for glibc (ie currently
    gcc-4.0) instead of gcc on amd64.
  * Decrease priorities of 64-bit main and -dev packages to standard
    and optional for all architectures. It better matches override,
    though it will still have to be changed.
  * Fix glibc235-hppa-lt.diff (restore ret0 across calls to CDISABLE)
    from Randolph Chung.  (Closes: #326581)
  * Switch to gcc-4.0 on hppa.
  * Add support for extra_pkg_install hooks for udeb packages.
  * Build back with -g1 on amd64, it was removed to permit the build with
    gcc-3.4.
  * Remove --with-tls and --with-__thread in sysdeps/* as they are the
    default option since version 2.3.5.
  * Multiarch support:
    - Add ld-multiarch.diff (add (/usr)/lib/$(config-machine)-$(config-os))
      to the search path of the dynamic linker) from Tollef Fog Heen.
      (Closes: #295855)
    - Add ldconfig-multiarch.diff (add directories pointed from /lib/ldconfig
      to the search path).
    - Create (/usr)/lib/$(config-machine)-$(config-os) and add symlinks to
      these directories in /lib/ldconfig/
    - Add rtld.diff (add a new configuration variable rtlddir to change the
      dynamic linker in the ELF binaries) partly from Andreas Jochen. This is
      necessary to be able to install a glibc in the multiarch dir while still
      conforming to the various ABIs which specify a linker in /lib or /lib64.
  * Remove the patch to install the libc into /lib instead of /lib64 on
    amd64. Use the new libdir, slibdir and rtlddir options in configparm to
    install the glibc in (/usr)/lib, and to use the dynamic linker path
    specified by the ABI for path for libc objects.  (Closes: #325226)
  * Add -u option to the ldd manpage.  (Closes: #354074)
  * Merged a patch from Michael Banck to use gcc-4.0 on Hurd.
  * Add resource_h.diff (RLIMIT_NICE and RLIMIT_RTPRIO support) from MAIN.
    (Closes: #352636)
  * Add hppa-inlining.diff (Increase the maximal overall growth of the
    compilation unit caused by inlining for dl-reloc.c on hppa).
  * Build a 32-bit libc on amd64, using the new multiarch directories.
    (Closes: #274367)

 -- Aurelien Jarno <aurel32@debian.org>  Thu, 23 Feb 2006 17:47:58 +0100

glibc (2.3.6-1) unstable; urgency=low

  [ Denis Barbier ]
  * debian/debhelper.in/libc.postinst: Restart webmin on upgrade.
    (Closes: #345641)
  * debian/debhelper.in/libc.postinst: Restart dropbear on upgrade.
    (Closes: #351036)
  * Fix yesexpr/noexpr in tl_PH locale.  Reported by eric pareja.
    (Closes: #295810)
  * Fix langinfo(_NL_TIME_FIRST_WEEKDAY) for C locale.  Reported by
    Graham Wilson (Closes: #327025)
  * Add first_weekday fields to most locales.
    (Closes: #343885, #347323, #347686, #348518, #351375)
  * Apply various fixes to French locales.  (Closes: #248377)
  * Fix d_t_fmt and date_fmt in fo_FO. Reported by Jacob Sparre Andersen.
  * New sa_IN locale file, provided by Vidya Ayer and Christian Perrier.
    (Closes: #331377)
  * Add several locales to SUPPORTED:
    - ru_RU.CP1251, requested by Michael Bravo.  (Closes: #225516)
    - uz_UZ.UTF-8 (its ISO-8859-1 counterpart had no UTF-8 variant)
    - da_DK.ISO-8859-15, en_GB.ISO-8859-15, en_US.ISO-8859-15, no_NO.UTF-8,
      no_NO and sv_SE.ISO-8859-15 are found in fedora-branch CVS branch.
  * Apply several improvements to hy_AM found in upstream Bugzilla.
  * Fix LC_MONETARY section of en_DK and provide en_DK.ISO-8859-15.
    (Closes: #323159)
  * Improve localedef(1) manual page, by Lars Wirzenius (Closes: #309846)
  * Fix LC_MONETARY section of pl_PL. Reported by Michał Politowski.
    (Closes: #227214)
  * New wo_SN locale file, provided by Samba Ndao Diop and Christian
    Perrier.  (Closes: #279697)
  * Add new ca_AD, ca_FR and ca_IT locale files, sent upstream by Robert
    Millan.
  * New csb_PL locale file, sent upstream by Andrzej Krzysztofowicz.
  * Rewrite collation rules of several locales to include iso14651_t1.
    This eases maintenance and saves about 1MB for installed size.
  * Sort SUPPORTED to list UTF-8 locales first.  This change partly
    solves #312927.
  * Modify localedata/locales/no_NO to copy definitions from nb_NO.
  * Fix lang_* fields in gez_ER, gez_ET, tr_TR and wal_ET.
  * Fix unknown symbols in collation rules of several locales: da_DK,
    fa_IR, is_IS, lo_LA, lv_LV, nb_NO and sr_CS.
  * Apply updates for st_ZA, xh_ZA and zu_ZA sent upstream by Dwayne Bailey.
  * Add new nr_ZA locale, sent upstream by Dwayne Bailey.
  * Rewrite collation rules for dz_BT, in collaboration with Pema Geyleg.
  * Revert upstream change of postal_fmt in te_IN because localedef
    complains.  (Closes: #348804)
  * New debconf translations:
    - Italian, by Luca Monducci  (Closes: #329428)
    - Swedish, by Daniel Nylander  (Closes: #334864)
  * Slightly reword locales.templates to be DTSG-compliant, thanks Thomas
    Huriaux.
  * Updated debconf translations:  (Closes: #350103)
    - Brazilian Portuguese, by André Luís Lopes  (Closes: #352416)
    - Czech, by Miroslav Kure
    - Danish, by Morten Brix Pedersen
    - Dutch, by Bart Cornelis
    - French, by Denis Barbier
    - German, by Helge Kreutzmann
    - Polish, by Emilian Nowak
    - Turkish, by Erçin EKER
    - Ukrainian, by Eugeniy Meshcheryakov
    - Vietnamese, by Clytie Siddall
  * Update timezone data files to tzdata2006a.  (Closes: #345479, #347315, #351049)
  * Drop Build-Depends-Indep: po4a from control file, translated manual pages
    are currently not built.

  [ Clint Adams ]
  * Move to upstream version 2.3.6.
    - Redo debian/patches/localedata/cvs-localedata.diff
    - Remove glibc235-gcc4-cvs.diff
    - Remove glibc235-gcc4-jis0208.diff
    - Remove glibc235-binutils216-ia64.diff
    - Remove glibc235-gcc4-ia64-profile.diff
    - Remove glibc235-gcc4-ppc-procfs.diff
    - Remove glibc235-execvp-fix.diff
    - Delete CSD (Serbian Dinar) hunk from locale-iso4217.diff
    - Redo glibc235-dl-execstack.diff
    - Remove glibc235-alpha-divqu.diff
    - Remove amd64-semtrywait-weakalias.diff
    - Remove strfry-segv.diff
    - Remove ia64-binutils-libm.diff
    - Remove glibc235-leapsecond.diff
    - Delete several hunks from glibc235-gcc4-sparc-inline.diff
    - Remove hurd-libpthread-indirect-loading.diff
    - Remove glibc235-gcc4-hurd.diff
    - Delete several hunks from glibc235-gcc4-arm-inline.diff
    - Remove glibc235-gcc4-s390-inline.diff
  * Add hppa-pie-relocs.diff, thanks to Aurelien Jarno.  This
    fixes nscd on hppa.  (Closes: #350501)

  [ Daniel Jacobowitz ]
  * Remove mips-bits-syscall.diff, merged.

  [ GOTO Masanori ]
  * Update po/ja.po.

 -- Clint Adams <schizo@debian.org>  Thu,  9 Feb 2006 21:45:45 -0500

glibc (2.3.5-13) unstable; urgency=low

  [ Clint Adams ]
  * Acknowledge NMU.  (Closes: #342545)

  [ Denis Barbier ]
  * debian/rules.d/control.mk: Make sure that debian/control is regenerated.
    (Closes: #351704)

 -- Denis Barbier <barbier@debian.org>  Mon,  6 Feb 2006 22:22:23 +0100

glibc (2.3.5-12.1) unstable; urgency=low

  * NMU
  * glibc235-hppa-fpu.diff: New, fixes hppa FPU issues.  Closes: #342545

 -- LaMont Jones <lamont@bld-4.mmjgroup.com>  Wed,  1 Feb 2006 09:47:57 -0700

glibc (2.3.5-12) unstable; urgency=low

  * debian/patches/glibc235-nis-netgrp.diff: New file to fix assertion
    failures with NIS.  (Closes: #322011)
  * Switch to quilt to handle Debian patches.
    - debian/control.in/main: add Build-Depends: quilt.
    - Replace debian/rules.d/dpatch.mk by debian/rules.d/quilt.mk.
    - Rename debian/patches/*.dpatch into debian/patches/*.diff.
    - Move localedata patches into debian/patches/localedata/
  * debian/patches/localedata/cvs-localedata.diff: Update to latest CVS.
    Among other changes:
    - locales/mn_MN: Fix date_fmt.  (Closes: #328831)
    - locales/de_DE: Add transliterations for quoting characters.
      (Closes: #235759)
    - locales/ss_ZA locales/tn_ZA locales/ve_ZA locales/nso_ZA
      locales/ts_ZA: New files.  (Closes: #254417)
    - locales/km_KH: New file.  (Closes: #334762)
    - locales/mg_MG: New file.  (Closes: #271549)
    - locales/sr_CS: New file.  (Closes: #254993)
  * debian/patches/locale-iso4217.diff: Update to latest CVS.
    This includes changes from glibc235-localedata-sr_CS.diff, which
    is no more needed.
  * debian/patches/locale-iso639.diff: New file.
  * debian/patches/locale-ku_TR.diff: New file, to provide a Kurdish
    locale needed by d-i.  This locale comes from upstream CVS, and has
    been updated to the latest patch sent to BZ870.
  * debian/patches/localedata/locale-eo_EO.diff: Apply minor updates to
    this locale file.  Add eo and eo.UTF-8 to SUPPORTED.  (Closes: #233308)
  * Import collation fixes and enhancements for localedef from
    belocs-locales-bin.
  * debian/patches/forward-backward-collation.diff: New file.  Due to the
    fixes in localedef, some bugs in code which was previously never run
    did show up.  (Closes: #310635)
  * debian/patches/locale/locale-print-LANGUAGE.diff: New file, so that
    locale displays the LANGUAGE environment variable when called without
    argument.
  * Add myself to Uploaders.

 -- Denis Barbier <barbier@debian.org>  Sun, 15 Jan 2006 00:54:16 +0100

glibc (2.3.5-11) unstable; urgency=low

  [ Phil Blundell ]
  * Apply patch from Colin Watson to add "--keep-existing" option to
    locale-gen.  (Closes: #298913)
  * Also restart exim4 on upgrade.  (Closes: #326554)
  * debian/debhelper.in/libc.preinst: Clarify wording of message about
    detection of services needing to be stopped before upgrade.

  [ GOTO Masanori ]
  * debian/po/pt.po: New file, add Portuguese translation.
    Patched by Rui Branco <ruipb@debianpt.org>.  (Closes: #339110)

  [ Clint Adams ]
  * Patch from Lars Wirzenius to not rely on bash-like echo
    behavior.  (Closes: #207391).
  * Add allowance for the 2005 leap second.  (Closes: #345310)

 -- Clint Adams <schizo@debian.org>  Sun,  1 Jan 2006 11:29:08 -0500

glibc (2.3.5-10) unstable; urgency=low

  [ GOTO Masanori ]
  * debian/local/etc_init.d/glibc.sh: Change the last 'exit 0' to
    ': exit 0' to not block sourcing.  (Closes: #340147)

  [ Phil Blundell ]
  * Merge patch from upstream CVS (courtesy Daniel Jacobowitz) to
    fix weak alias related build problem on ARM.
  * Merge patch from upstream CVS (courtesy Ulrich Drepper) to fix
    strfry() crash.  (Closes: #343365)
  * Merge patch from upstream CVS (courtesy Roland McGrath and Anton
    Blanchard) to fix problem with execute permissions on GOT when using
    64kB pages on PowerPC.  (Closes: #344105)
  * Require binutils 2.16.1cvs20051109-1 to ensure that i386 biarch
    linking works properly.
  * debian/script.in/kernelcheck.sh: Require kernel >= 2.4.0 on arm to
    avoid llseek problem.  (Closes: #324795)
  * Also restart atd on upgrade.  (Closes: #331293)
  * Merge patch from upstream CVS (courtesy Ulrich Drepper) to fix
    problems with accuracy of tanh and related functions, per request of
    Rafael Laboissiere.  (Closes: #328504)
  * Add "validlocale" program (ex base-config) to locales package, per
    request of Joey Hess.  (Closes: #344954)
  * sysdeps/hppa.mk: Add new /usr/hppa64-linux-gnu/include symlink, per
    request of Matthias Klose.  (Closes: #326583)

  [ Clint Adams ]
  * Steal glibc-235-sparc-datastart.dpatch from Ubuntu.
  * Steal ia64 libm symbol patch from Ubuntu.
  * Compile with -g2 instead of -g1 on sparc.

 -- Clint Adams <schizo@debian.org>  Wed, 28 Dec 2005 13:18:56 -0500

glibc (2.3.5-9) unstable; urgency=low

  [ Daniel Jacobowitz ]
  * Downgrade priority of amd64 libraries on i386.
  * Move packages from base to libs.

  [ Clint Adams ]
  * Remove sparc64 TLS patch, and disable TLS for sparc64 build
    (Closes: #340835, #341514).
  * Add patch to fix build failure with __bind and other
    socket-related symbols being already defined on
    sparc (Closes: #342755).
  * Add patch from Anton Blanchard to fix build failure with
    __bind and other socket-related symbols being already
    defined on powerpc (Closes: #343571).
  * Replace amd64 sem_trywait patch from Kurt Roeckx's NMU with
    fix from upstream glibc CVS (Closes: #339389).
  * Add patch from Anton Blanchard to fix build failures with
    "__moddi3" and friends being already defined on i386
    and powerpc (Closes: #339415).
  * Bump Standards-Version to 3.6.2 and add myself to Uploaders.

 -- Clint Adams <schizo@debian.org>  Sat, 17 Dec 2005 10:33:38 -0500

glibc (2.3.5-8.1) unstable; urgency=low

  * Non-maintainer upload.
  * Rename sem_trywait to __new_sem_trywait in amd64 nptl code
    so the alias works properly, and it can be build.
    (Closes: #339389)

 -- Kurt Roeckx <kurt@roeckx.be>  Sun, 27 Nov 2005 11:22:03 +0100

glibc (2.3.5-8) unstable; urgency=low

  * Add missing build dependency on libc6-dev-ppc64 on powerpc.
  * Add patch to fix sparc64 TLS build failure, from Aurelien Jarno
    (Closes: #335821).
  * Also restart saslauthd at upgrades, from Philipp Hug (Closes: #334101).
  * Merge .eh_frame terminator fix, by Richard Sandiford (Closes: #334112).
  * Merge armeb support, from Lennert Buytenhek (Closes: #335116).
  * Add LSB headers to glibc.sh and nscd init scripts, from Petter
    Reinholdtsen (Closes: #335308, #335343).
  * Remove obsolete mountkernfs, tmpfs, and devpts.sh files from debian/.
  * Temporarily set hppa back to gcc 3.4, from Steve Langasek
    (Closes: #326581).
  * Re-enable libidn (Closes: #181025).

 -- Daniel Jacobowitz <dan@debian.org>  Sat, 12 Nov 2005 19:15:29 -0500

glibc (2.3.5-7) unstable; urgency=low

  [ GOTO Masanori ]
  * debian/script.in/kernelcheck.sh: Drop real-i386 kernel support.

  [ Daniel Jacobowitz ]
  * Build 64-bit packages on i386 - based on patches from both Ubuntu
    and Andreas Jochens <aj@andaco.de>.
    - Build depend on a biarch linux-kernel-headers package.
    - Build depend on new libc6-dev-amd64 package.
    - Conflict with amd64-libs to avoid stale libraries.
    - Replace files from amd64-libs-dev.
    - Use lib64 for 64-bit libraries on i386.
    - Search lib64 for ldconfig.
    - Install 64-bit headers in /usr/include/x86_64-linux-gnu.
  * Remove obsolete references to NPTL as an add-on.
  * Conflict with broken versions of libterm-readline-gnu-perl
    (Closes: #326856, #326492).
  * Merge makefile patch from Goswin Brederlow
    <brederlo@informatik.uni-tuebingen.de> to fail earlier if builds fail
    (but omit the bit for make -k check) (Closes: #325460).
  * Update debconf dependency to work with cdebconf (Closes: #331838).
  * Merge MIPS <bits/syscall.h> fix from CVS (Closes: #329043).
  * Do not complain about incompatible libraries in /etc/ld.so.conf
    (Closes: #310047).
  * Update hppa assembly for current CVS binutils.
  * Use 8-byte-aligned buffers for doubleword FPU transfers on HPPA
    (Closes: #333766).

 -- Daniel Jacobowitz <dan@debian.org>  Fri, 14 Oct 2005 14:18:22 -0400

glibc (2.3.5-6) unstable; urgency=low

  * GOTO Masanori <gotom@debian.org>

    * debian/script.in/kernelcheck.sh: Use sed instead of bash extension.
      (Closes: #325373, #325471, #325504, #325511)

 -- GOTO Masanori <gotom@debian.org>  Mon, 29 Aug 2005 12:40:32 +0900

glibc (2.3.5-5) unstable; urgency=low

  * GOTO Masanori <gotom@debian.org>

    * debian/debhelper.in/debhelper.mk: Don't expand debug-packages with
      DEB_INDEP_REGULAR_PACKAGES.  It causes binary-indep is unexpectedly
      included.  (Closes: #233390, #233391, #233392)

    * Add the correct new line.  (Closes: #324450)
      - debian/control.in/sparc64: Likewise.
      - debian/control: Update.

    * Support Hurd again.  (Closes: #324165)
      - debian/sysdeps/gnu.mk: Rename to...
      - debian/sysdeps/hurd.mk: ... this.

    * debian/local/usr_sbin/locale-gen: Don't break locale-gen when locale-def
      warns errors.

    * debian/patches/glibc235-localedata-sr_CS.dpatch: New file, to fix
      sr_CS localedef breakage.  (Closes: #321580, #322655)
    * debian/patches/glibc235-localedata-locales.dpatch: New file, to fix
      mn_MN and sid_ET localedef breakage.  (Closes: #321634)

    * debian/sysdeps/powerpc.mk: Enable PowerPC NPTL.
      (Closes: #246689, #307984)

    * debian/README: Add the description about dropping __ctype_* symbol support
      of static linked application/libraries in etch.  (Closes: #324526)

    * debian/sysdeps/linux.mk: Check SETNJOBS environment variable to specify
      the number of parallel make by users.

    * debian/sysdeps/depflags.pl: Add Conflicts: e2fsprogs (<< 1.35-7)
      because new ldd cannot work with old e2fsprogs.  (Closes: #324550)

    * debian/patches/glibc235-alpha-divqu.dpatch: New file, to fix alpha
      divqu/remqu that does not return the correct result when their dividend
      and divisor are the same and 63bit is 1.  (Closes: #324455)

    * Hurd requires gcc-3.3 to compile instead of gcc-4.0.  Requested by
      Michael Banck <mbanck@debian.org>.
      - debian/sysdeps/hurd.mk: Change CC/BUILD_CC to gcc-3.3.
      - debian/control.in/main: Build-Depends falls back to gcc-3.3.
      - debian/control: Update.

    * Introduce bootstrap kernel version check script.
      - debian/debhelper.in/libc.preinst: Move detection script to...
      - debian/script.in/kernelcheck.sh: ...this, new file.
      - debian/local/etc_init.d/glibc.sh: New file, it includes kernelcheck.sh.
      - debian/debhelper.in/libc.postinst: Invoke /etc/init.d/glibc.sh as S01.
      - debian/rules.d/debhelper.mk: Add replacing KERNEL_VERSION_CHECK and
        EXIT_CHECK for libc.preinst and glibc.sh.
      - debian/debhelper.in/libc.dirs: Create etc/init.d.

    * Don't use absolute path name.
      - debian/debhelper.in/libc.dirs: Suppress the first slash.
      - debian/debhelper.in/libc-pic.dirs: Likewise.
      - debian/debhelper.in/nscd.dirs: Likewise.
      - debian/debhelper.in/locales.dirs: Likewise.

    * Michael Banck <mbanck@debian.org>:
      - debian/patches/glibc235-gcc4-hurd.dpatch: New file, to build glibc
        on Hurd with gcc-4.0.  (Closes: #324549)

 -- GOTO Masanori <gotom@debian.org>  Sun, 21 Aug 2005 12:33:42 +0900

glibc (2.3.5-4) unstable; urgency=low

  * The "hppa is important to someone, really - LaMont" release.

  * GOTO Masanori <gotom@debian.org>

    * d-i wants to remove libnss-files-udeb and libnss-dns-udeb dependency
      from libc-udeb.  Suggested by Joey Hess <joeyh@debian.org>.
      (Closes: #322506)
      - debian/control.in/libc: Remove libnss-files-udeb libnss-dns-udeb
        dependency.
      - debian/control: Update.

    * Build-Depends fixes:
      - debian/control.in/main: Change gcc-* dependency from | to ,.
        Suggested by Andreas Jochens <aj@andaco.de>.
      - debian/control.in/main: Add gcc-4.0 (>= 4.0.1-5) [hppa], because prior
        versions cannot generate sane glibc binaries.
      - debian/control: Update.

    * Enable libnss upgrade guard again.
      (Closes: #321561, #321712, #321796, #322768, #323560)
      - debian/debhelper.in/libc.preinst: Change guard to 2.3.5-1.
      - debian/debhelper.in/libc.postinst: Likewise.
      - debian/debhelper.in/libc.postinst: Fix to invoke NSS check again.

    * debian/debhelper.in/nscd.dirs: Add /var/db/nscd.
      (Closes: #323352, #323487)

    * debian/debhelper.in/locales.prerm: Add purge to remove locale-archive.
      (Closes: #321719)

    * debian/patches/00list: Drop glibc234-hppa-remove-mallocdef.dpatch.
      It causes unconditional locking problem, because it was already replaced
      by Carlos' new patches.  Reported by LaMont Jones <lamont@debian.org>.

    * Add Depends: lib64gcc1 and provide lib64c-dev for 64bit -dev packages.
      Suggested by Matthias Klose <doko@cs.tu-berlin.de>.  (Closes: #323552)
      - debian/control.in/sparc64: Likewise.
      - debian/control.in/ppc64: Likewise.
      - debian/control.in/s390x: Likewise.
      - debian/control: Update.

    * debian/patches/glibc235-dl-execstack.dpatch: New file, to fix execstack
      failed to check on kernel <= 2.4.18.  (Closes: #321717, #321718, #323409)

    * Roland Stigge <stigge@antcom.de>:
      - debian/debhelper.in/glibc-doc.install: Install HTML documents
        correctly.  (Closes: #321740)

 -- GOTO Masanori <gotom@debian.org>  Sat,  6 Aug 2005 06:52:42 +0900

glibc (2.3.5-3) unstable; urgency=low

  * The "Keep Debconf5 speed" and the "Welcome back the recent glibc to
    unstable" release.
  * Glibc bumps up from 2.3.2.ds1 to 2.3.5 on etch.

  * GOTO Masanori <gotom@debian.org>

    * Localedata update:
      - debian/patches/cvs-localedata.dpatch: New file, to update localedata
        to the latest cvs.  Reported by Safir Secerovic <esafir@yahoo.com>,
        Reviewed by Denis Barbier <barbier@linuxfr.org>.  (Closes: #312902)
      - debian/patches/locale-iso4217.dpatch: New file, to fix localedef
        breakage for tr_TR.ISO-8859-9.  (Closes: #314855)

    * To make glibc-2.3.5 buidable with gcc-4.0:
      - debian/patches/00list: Drop glibc234-hppa-full-nptl-2004-12-20.dpatch
        line replaced by the new patches: glibc235-hppa-sysdeps.dpatch and
        glibc235-hppa-lt.dpatch.  It'll be removed when hppa unstable works
        nicely.
      - debian/patches/glibc235-gcc4-sparc-inline.dpatch: Update the patch
        to compile sparc64.
      - debian/patches/glibc235-gcc4-s390-inline.dpatch: New file, fix s390
        compilation breakage by changing static inline to auto inline for
        dl-machine.h.
      - debian/patches/glibc235-gcc4-alpha-profile.dpatch: New file, fix
        alpha compilation breakage by removing strong_alias.
      - debian/patches/glibc235-gcc4-hppa-profile.dpatch: New file, fix hppa
        compilation breakage by removing strong_alias.
      - debian/sysdeps/alpha.mk: Disabled __thread for static linked
        executables.
      - debian/control.in/main: Add Build-Depends: gcc-3.4 for powerpc and
        m68k.
      - debian/control: Regenerated.

    * To make glibc-2.3.5 buildable with gcc-3.4:
      - debian/sysdeps/m68k.mk: New file, to use gcc-3.4 as CC and BUILD_CC
        due to gcc-4.0 ICE.  See #319312.
      - debian/patches/glibc235-gcc34-m68k-seccomment.dpatch: New file, fix
        m68k binutils comment parse error.

    * Introduce RUN_TESTSUITE for disabling make check, taken from Jeff
      Bailey <jbailey@ubuntu.com>:
      - debian/rules: Enable RUN_TESTSUITE in default.
      - debian/rules.d/build.mk: Check RUN_TESTSUITE before invoking tests.
      - debian/sysdeps/hppa.mk: Disable RUN_TESTSUITE because linuxthreads
        cannot work correctly.
      - debian/sysdeps/alpha.mk: Likewise.

    * Introduce loose locales version dependency to avoid locales version
      mismatch for FTBFS architectures, taken from Jeff Bailey
      <jbailey@ubuntu.com> (Closes: #204696, #308824):
      - debian/locales-depver: New file, describes minimum locales dependency
        version.  It's renamed from locales-shlibver because it's not "shlib".
      - debian/rules.d/debhelper.mk: Use LOCALES_DEP_VER to generate locales
        dependency.
      - debian/rules: Include debian/locales-depver.

    * debian/rules.d/build.mk: Add --without-selinux for nscd.  It should be
      removed after this version ASAP.

    * debian/sysdeps/depflags.pl: Drop Depends: libdb1-compat because it's
      until sarge stuff.  Suggested by Colin Watson <cjwatson@debian.org>.
      (Closes: #318885)

    * debian/debhelper.in/nscd.dirs: New file, add /var/run/nscd dir to
      invoke nscd correctly.  (Closes: #314892)

    * debian/local/manpages/locale.gen.5: Fix typo, charsets -> charmaps.
      (Closes: #312297, #318982)

    * debian/debhelper.in/libc.preinst: Remove dpkg --assert-support-predepends
      check like base-passwrd, suggested by Bastian Blank <waldi@debian.org>.
      (Closes: #316217)

    * debian/patches/locales-supported.dpatch: Don't apply to drop UTF-8@euro
      locales from SUPPORTED.  (Closes: #274491)

    * debian/debhelper.in/libc.preinst: Fix typo.  (Closes: #306136)
    * debian/debhelper.in/libc.postinst: Likewise.

    * Michael Banck <mbanck@debian.org>:
      - debian/patches/hurd-enable-ldconfig.dpatch: New file, to build ldconfig
        again on Hurd.  (Closes: #309489)
      - debian/sysdeps/gnu.mk: Hurd-i386 needs --without-tls option to build.
      - debian/patches/hurd-libpthread-indirect-loading.dpatch: New file, to
        make libpthread load indirectly on Hurd.  (Closes: #312488)
      - debian/patches/hurd-ioctl-pfinet.dpatch: New file, to support part of
        SIOCGIFHWADDR for pfinet on Hurd.  (Closes: #295117)

    * Jeff Bailey <jbailey@ubuntu.com>:
      - debian/patches/glibc235-hppa-sysdeps.dpatch: New file, to build hppa
        linuxthreads locking problem and sysdeps correctly again.
      - debian/patches/glibc235-hppa-lt.dpatch: New file, likewise.

    * Denis Barbier <barbier@debian.org>:
      - debian/debhelper.in/locales.config: Use LANG=C for locale-dependent
        commands.  (Closes: #314717)
      - debian/debhelper.in/locales.postinst: Likewise.
      - debian/debhelper.in/locales.postinst: Fix repeated locale entry
        duplication when at least a locale is defined twice in /etc/locale.gen.
        (Closes: #271526)

    * Stephen Gildea <gildea@stop.mail-abuse.org>:
      - debian/debhelper.in/nscd.init: Provides a "status" option, fix the exit
        status if the script is given an unsupported option.  (Closes: #312404)

    * Serge Belyshev <belyshev@depni.sinp.msu.ru>:
      - debian/patches/glibc235-execvp-fix.dpatch: Fix execvp segv caused by
        invalid free pointer.

    * This version fixes some bugs that are already marked as
      fixed-in-experimental and explained the reason in this changelog.
      (Closes: #144670, #185991, #258647, #276062, #279423, #280030, #298784)
      (Closes: #300806, #300842, #304963, #305400, #305662, #305666, #309618)
      (Closes: #311793, #313404, #314084, #315347, #315793)

    * This version fixes some bugs that are already confirmed as fixed
      (fixed-in-experimental) in the experimental glibc:
      - Can compile rpc/xdr.h with gcc-4.0.  (Closes: #315198, #320963)
      - Support posix_fadvise64 correctly on 2.4 kernel.
          (Closes: #312406, #313219)
      - Can static link with the recent toolchain changed with TLS/non-TLS
        errno definition on amd64 and ia64.
        (Closes: #317674, #317946, #318956, #318963, #319115)
      - Fix mktime when setting a timezone value to AC_FUNC_MKTIME.
        (Closes: #177940)
      - Fix libc6-i686 to reexec init.  (Closes: #270745)

    * This version fixes some bugs that are marked as fixed-upstream:
      - Fix ucontext.h failure with g++-4.0 on ia64.
        (Closes: #318429, #320240)

      - Missing icache flushing on PPC caused sometimes segv, and now cache
        management is reworked and fixed.  (Closes: #146489)
      - Fix alpha atan() that gave wrong results for some operands.
        (Closes: #210613)
      - Fix PPC rint() that gave wrong result for negative arguments in the
        rounding toward -inf and +inf mode.  (Closes: #216800)
      - Fix that the pmaplist frees the freed memory in xdr_pmaplist.
        (Closes: #230219)
      - Don't export unneeded symbol _fp_hw on s390.  (Closes: #247681)
      - Set locale correctly for generated threads in static linked binaries.
        (Closes: #260221)
      - Make g++ compilation with nptl pthread.h by changing initializers.
        (Closes: #276309)
      - Fix a race condition with pthread_cond_broadcast.  (Closes: #276312)
      - Fix re_exec() segv that caused on UTF-8 locales.
        (Closes: #175163, #237681, #290551, #299137, #310443)
      - Implement getcontext on alpha.  (Closes: #293653)
      - Fix an incorrect value of ceill and floorl on amd64.  (Closes: #302458)
      - Fix memory leaks in getaddrinfo/freeaddrinfo.  (Closes: #304022)
      - Fix mips/mipsel incomplete clobbered registers for syscalls.
        (Closes: #304426)
      - Support working sched_setaffinity on powerpc.  (Closes: #311053)
      - Support _SC_HOST_NAME_MAX in sysconf.  (Closes: #314350)
      - Fix pthread_rwlock_wrlock hangs with NPTL on amd64.  (Closes: #314408)

      - Check timezone changes for localtime and friends.  (Closes: #48184)
      - Fix a race condition of sigaction and signal handler.
        (Closes: #136990)
      - Fix segmentation fault when invoking nscd -d.
        (Closes: #156923, 245208)
      - Support POSIX style strerror_r implementation.
        (Closes: #159298, #169370, #182542, #202209)
      - Enable to use short IPv4 address notation again.  (Closes: #192091)
      - Fix broken pthread_cleanup_push on Alpha.  (Closes: #197988)
      - Support POSIX message queues.  (Closes: #202197, #280137)
      - Don't use ?: in bits/mathinline.h.  (Closes: #206015, #304500)
      - Update Norwegian translation that fixes confusing text.
        (Closes: #207266)
      - Enable executable again for libc.so.*.  (Closes: #215463, #264948)
      - Improve putchar and io performance by changes to pthread locking code.
        (Closes: #219205)
      - Update sys/vm86.h.  (Closes: #219476)
      - Fix invalid __libc_dlclose() in nsswitch.c.  (Closes: #222130)
      - Support backtrace on ia64 and x86_64.  (Closes: #235876)
      - Fix nl_langinfo(ERA) returns NULL, not "".  (Closes: #245836)
      - Libintl.h is ready for some g++ compilation option.  (Closes: #252753)
      - Fix pthread_cond_timedwait and mutex hang with cancellation.
        (Closes: #253303)
      - Fix too long fraction digits handling in strtold().  (Closes: #260377)
      - Fix some regexec() segv in UTF-8 locales.  (Closes: #261135)
      - Fix pthread_cond_timedwait with a outdated timespec destroys the
        pthread_cond_t variable. (Closes: #261237)
      - Declare EPOLLONESHOT in sys/epoll.h.  (Closes: #261541)
      - Fix returning invalid pointer when freeing valloc()-ed memory.
        (Closes: #262782)
      - Replace gcc-3.4 option for ppc64.  (Closes: #263959)
      - Fix zdump -v segv on ia64.  (Closes: #266438)
      - Support pthread_create with attributes.  (Closes: #266507)
      - Change __vector to __iovec for sys/io.h to prevent conflicts with
        altivec.  (Closes: #267442)
      - Fix atan2 infinit loop on amd64.  (Closes: #270823)
      - Avoid memory leak for some gconv encoding by calling gconv_end.
        (Closes: #274390)
      - Fix mplayerplug-in crash closed by mozilla.  (Closes: #275240)
      - Fix invalid memory access of printf when its specifier combines
        parameter number specification and floating point values.
        (Closes: #277667, #312036)
      - Don't touch unrelated bits in __feclearexcept on i386.
        (Closes: #279294)
      - Don't invoke unneeded cancellation if PTHREAD_CANCEL_DISABLE is set.
        (Closes: #281775)
      - Fix a race condition between pthread_create and pthread_exit.
        (Closes: #282091, #292154)
      - Fix for setfacl to handle many files in ntfw64.  (Closes: #288710)
      - Support large dev_t.  (Closes: #289945, #299139)
      - Use the correct ifndef __GNUC_PREREQ.  (Closes: #315345)

      - Fix the indended first line of ldd output.  (Closes: #209145, #276223)
      - Fix misleading error message of ldd when kernel version is old.
        (Closes: #224665)
      - Fix typo of the language name in te_IN.  (Closes: #276527)
      - Replace old --help message that indicated glibcbug script.
        (Closes: #315448)

      - Support IDN.  (Closes: #181025)
      - Support O_NOATIME.  (Closes: #284131, #297010, #298488)
      - The first day of a week in Finnish is Monday.  (Closes: #288472)

 -- GOTO Masanori <gotom@debian.org>  Sun, 17 Jul 2005 17:27:30 +0900

glibc (2.3.5-2) experimental; urgency=low

  * Debconf5 release.

  * GOTO Masanori <gotom@debian.org>

    * Merge glibc-2.3.4 branch to the main trunk for etch development.

    * These dpatches are removed from debian/patches because the similar
      patches are already applied in the latest version:
      - debian/patches/rtld-vdso-assertion.dpatch
      - debian/patches/glibc232-sigsetjmp.dpatch
      - debian/patches/hurd-weak-aliases.dpatch
      - debian/patches/sched-update.dpatch
      - debian/patches/glibc232-pthread-cancellation.dpatch
      - debian/patches/glibc232-clock_settime.dpatch

    * The New dpkg-architecture changes:
      - debian/rules: Replace DEB_HOST_BUILD_SYSTEM, use DEB_HOST_ARCH_OS.
        Reported by Arthur Marsh <arthur.marsh@internode.on.net>.
        (Closes: #315347, #315793)
      - debian/control.in/main: Bump up Build-Depends: dpkg-dev (>= 1.13.5).
      - debian/control: Updated.
      - debian/debhelper.in/libc.preinst: Replace "dpkg
        --print-installation-architecture", use "dpkg --print-architecture".
      - debian/debhlper.in/libc.postrm: Likewise.
      - debian/debhlper.in/libc.postinst: Likewise.
      - debian/sysdeps/depflags.pl: Change checks from i386 to i486.
        It also replaces -linux, use -linux-gnu.

    * Default compiler moves from gcc-3.3 to gcc-4.0:
      - debian/rules: Use gcc-4.0 instead of gcc-3.3.  (Closes: #315198)
      - debian/control.in/main: Define Build-Depends: gcc-4.0.
      - debian/control: Updated.
      - debian/sysdeps/i386.mk: Replace depreciated "-mcpu", use "-mtune".

    * These dpatches are added to make glibc-2.3.5 buidable with gcc-4.0:
      - debian/patches/glibc235-gcc4-cvs.dpatch: Fix some bad defintion of
        internal for all architectures.
      - debian/patches/glibc235-gcc4-elf.dpatch: Remove elf_machine_rel*
        definitions for all architectures.
      - debian/patches/glibc235-gcc4-jis0208.dpatch: Fix compilation breakage
        for all architectures.
      - debian/patches/glibc235-gcc4-wcstol_l.dpatch: Fix wcstol_l.c
        compilation breakage for all 64bit architectures.
      - debian/patches/glibc235-binutils216-ia64.dpatch: Fix _init/_fini was
        not defined within procedure with binutils 2.16 for ia64.
      - debian/patches/glibc235-gcc4-ia64-profile.dpatch: Fix compilation
        breakage by removing strong_alias for ia64.
      - debian/patches/glibc235-gcc4-ppc-procfs.dpatch: Fix ppc32 compilation
        breakage by removing __uint128_t use.  (Closes: #304963)
      - debian/patches/glibc235-gcc4-arm-inline.dpatch: Fix arm compilation
        breakage by changing static inline to auto inline for dl-machine.h.
      - debian/patches/glibc235-gcc4-sparc-inline.dpatch: Fix sparc compilation
        breakage by changing static inline to auto inline for dl-machine.h.
      - debian/patches/glibc235-gcc4-sparc-mv8.dpatch: Fix obsolete gcc option
        to replace newer standard one.
      - debian/patches/glibc235-gcc4-mips-inline.dpatch: Fix mips compilation
        breakage by changing static inline to auto inline for dl-machine.h.
      - debian/patches/glibc235-gcc4-mips-sysdeps.dpatch: Fix mips compilation
        breakage by changing large syscall arguments handling.

    * Move /etc/locale.alias to /usr/share/locale/locale.alias.
      Don't install locale.alias.5.  (Closes: #144670, #185991, #298784)
      - debian/local/usr_sbin/locale-gen: Use /usr/share/locale/locale.alias
        instead of /etc/locale.alias.
      - debian/local/manpages/locale-gen.8: Delete reference to
        locale.alias.5.
      - debian/local/manpages/locale.gen.5: Likewise.
      - debian/debhelper.in/locales.links: Remove file, don't link to /etc.
      - debian/debhelper.in/locales.install: Install locale.alias under
        /usr/share/locale, not /etc/.
      - debian/debhelper.in/locales.manpages: Don't install locale.alias.5

    * Add documents:
      - debian/debhelper.in/libc.docs: Add CONFORMANCE and NAMESPACE.

    * Fix messages to add a patience message.  (Closes: #305400)
      - debian/local/usr_sbin/locale-gen

    * Move sprof from libc-prof to libc-dev.  (Closes: #280030)
      - debian/sysdeps/depflags.pl: Add Replaces: libc-dev (<< 2.3.5-2).
      - debian/debhelper.in/libc-prof.install: Remove sprof install.
      - debian/debhelper.in/libc-dev.install: Install sprof moved from -prof.
      - debian/debhelper.in/libc-dev.install.hurd-i386: Likewise.
      - debian/debhelper.in/libc-dev.manpages: Add sprof.1 install.
      - debian/debhelper.in/libc-prof.manpages: Remove file, don't install
        sprof.1.

    * Remove Depends: lib64gcc1 from libc6-sparc64.  (Closes: #258647)
      - debian/control.in/sparc64: Delete Depends: lib64gcc1.
      - debian/control: Likewise.

    * Small change for libc6 upgrade problem.
      - debian/debhelper.in/libc.postrm: Add plain messages and clean up.

    * Add conflicts to old initrd-tools for avoiding new glibc 2.3.4/5 ldd
      blocks to generate initrd images.  Suggested by Goswin von Brederlow
      <brederlo@informatik.uni-tuebingen.de>.
      - debian/sysdeps/depflags.pl: Add conflicts initrd-tools (<< 0.1.79).

    * Add support PowerPC64, based on patches and suggestions by Bastian Blank
      <waldi@debian.org> and Jeff Bailey <jbailey@ubuntu.com>:
      - debian/control.in/main: Add Build-Depends: gcc-3.4 [powerpc] because
        powerpc porting does not support gcc-4.0 currently.
      - debian/control: Updated.
      - debian/rules.d/control.mk: Add ppc64.
      - debian/sysdeps/powerpc.mk: Added to support ppc64 target.

    * debian/sysdeps/hppa.mk: Add /usr/hppa64-linux-gnu/include symlinks for
      dpkg-architecture changes.  Reported by Matthias Klose
      <doko@cs.tu-berlin.de>.  (Closes: #313404)

    * A Costa <agcosta@gis.net>.  (Closes: #305662, #305666)
      - debian/local/manpages/tzconfig.8: Fixed typo.
      - debian/local/manpages/ldconfig.8: Likewise.

    * Clytie Siddall <clytie@riverland.net.au>:
      - debian/po/vi.po: Add the Vietnamese translation for locales.
        (Closes: #309618, 311793)

    * Jens Seidel <jensseidel@users.sf.net>:
      - debian/po/de.po: Fix typo.  (Closes: #314084)

 -- GOTO Masanori <gotom@debian.org>  Thu, 21 Apr 2005 16:52:36 +0900

glibc (2.3.5-1) experimental; urgency=low

  * GOTO Masanori <gotom@debian.org>

    * New upstream release.
      - debian/shlibver: Bump up to 2.3.5-1.

    * Drop patches:
      - debian/patches/hurd-malloc.dpatch: Removed, it's already applied in
        the upstream source.

    * Merge with 2.3.2.ds1-21, added:
      - debian/patches/linuxthreads-sizefix.dpatch: Added.
      - debian/po/fi.po: Added.
      - debian/patches/glibc23-mips-lazy-eval.dpatch: Added, drop dl-machine.h
        because the recent upstream should not need such change.
      - debian/patches/glibc232-tls-crashfix.dpatch: Added, remove some parts
        that are applied in the recent version.

    * Merge with 2.3.2.ds1-21, changed:
      - debian/debhelper.in/libc.preinst: Fix typo, proofreading.
      - debian/debhelper.in/libc.preinst: Add export LC_ALL=C.
      - debian/patches/00list: Update.

    * Update linuxthreads size fix for not only ia64, but also alpha,
      amd64, i386, powerpc, s390, sh and sparc.
      - debian/patches/linuxthreads-sizefix.dpatch: Update.

    * Fix more libc6 upgrade problem from old <= 2.3.4-1:
      - debian/debhelper.in/libc.postinst: Don't use uname -m, use
        dpkg --print-installation-architecture.  Hwcappkgs mechanism does not
        work on (ex:) install architecture: i386, kernel architecture: amd64.
      - debian/debhelper.in/libc.postrm: Likewise.

    * Support libc6-dev NPTL static libraries and headers into
      /usr/lib/nptl and /usr/include/nptl.  (Closes: #276062, #279423)
      - debian/rules.d/build.mk: Add installation code from tmp-nptl to
        tmp-libc.
      - debian/debhelper.in/libc-dev.install: Add tmp-libc/usr/lib/nptl*.

 -- GOTO Masanori <gotom@debian.org>  Sun, 10 Apr 2005 14:02:19 +0900

glibc (2.3.4-3) experimental; urgency=low

  * GOTO Masanori <gotom@debian.org>

    * The complete libc6 installation breakage is fixed when hwcap packages
      (libc6-i686 and libc6-sparcv9/sparcv9b) is installed.  It introduced
      /etc/ld.so.hwcappkgs to track hwcap packages.
      - debian/debhelper.in/libc.postinst: Create /etc/ld.so.hwcappkgs if
        such file is not existed.  Check hwcap packages and decide to keep
        /etc/ld.so.nohwcap.  Put special ld.so.nohwcap string when the
        downgraded version does not support ld.so.hwcappkgs.
      - debian/debhelper.in/libc-otherbuild.postinst: When it's configured,
        check /etc/ld.so.hwcappkgs and decides to keep /etc/ld.so.nohwcap.
      - debian/debhelper.in/libc-otherbuild.postrm: When it's removed,
        check /etc/ld.so.hwcappkgs and search other hwcap package's version
        consistency.  Then it decides to remove /etc/ld.so.nohwcap.
      - debian/debhelper.in/libc.postrm: Leave /etc/ld.so.nohwcap if it's
        downgrade to hwcappkgs incompatible version.
      - debian/rules.d/debhelper.mk: Include "libc-" into OPT string
        replacement.

 -- GOTO Masanori <gotom@debian.org>  Tue, 29 Mar 2005 17:22:25 +0900

glibc (2.3.4-2) experimental; urgency=low

  * GOTO Masanori <gotom@debian.org>

    * Fix libc6 installation breakage when old libc6 and libc6-i686 was
      installed, and it's replaced with a new libc6.  This fix is limited
      for i686 optimized package, not for sparc multiple opt packages.
      (Closes: #300806, #300842)
      - debian/debhelper.in/libc.postinst: Add check for the existence of
        multiple optimized packages.
      - debian/rules.d/debhelper.mk: Add the replace code from CURRENT_VER
        to $(DEB_VERSION) for libc.postinst.  Install libc-otherbuild.postrm.
      - debian/debhelper.in/libc-otherbuild.postrm: Added to remove
        unneeded ld.so.nohwcap for single optimized package.

 -- GOTO Masanori <gotom@debian.org>  Tue, 22 Mar 2005 11:17:32 +0900

glibc (2.3.4-1) experimental; urgency=low

  * GOTO Masanori <gotom@debian.org>

    * Reflect from glibc-snapshot package 2.3.4-0.3.snapshot20041220.2.

    * Add glibc-libidn package handling for the following files:
      - debian/sysdeps/gnu.mk
      - debian/sysdeps/linux.mk
      - debian/sysdeps/kfreebsd-gnu.mk
      - debian/rules

    * Add separated shlibver file:
      - debian/rules: Include debian/shlibver.
      - debian/shlibver: Bump up shlibver to 2.3.4-1.

    * Delete removed file info/libc-dir-add.info:
      - debian/debhelper.in/glibc-doc.install
      - debian/rules.d/build.mk

    * These dpatches are added in debian/patches/:
      - glibc234-alpha-xstat.dpatch: Fix alpha compilation failure when
        kernel headers < 2.6.4 is used.
      - glibc234-hppa-linesep.dpatch: Add to fix hppa compilation failure.
      - glibc234-hppa-remove-mallocdef.dpatch: Add to
        fix hppa compilation breakage until ldcw lock change is introduced.
        This patch will be removed when ldcw patch is revised to apply.
      - glibc234-m68k-linuxthreads-fPIC.dpatch: Add to fix m68k compilation
        warnings to remove linuxthreads o-iterator.
      - glibc234-hppa-full-nptl-2004-12-20.dpatch: Remove in-cvs parts,
        apply the remained stuff for hppa, except for ldcw lock change.
        This file is renamed from 50_glibc232-hppa-full-nptl-2003-10-22.dpatch.

    * These dpatches are modified/replaced with the newer patches in
      debian/patches/:
      - glibc-i686-timing.dpatch: Modify makefile.  Fix i686 library breakage.
      - glibc23-cmov.dpatch: Drop additional TLS parts.
      - glibc23-sse-oldkernel.dpatch: Regenerated.
      - hppa-drop-utimes.dpatch: Regenerated.
      - ldconfig.dpatch: The previous patch seems being wrong because it
        supresses all warnings about error.  The new patch I introduced should
        not warn during debootstrap, and works finely during normal operation.
      - ldd.dpatch: Regenerated.
      - ldso-disable-hwcap.dpatch: Regenerated.
      - locale-no_NO.dpatch: Drop locale.alias part which is already applied.
      - makeconfig.dpatch: Regenerated.
      - 50_glibc232-arm-dwarf2-buildfix.dpatch: Modify to fix sjlj compilation.
      - 50_glibc232-m68k-dwarf2-buildfix.dpatch: Likewise.

    * These dpatches are currently suspended to apply (those entries in
      00list are commented out) with various reasons, they need update or
      confirmation:
      - 30_glibc232-base.dpatch: If this patch is needed, the another
        binutils related problem should be occured.  It's disabled for a
        while, then remove iff no problem is reported.
      - alpha-pic.dpatch: #175511 said the upstream should have another
        different fix.  After confirmation, it should be removed.
      - arm-output-format.dpatch: I believe the recent arm glibc should work
        without this patch.  If arm still has problem, then enable it.
      - glibc232-globfree-clear.dpatch: The latest upstream has gl_pathv=NULL
        part, bug gl_pathc=0 part.  I think the current code is harmless.
        It needs confirmation to Jeff Licquia.
      - translation-fr.dpatch: The upstream rejects this wishlist bug.  After
        confirmation, it'll be removed.
      - mips-asm-unistd.dpatch: I need to look at the result of the current cvs
        unistd.h.
      - hurd-enable-ldconfig.dpatch: Disabled currently.

    * These dpatches are currently applied, but it may be removed from
      00list as until sarge stuff:
      - libgcc-compat-all.dpatch: It'll be removed in future.
      - libgcc-compat-other.dpatch: Likewise.

    * These dpatches are currently suspended to apply from 00list because
      we plan to be removed after sarge release:
      - glibc23-ctype-compat.dpatch: Until sarge stuff.
      - glibc23-errno-hack.dpatch: Until sarge stuff.
      - glibc23-errno.dpatch: This patch should not be considered permanent;
        it may be one of until sarge stuff.
      - glibc23-function-compat.dpatch: Until sarge stuff.
      - locales-supported.dpatch: Debian specific, until sarge stuff.

    * This dpatch is not used currently:
      - 10_cvs.dpatch

    * These dpatches are removed from debian/patches/ because they are already
      in upstream cvs:
      - 11_cvs_locales.dpatch
      - 11_shlib-lds.dpatch
      - 51_glibc232-hppa-dist.dpatch
      - 51_glibc232-hppa-nopltrel.dpatch
      - 51_glibc232-hppa-profiling.dpatch
      - 52_glibc233-hppa-feupdateenv.dpatch
      - 90_glibc232-statvfs.dpatch
      - 90_glibc232-timezones.dpatch
      - alpha-crti.dpatch
      - alpha-rtsigaction-fix.dpatch
      - fno-unit-at-a-time.dpatch
      - glibc23-dlclose-l_opencount.dpatch
      - glibc23-libio-compat.dpatch
      - glibc23-powerpc-sigcontext.dpatch
      - glibc23-sparc-pread64.dpatch
      - glibc232-catchsegv-insecure-temp.dpatch
      - glibc232-hppa-unwindinfo.dpatch
      - glibc232-ia64-unwindinfo.dpatch
      - glibc232-iconv-ucs2-unalign.dpatch
      - glibc232-mips-dl-machine.dpatch
      - glibc232-misc-syslog.dpatch
      - glibc232-nptl-posix-timer.dpatch
      - glibc232-ppc32-nanosecond.dpatch
      - glibc232-remove-vsyscall.dpatch
      - glibc232-sparc64-softfp.dpatch
      - glibcbug.dpatch
      - hppa-syscall.dpatch
      - hurd-cleanup.dpatch
      - hurd-exit-attr-hidden.dpatch
      - hurd-i386-hwcap.dpatch
      - hurd-libc-lock.dpatch
      - hurd-utmp-file.dpatch
      - locale-byn_ER.dpatch
      - locale-et_EE.dpatch
      - locale-ro_RO.dpatch
      - locale-strfmon.dpatch
      - mips-sgidefs.dpatch
      - nptl-io-locking.dpatch
      - nptl-page-align.dpatch
      - nptl-pthread-c++.dpatch
      - nptl-pthread-create-attr.dpatch
      - nptl-pthread-once.dpatch
      - pthread-cleanup.dpatch
      - s390-backtrace.dpatch
      - s390-pthread-fpic.dpatch
      - syslog-locale.dpatch

    * Hurd update:
      - debian/patches/hurd-string.dpatch: Removed, it's already in cvs.
      - debian/patches/00list.hurd-i386: Removed.
      - debian/patches/hurd-malloc.dpatch: Add to fix Hurd build fix, patch
        from Michael Banck <mbanck@debian.org>.

 -- GOTO Masanori <gotom@debian.org>  Fri, 18 Mar 2005 09:41:49 +0900

glibc (2.3.2.ds1-22) unstable; urgency=medium

  * Daniel Jacobowitz <dan@debian.org>

    - debian/patches/rtld-vdso-assertion.dpatch: Fix an assertion failure
      running /lib/libc.so.6.
    - debian/rules.d/debhelper.mk: Mark runnable libraries +x again.

 -- Daniel Jacobowitz <dan@debian.org>  Tue, 10 May 2005 15:11:53 -0400

glibc (2.3.2.ds1-21) unstable; urgency=high

  * GOTO Masanori <gotom@debian.org>

    - debian/patches/linuxthreads-sizefix.dpatch: Fix ia64 TLS_PRE_TCB_SIZE
      alignment where TLS_DTV_AT_TP is defined between linuxthreads and nptl.
      It breaks evolution on ia64 linuxthreads ld.so + nptl environment.
      (Closes: #292673)
    - debian/patches/glibc232-sigsetjmp.dpatch: Fix gcc-4.0 compilation
      breakage on amd64.  (Closes: #295457)
    - debian/debhelper.in/libc.manpages: Add tzconfig.8.  Reported by Matthijs
      Mohlmann <matthijs@cacholong.nl>.  (Closes: #182981)
    - debian/patches/90_glibc232-timezones.dpatch: Update to tzdata2005h.
    - debian/patches/hurd-weak-aliases.dpatch: Add to fix undefined references
      to build putty on Hurd, patched by Michael Banck <mbanck@debian.org>.
      (Closes: #295118)
    - debian/debhelper.in/libc.preinst: Fix typo, proofreading.
      (Closes: #294816, #303478)
    - debian/rules: Bump up shlib_dep_ver 2.3.2.ds1-21.  It's required by
      adding GLIBC_2.3.4 symbol.

    - Bastian Blank <waldi@debian.org>:
      - debian/patches/sched-update.dpatch: Update sched_[gs]et_affinity to
        new interface and library version.  Add GLIBC_2.3.4 versioned symbol
        for new interface.  (Closes: #297769)
    - Jeff Bailey <jbailey@raspberryginger.com>:
      - debian/patches/glibc232-tls-crashfix.dpatch: Fix tls assertion that
        crashes xmms/nvidia.  (Closes: #219352)
      - debian/patches/glibc232-pthread-cancellation.dpatch: Fix pthread
        cancellation bug that causes JVM lockups.  (Closes: #300943)
    - Denis Barbier <barbier@debian.org>:
      - debian/debhelper.in/libc.preinst: Add export LC_ALL=C like
        libc.postinst, it corrects some locale dependent behavior,
        especially for `tr'.  (Closes: #304257)
    - Lars Wirzenius <liw@iki.fi>:
      - debian/local/manpages/iconv.1: Escape hyphens for Unicode
        environments.  (Closes: #292013)
    - Emilian Nowak <emil5@go2.pl>:
      - debian/po/pl.po: Add Polish debconf translation.  (Closes: #294444)
    - Matti Polla <mpo@iki.fi>:
      - debian/po/fi.po: Add Finnish debconf translation.  (Closes: #303816)
    - Khalid Aziz <khalid_aziz@hp.com>:
      - debian/patches/glibc232-clock_settime.dpatch: Fix clock_settime
        always fails with EINVAL.  (Closes: #304668)
    - Thiemo Seufer <ths@debian.org>:
      - debian/patches/glibc23-mips-lazy-eval.dpatch: Workaround fix for
        broken symbol resolving of lazy evaluation stubs on mips/mipsel,
        that causes fakeroot breakage.  (Closes: #265678, #264920)

 -- GOTO Masanori <gotom@debian.org>  Mon, 14 Feb 2005 09:26:26 +0900

glibc (2.3.2.ds1-20) unstable; urgency=high

  * GOTO Masanori <gotom@debian.org>

    - debian/patches/hppa-drop-utimes.dpatch: Fix sudo breakage because
      system call utimes() is not defined on hppa.  Patched by Randolph Chung
      <tausq@debian.org>.  (Closes: #284449)

    - Fix ia64 unwind FTBFS.  Patched by Matthias Klose <doko@debian.org>:
      - debian/patches/glibc232-ia64-unwindinfo.dpatch: Modify Makeconfig
        which unconditionally set the libunwind macro to -lunwind, until the
        it's safe again to regenerate the configure script, on advice of
        Jeff Bailey.  (Closes: #284563)
      - debian/control.in/main: Tighten build dependency on ia64 to
        gcc-3.3_3.3.5-5.
      - debian/control: Likewise.

    - debian/sysdeps/amd64.mk: Add /lib64 and /usr/lib64 symlinks which are
      provided by glibc instead of base-files for amd64.  Requested by Goswin
      Brederlow <brederlo@informatik.uni-tuebingen.de>.  (Closes: #259302)
    - debian/rules.d/debhelper.mk: Replace from extra_pkg_install to
      extra_debhelper_pkg_install rule which are used for debhelper.mk only.

    - debian/patches/librt-mips.dpatch: Update to provide clock_{set,get}time
      with versioned symbol both GLIBC_2.0 and GLIBC_2.2.  This patch should
      be applied until sarge+1 will be released.

    - debian/local/manpages/locale.1: Add the description about
      /usr/share/i18n/SUPPORTED.  Requested by Guillermo S. Romero
      <gsromero@alumnos.euitt.upm.es>.  (Closes: #284137)

 -- GOTO Masanori <gotom@debian.org>  Wed, 15 Dec 2004 19:44:47 +0900

glibc (2.3.2.ds1-19) unstable; urgency=high

  * GOTO Masanori <gotom@debian.org>

    - debian/local/manpages/gencat.1: Use \fR instead of \fT for bold
      font, and use .TP instead of .PP for option usage.  Patched by
      Lars Wirzenius <lars.wirzenius@nokia.com>.  (Closes: #279685)
    - debian/local/manpages/iconvconfig.8: Likewise + fix typo.
    - debian/local/manpages/mtrace.1: Likewise.
    - debian/local/manpages/locale.1: Add "SEE ALSO" to the end of the
      manual.  (Closes: #282128)

    - debian/sysdeps/linux.mk: Drop -fomit-frame-pointer from compiling
      option to build NPTL packages in order to get valid backtrace.
      -D__USE_STRING_INLINES is also dropped to consider about backtraces.
      Requested by David Mosberger <davidm@hpl.hp.com>.
    - debian/sysdeps/amd64.mk: Likewise.
    - debian/sysdeps/i386.mk: Likewise.
    - debian/sysdeps/s390.mk: Likewise.
    - debian/sysdeps/sparc.mk: Likewise.

    - debian/patches/glibc232-hppa-unwindinfo.dpatch: Add for unwind
      information for hppa plt fixup routine.  Patched by
      Randolph Chung <tausq@debian.org>.  (Closes: #281993)
    - debian/patches/glibc232-ia64-unwindinfo.dpatch: Add to work
      ia64 unwind info and libunwind properly.  Requested by David Mosberger
      <davidm@napali.hpl.hp.com>.  (Closes: #278837)

    - debian/patches/glibc232-catchsegv-insecure-temp.dpatch: Add fix
      CAN-2004-0968: catchsegv creates insecure temporary file.
      (Closes: #278278)
    - debian/debhelper.in/libc.install: Remove glibcbug to fix CAN-2004-0968,
      and it's meaningless to include nowadays.  (Closes: #205600)
    - debian/debhelper.in/libc.manpages: Remove glibcbug.1 from manpage.
    - debian/patches/glibcbug.dpatch: Add comment to be removed.

    - debian/make-cvs-patch.sh: Change like make-cvs-locales-patch.sh.

    - debian/patches/s390-pthread-fpic.dpatch: Add to fix lam build failure.
      It changes pthread_atfork in libpthread_nonshared.a is built with
      -fPIC, not -fpic, that is already applied in libc_nonshared.a.
      (Closes: #280445)

    - debian/control.in/libc: Add gcc | c-compiler to Recommends of libc-dev.
      This change avoids that aptitude tries to install various compiler
      packages if only c-compiler is specified.  (Closes: #283668)
    - debian/control.in/main: Add Build-Depends: gcc-3.3 (>= 1:3.3.5-3) [ia64]
      | gcc-3.4 (>= 3.4.3-2) [ia64] because ia64 should be built with gcc
      which supports libunwind.  Requested by Matthias Klose
      <doko@debian.org>.
    - debian/control: Update.

    - debian/patches/nptl-pthread-c++.dpatch: Add to disable using C99
      designators for nptl pthread.h to fix C++ breakage.  Patched by
      Andreas Jochens <aj@andaco.de> and Matthias Klose
      <doko@cs.tu-berlin.de>.  (Closes: #275997, #283461)

 -- GOTO Masanori <gotom@debian.org>  Sat,  6 Nov 2004 19:04:26 +0900

glibc (2.3.2.ds1-18) unstable; urgency=high

  * GOTO Masanori <gotom@debian.org>

    - debian/patches/glibc232-sparc64-softfp.dpatch: Add to fix
      glibc build breakage on sparc with binutils 2.15.  It's caused by
      the register misusage, that was allowed by the previous binutils.
      (Closes: #266598)
    - debian/debhelper.in/libc.postinst: Fix to execute NSS services
      correctly when file-rc is used.  (Closes: #275403)

    - debian/patches/90_glibc232-timezones.dpatch: Update to tzdata2004e.

    - debian/debhelper.in/locales.prerm: Add to fix warning not to remove
      /usr/lib/locale/locale-archive.  (Closes: #264020)
    - debian/debhelper.in/locales.postrm: Add to remove /etc/locale.gen
      when purge is specified.

 -- GOTO Masanori <gotom@debian.org>  Tue,  5 Oct 2004 09:32:01 +0900

glibc (2.3.2.ds1-17) unstable; urgency=high

  * GOTO Masanori <gotom@debian.org>

    - debian/sysdeps/depflags.pl: Fix typo, from "kerberos4th-dev" to
      "kerberos4kth-dev".  (Closes: #266637)
    - debian/patches/00list: Add locale-byn_ER.dpatch that was missing
      when I fixed.  (Closes: #270998)

    - debian/patches/glibc23-dlclose-l_opencount.dpatch: Fix reference
      counter in dl that does not sometimes decrement correctly.
      (Closes: #233301, #259211)
    - debian/patches/glibc232-globfree-clear.dpatch: Workaround and
      to make sure that fix to enforce clear gl_pathc and gl_pathv in
      globfree() for sarge to conform LFS test, requested by Jeff Licquia.
      (Closes: #264884)

    - debian/local/manpages/tzselect.1: Fix typo.  (Closes: #269747)

    - debian/debhelper.in/libc.preinst: Don't install glibc when kernel
      is not 2.6 on amd64.
    - debian/sysdeps/amd64.mk: Patch from Andreas Jochens:
       - Drop the 'nptl' pass from GLIBC_PASSES.
       - Use 'nptl' instead of 'linuxthreads' in the 'libc' pass (this
         requires kernel >= 2.6.0, but 2.4 is not supported by the amd64
         port anyway).

 -- GOTO Masanori <gotom@debian.org>  Thu, 19 Aug 2004 12:39:35 +0900

glibc (2.3.2.ds1-16) unstable; urgency=high

  * GOTO Masanori <gotom@debian.org>

    - debian/FAQ: Add note about errno + NPTL workaround.
      (Closes: #261035)
    - debian/patches/glibc232-mips-dl-machine.dpatch: Fix mips/mipsel
      compilation breakage with the recent binutils.  (Closes: #262646)
    - debian/patches/glibc232-m68k-reloc.dpatch: Fix m68k compilation
      breakage with the recent binutils.  (Closes: #263601)

  * Jeff Bailey <jbailey@raspberryginger.com>

    - debian/debhelper.in/libc-dev.install.hurd-i386: Don't install
      getconf.

 -- GOTO Masanori <gotom@debian.org>  Mon,  2 Aug 2004 11:53:54 +0900

glibc (2.3.2.ds1-15) unstable; urgency=high

  * Jeff Bailey <jbailey@raspberryginger.com>

    - debian/sysdeps/depflags.pl: Replace ${libc}, not libc6.
      (Closes: #262669)

    - Marking urgency as high, last upload should have been marked
      this way for RC bug fix.

 -- Jeff Bailey <jbailey@raspberryginger.com>  Sun,  1 Aug 2004 08:50:13 -0400

glibc (2.3.2.ds1-14) unstable; urgency=low

  * GOTO Masanori <gotom@debian.org>

    - debian/patches/glibc232-iconv-ucs2-unalign.dpatch: Add to fix
      iconv unalignment access with UCS-2BE/UCS-2LE on some architectures.
      (Closes: #234691)
    - debian/patches/locale-byn_ER.dpatch: Add to fix byn_ER localedef
      breakage.  Patched by Denis Barbier <barbier@linuxfr.org>.
      (Closes: #246270, #257658)
    - debian/patches/locales-supported.dpatch: Add no_NO.ISO-8859-1 into
      SUPPORTED.  (Closes: #246170)
    - debian/patches/glibc232-nptl-posix-timer.dpatch: Fix posix timer
      SIGEV_THREAD notification is broken.  (Closes: #259878)
    - debian/patches/glibc232-remove-vsyscall.dpatch: Remove __ASSUME_VSYSCALL
      to fix the system startup failure on the machine using PAX.
      (Closes: #245563)
    - debian/patches/90_glibc232-timezones.dpatch: Updated to tzcode2004b
      and tzdata2004b.
    - debian/patches/locale-eu_FR.dpatch: Add eu_FR and eu_FR@euro.
      Patched by Christian Perrier <bubulle@debian.org>.  (Closes: #257840)
    - debian/patches/locale-sr_CS.dpatch: Add sr_CS and sr_CS@cyrillic.
      Patched by Christian Perrier <bubulle@debian.org>.  But this patch is
      conflicted to sr_YU things - it's disabled for a while.

    - debian/local/etc_init.d/nscd: Rewritten the whole script to make
      use of the initscript's method.  Patched by Thomas Hood
      <jdthood@aglu.demon.nl>.
      (Closes: #229273, #229484, #253119, #252284, #222953)

    - debian/local/manpages/iconv.1: Add small description for `-c' and
      so on.  (Closes: #189958)
    - debian/local/manpages/rpcgen.1: Add -M option description.
      (Closes: #193467)
    - debian/po/de.po: Updated.  Patched by Helge Kreutzmann
      <kreutzm@itp.uni-hannover.de>.  (Closes: #251732)

    - debian/debhelper.in/libc.postinst: Add apache-ssl and apache-perl to
      restart script.  Suggested by Daniel Jacobowitz <dan@debian.org>.
      (Closes: #208997)
    - debian/debhelper.in/libc.postinst: Add vsftpd to restart script.
      Suggested by Jeff Bailey <jbailey@nisa.net>.  (Closes: #213535)
    - debian/debhelper.in/libc.postinst: Add lpr-ppd.  Change init script
      name from lpr, lpr-ppd to lpd, lpd-ppd.  (Closes: #205084)
    - debian/debhelper.in/libc.postinst: Fix package detection failure when
      uninstalled package is encountered during NSS upgrade.
      (Closes: #193278)
    - debian/debhelper.in/libc.postinst: Add export LANG=C to work scripts
      correctly even if user sets locale environment variable.
    - debian/debhelper.in/libc.postinst: Change sleep time from 1 to 2.
      It's work-around fix, actual fix is start-stop-daemon --stop should
      check the process termination.  See: #211784.

    - debian/local/usr_sbin/tzconfig: Fix typo: old_timezone vs oldtimezone.
      Reported by Kai Henningsen <kai@khms.westfalen.de>.  (Closes: #213159)

    - debian/control.in/libc-dbg: Add Provides: libc-dbg for -dbg package.
      (Closes: #219145)
    - debian/control.in/libc, debian/control: likewise.

    - /usr/bin/getconf and getconf.1 are moved from libc-dev to libc.
      (Closes: #239170)
    - debian/debhelper.in/libc-udeb.install: Add libutil* and libcrypt*
      to -udeb.  (Closes: #258956)

    - Put amd64 port from Andreas Jochens.
      - debian/control: Updated.
      - debian/control.in: Modify Build-Depends: gcc-3.3 | gcc-3.4.
        glibc can build at least gcc-3.3 and later.  And this will make it
        possible to build glibc with gcc-3.4 when gcc-3.4 becomes the default
        on amd64 without changing glibc again.
      - debian/sysdeps/amd64.mk: Use workaround -g0 option when gcc-3.4 is
        used, because gcc-3.4 on amd64 with -g0 + nested functions are broken:
        http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=260710

  * Andreas Jochens <aj@andaco.de>

    - debian/rules.d/control.mk: Add amd64 at the appropriate places.
    - Add debian/patches/amd64-lib.dpatch to disable the biarch lib64 dir on
      amd64 and enable this patch in debian/patches/00list.  (Closes: #246547)
    - Add a new file debian/sysdeps/amd64.mk with GLIBC_PASSES += nptl
      (Closes: #248192)
    - debian/sysdeps/amd64.mk: Use gcc instead of gcc-3.3 on amd64.
    - debian/patches/fno-unit-at-a-time.dpatch: Add -fno-unit-at-a-time
      test to configure for amd64 + gcc-3.4.  (Closes: #261082)

  * Jeff Bailey <jbailey@raspberryginger.com>

    - debian/patches/syslog-locale.dpatch: Include patch from Jakub
      Jelinek to make sure syslogging happens in the C locale.
      Thanks to pere for catching this.  (Closes: #161340, #158651)

    - debian/patches/hurd-string.dpatch: New file
    - debian/patches/00list.hurd-i386: Only load hurd-string on hurd-i386.

 -- GOTO Masanori <gotom@debian.org>  Mon, 31 May 2004 23:43:29 +0900

glibc (2.3.2.ds1-13) unstable; urgency=low

  * Jeff Bailey <jbailey@raspberryginger.com>

   - debian/control.in/main: Change to new email address.
   - debian/debhelper.in/libc-dev.install.hurd-i386: Add missing files.
     Thanks to Michael Banck (Closes: #246355)
   - debian/sysdeps/gnu.mk: Stub out kernel_check.
     Thanks to Michael Banck

  * GOTO Masanori <gotom@debian.org>

   - debian/debhelper.in/libc.preinst: Fixed to work when kernel version is
     x.y.zFOOz pattern.  (Closes: #245643)
   - debian/patches/locale-ro_RO.dpatch: Fix Romania can't be built.
     (Closes: #245657)
   - debian/local/manpages/locale.1: Fix typo: LOC_PATH -> LOCPATH.
     (Closes: #246557)
   - debian/rules: Fix build correctly when we execute "debian/rules binary".
     Patched by Jurij Smakov <jurij@wooyd.org>.  (Closes: #247241)
   - debian/patches/glibc232-misc-syslog.dpatch: Fix syslog segv under
     memory shortage.  (Closes: #249559)
   - debian/patches/s390-backtrace.dpatch: Fix 900 test failures in the
     libjava testsuite in gcc-3.4 on s390.  (Closes: #243394)
   - debian/sysdeps/linux.mk: Fix build failure when kernel headers directory
     in /usr/src has symlink asm direcotry.  Patched by Wolfram Gloger
     <wg@malloc.de>.  (Closes: #249408)

   - debian/debhelper.in/libc-udeb.install: Add libnss_files.so*,
   - debian/libnss-dns-udeb, libnss-dns-files: Update description.
   - debian/control: Update.

  * Colin Watson <cjwatson@debian.org>

   - debian/rules: Add libnss-dns-udeb and libnss-files-udeb.
     (Closes: #247430)
   - debian/.cvsignore: Likewise.
   - debian/control.in/libc: libc-udeb depends on libnss-dns-udeb and
     libnss-files-udeb.
   - debian/debhelper.in/libc-udeb.install: Remove libnss_dns and libnss_files.
   - debian/rules.d/control.mk: Likewise.
   - debian/control.in/libnss-dns-udeb: Update description.

 -- GOTO Masanori <gotom@debian.org>  Wed, 26 May 2004 00:18:06 +0900

glibc (2.3.2.ds1-12) unstable; urgency=low

  * GOTO Masanori <gotom@debian.org>

   - debian/local/etc_init.d/mountkernfs: Fix typo.  (Closes: #229340)
   - debian/local/etc_init.d/mountkernfs: Fix error if the kernel does not
     set CONFIG_TMPFS on 2.4.  (Closes: #230758)
   - debian/local/etc_init.d/mountkernfs: Check each mount directory is
     actually directory or not.  (Closes: #234813)
   - debian/local/etc_init.d/mountkernfs: remove "set -e".
   - debian/debhelper.in/libc.postinst: use invoke-rc.d to invoke
     mountkernfs when it's available, suggested by Junichi Uekawa
     <dancer@netfort.gr.jp>.  (Closes: #230008)

   - debian/debhelper.in/libc.install: drop installing three files:
     debian/local/etc_init.d/mountkernfs, debian/local/etc_default/devpts,
     and debian/local/etc_default/tmpfs.  Because initscripts now provides
     those files.  (Closes: #238963)
   - debian/debhelper.in/libc.preinst: devpts.sh should be actually replaced to
     mountkernfs.  But by now mounting filesystems should be done with
     mountvirtfs in initscripts.  Initscripts needs to remove devpts.sh and
     mountkernfs.
   - debian/debhelper.in/libc.postinst: likewise.
   - debian/debhelper.in/libc.postrm: likewise.

   - debian/debhelper.in/libc.preinst: Fix kernel version detection correctly.
     Patched by Goswin von Brederlow <brederlo@informatik.uni-tuebingen.de>.
     (Closes: #241395).

   - debian/rules.d/debhelper.mk: Fix build failure in strip processing.

   - debian/patches/51_glibc232-hppa-nopltrel.dpatch: Do not process
     lezy relocations if no DT_PLTREL is present.  Reported by
     Richard Hirst <rhirst@linuxcare.com> and Patched by
     Carlos O'Donell <carlos@baldric.uwo.ca>.  (Closes: #228375)
   - debian/patches/glibc232-ppc32-nanosecond.dpatch: Fix ppc32 stat
     reports bogus nanosecond data.  Patched by Anton Blanchard
     <anton@samba.org>.  (Closes: #231358)
   - debian/patches/nptl-io-locking.dpatch: Add stdio performance
     improvement for nptl.  Dpatched by Michael Clark
     <michael@metaparadigm.com>.  (Closes: #238213)
   - debian/patches/52_glibc233-hppa-feupdateenv.dpatch:
     The newest compiler in unstable has caught a bug in the feupdateenv
     implementation for hppa. The code should not be using the constant input
     argument as temporary scratch.  Patched by Carlos O'Donell
     <carlos@baldric.uwo.ca>.
   - debian/patches/localedef-fix-trampoline.dpatch: Fix localedef segv
     when run under exec-shield/PaX and so on due to trampoline issue.
     Dpatched by James Troup <james@nocrew.org>.
     (Closes: #231438, #198099, #215624, #215821, #221740)
   - debian/patches/alpha-rtsigaction-fix.dpatch: Fix alpha sigaction with
     SA_SIGINFO (rt_sigaction), keep program execution after exiting signal
     handler, with correctly calling rt_sigreturn.  (Closes: #221969)
   - debian/patches/translation-fr.dpatch: Include fr.po translation patch.
     Patched by Petter Reinholdtsen <pere@hungry.com>.  Related bug #243183
     is currently suspended.
   - debian/patches/locale-et_EE.dpatch: Fix et_EE locale incorrect charset.
     Patched by Petter Reinholdtsen <pere@hungry.com>.  (Closes: #208238)

   - debian/debhelper.in/libc.postinst: add rsync to NSS checking code.
     (Closes: #229196)
   - debian/debhelper.in/libc.preinst: add kernel version check code if
     real i386 is used.  (Closes: #231538)

   - debian/po/da.po: added.  Patched by Morten Brix Pedersen <morten@wtf.dk>.
     (Closes: #230669)
   - debian/po/cs.po: added.  Patched by Miroslav Kure
     <kurem@upcase.inf.upol.cz>.  (Closes: #230969)
   - debian/po/el.po: added.  Patched by Konstantinos Margaritis
     <markos@debian.org>.  (Closes: #230997)
   - debian/po/ru.po: added.  Patched by Ilgiz Kalmetev
     <translator@ilgiz.pp.ru>.  (Closes: #221657)
   - debian/po/uk.po: added.  Patched by Eugeniy Meshcheryakov
     <eugen@univ.kiev.ua>.  (Closes: #235850)
   - debian/po/zh_CN.po: added. Patched by Hiei Xu <nicky@mail.edu.cn>
     and Carlos Z.F. Liu <carlos_liu@yahoo.com>.  (Closes: #231907)
   - debian/po/tr.po: added.  Patched by Ercin EKER <erc.caldera@gmx.net>
     and Recai Oktas <roktas@omu.edu.tr>.  (Closes: #240654)

   - debian/debhelper.in/glibc-doc.links: add manpages links for sem_*.

   - debian/patches/template.dpatch: split Author to Dpatch author and
     Patch author.

   - debian/sysdeps/hppa.mk: added to create symlink
     /usr/hppa64-linux/include to /usr/include for hppa64.  (Closes: #239020)
   - debian/sysdeps/depflags.pl: added conflicts to gcc-3.3-hppa64 and
     gcc-3.4-hppa64.
   - debian/sysdeps/depflags.pl: Add replaces: kerberos4th-dev (<< 1.2.2-10)
     to avoid conflicting /usr/include/ifaddrs.h.  (Closes: #234347)

   - debian/control.in/opt: made libc6-i686 description easier to
     understand from users' requests.  (Closes: #218396, #239555, #242546)

   - debian/local/usr_sbin/locale-gen: Add code to write an error if the
     line doesn't satisfy the format.  Patched by Petter Reinholdtsen
     <pere@hungry.com>.  (Closes: #207199)

  * Jeff Bailey <jbailey@nisa.net>

   - debian/debhelper.in/libc.preinst: Don't use awk except in
     upgrade mode.  (Closes: #229461)
     Also make sure that it doesn't trip on words being added to the
     upstream revision number.  Thanks to James Troup for
     mentioning this.
     Thanks to Bastian Blank <waldi@debian.org> for the fix.
   - debian/debhelper.in/libc.postinst: Respect DEBIAN_FRONTEND=noninteractive
     for setting timezone.  Default to UTC.  (Closes: #196382)

   - debian/debhelper.in/libc.docs: Add TODO.

   Hopefully the last round of hurd-i386 fixes:

   - debian/debhelper.in/libc-dev.install.hurd-i386: New file.
   - debian/rules.d/debhelper.mk: Deal with the arch-specific install files.
   - debian/patches/hurd-cleanup.dpatch: New file for dl-procinfo.c and
     missing include in malloc.c (Both in upstream)
   - debian/patches/00list: Update

  Locales surgery, with many thanks to Petter Reinholdtsen:

   - debian/patches/glibc22-eo_EO.dpatch: Rename to ...
   - debian/patches/locale-eo_EO.dpatch: ... this.
   - debian/patches/11_cvs_locales.dpatch: New generated file from CVS.
   - debian/patches/locales-stuff.dpatch: Remove bogs code and split
     into ..
   - debian/patches/locale-de_CH.dpatch: ... this and ...
   - debian/patches/locale-ru_RU.dpatch: this.
   - debian/patches/locale-no_NO.dpatch: New file to keep no_NO around
     during the transition to nb_NO.
   - debian/patches/locale-strfmon.dpatch: New file from CVS needed
     for new locales formatting. (Closes: #226047)
   - debian/patches/00list: Update.

   - debian/patches/glibc22-locales.dpatch: Obsoleted by CVS update.
   - debian/patches/locale-es_AR.dpatch: Add template header.
   - debian/patches/locales-supported.dpatch: Remove entries provided
     by CVS.  Add no_NO for transition.

     (Closes: #211607, #215466, #218424)

   - debian/patches/template.dpatch: Tweak to make it easier to
     generate patches.
   - debian/make-cvs-locales-patch.sh: New file.

  * Daniel Jacobowitz <dan@debian.org>

    - Add separate-debug-info files to libc6-dbg to allow backtraces through
      optimized libraries (Closes: #227097, #219459)
      - debian/control.in/main: Bump build dependencies for binutils and
        debhelper.
      - debian/control.in/libc-dbg: Update package description.
      - debian/rules: Set NOSTRIP after loading sysdeps rules files, so that
        it actually gets set.
      - debian/rules.d/debhelper.mk: Generate separate debug info libraries.
        Touch stamp file for libc-udeb.
      - debian/sysdeps/i386.mk, debian/sysdeps/linux.mk, s390x_extra_cflags,
        debian/sysdeps/sparc.mk: Use -g1 instead of -g0 so that we get
        unwind information.
      - debian/wrapper/objcopy: Wrapper script to remove excess debug
        info, for now.
    - Remove tabs from debian/changelog, since they confuse
      dpkg-parsechangelog.
    - Add missing quotes in debhelper.mk NOSTRIP test.
    - Don't add libc-dir-add.info to info after all
      (Closes: #222171, #230765).
      (debhelper.in/glibc-doc.info, debhelper.in/glibc-doc.install)

  * Ben Collins <bcollins@debian.org>

    - Added and enabled a sparc v9b target (UltraSPARC III).

  * Bastian Blank <waldi@debian.org>

    - Add libnss-dns-udeb package.
    - Rename udebs to match the real packages.  (Closes: #183139)
    - Fix provides of udebs.  (Closes: #183143)
    - Use debhelper udeb knowledge.

 -- GOTO Masanori <gotom@debian.org>  Wed, 21 Apr 2004 00:40:55 +0900

glibc (2.3.2.ds1-11) unstable; urgency=low

  * Jeff Bailey <jbailey@nisa.net>

   - debian/control.in/s390x: Remove -dev dependency on gcc-3.2.
   - debian/sysdeps/s390.mk: Add missing )
   - debian/rules: Fixes for cross-compiling
   - debian/patches/90_glibc233_tcsetaddr.dpatch: LSB Fix for tcgetattr
     (Closes: #218131)
   - debian/sysdeps/depflags.pl: Update wine conflicts.
     (Closes: #218717)
   - debian/sysdeps/depflags.pl: Update cyrus-imapd conflicts.
     (Closes: #220983)
   - debian/sysdeps/sparc.mk: Force -m32 when building sparcv9
   - debian/patches/glibc-sparc-timing.dpatch: New file to let sparcv9 works.
     (Closes: #222886)
   - debian/patches/nptl-page-align.dpatch: New file to fix page
     alignment troubles.  (Closes: #223241, #225466)

   - debian/patches/hurd-exit-attr-hidden.dpatch: New file to fix
     compilation on gcc-3.3 and hurd-i386
   - debian/patches/hurd-i386-hwcap.dpatch: New file to give the needed
     i386 HWCAP defines on hurd-i386
   - debian/patches/hurd-libc-lock.dpatch: New file to fix FTBFS on hurd-i386
   - debian/patches/hurd-utmp-file.dpatch: New file to fix FTBFS on
     non-Linux.
   - debian/patches/glibc23-cmov.dpatch: Update for moved i386 HWCAP
     definitions.
   - debian/patches/glibc23-sse-oldkernel.dpatch: Updated for
     severelly munged sysdeps/unix/sysv/linux/i386/dl-procinfo.h
     Thanks to Barry deFreese for helping get these in order.

   - debian/patches/00list: Update

   - debian/debhelper.in/libc.preinst: For Linux kernels of the form
     x.y.z-n, fail the install if z >= 255. (Closes: #226688)
     Thanks to James Morrison and Kevin Everets for help on the wording
     of the error message.

   - debian/sysdeps/sparc.mk: Revert Ben's change of '-mcpu=v8
     -mtune=ultrasparc'.  This was misleading because it was always
     overridden by the glibc Makefile and had no effect.

  * Phil Blundell <pb@debian.org>

   - Require linux-kernel-headers >= 2.5.999-test7-bk-9 to avoid module-
     related problems on ARM.

  * Ben Collins <bcollins@debian.org>

    - Bump sparcv9 back to -mcpu=v8 -mtune=ultrasparc.  Should fix sparcv9.

  * Daniel Jacobowitz <dan@debian.org>

    - Pass CC to configure; should fix sparc64.
    - Suppress the errno warning message for now.  Update to point to
      README.Debian.gz.
      - debian/patches/glibc23-errno-hack.dpatch, debian/FAQ
    - Redirect dpkg -s sysvinit's stderr to /dev/null (Closes: #225601).
    - Fix <bits/syscall.h> on MIPS targets.  Thanks to Guido Guenther
      for testing and improvements to the patch (Closes: #223891, #226483).
      - debian/patches/mips-asm-unistd.dpatch
    - Fix for GCC <sgidefs.h> changes from Thiemo Seufer (Closes: #224744).
      - debian/patches/mips-sgidefs.dpatch
    - Fix i386-linux build failure.
      - debian/patches/glibc23-sse-oldkernel.dpatch
    - Quote a backslash in libc.preinst

  * GOTO Masanori  <gotom@debian.org>

    - debian/debhelper.in/glibc-doc.links: add missing links for
      pthread_mutex_*(), pthread_mutexattr_*(), pthread_cond_*(), and
      pthread_condattr_*().
    - debian/control.in/main: remove Build-Depends-Indep: latex2html.
      (Closes: #221317)

    - debian/local/etc_init.d/devpts.sh: rename to mountkernfs.
    - debian/local/etc_init.d/mountkernfs: rename from devpts.sh, for
      adding to mount tmpfs(shmfs), sysfs, and usbfs.
    - debian/local/etc_default/tmpfs: add to control tmpfs upper limit size.
    - debian/debhelper.in/libc.dirs: add to make /sys.
    - debian/debhelper.in/libc.install: add mountkernfs and tmpfs,
      remove devpts.sh.
    - debian/debhelper.in/libc.postrm: rename devpts.sh to mountkernfs.
    - debian/debhelper.in/libc.postinst: likewise.
    - debian/local/etc_init.d/mountkernfs: fix devpts_mounted to check
      its pathname is exactly started from the top directory.

    - debian/debhelper.in/libc.preinst: fix preinst does not stop
      on mips even if it's kernel version is < 2.4.22.  (Closes: #223769)

    - debian/po/pt_BR.po: Update pt_BR debconf template translation.
      Patched by Andre Luis Lopes <andrelop@debian.org>.  (Closes: #219839)
    - debian/po/nl.po: Update nl debconf template translation.
      Patched by cobaco <cobaco@linux.be>.  (Closes: #220693)

  * Carlos O'Donell <carlos@baldric.uwo.ca>

    - debian/patches/51_glibc232-hppa-dist.dpatch: Add entry.h to dist.
    - debian/patches/51_glibc232-hppa-profiling.dpatch: Fix profile support.
      (Closes: #221010)

 -- Daniel Jacobowitz <dan@debian.org>  Tue, 20 Jan 2004 09:41:48 -0500

glibc (2.3.2.ds1-10) unstable; urgency=low

  This is the "Swimming to the surface" release.

  * GOTO Masanori <gotom@debian.org>

    - debian/control.in/opt: Add more ix86 CPUs in the description.
    - debian/debhelper.in/libc.preinst: Ignore old libc4/5.
      (Closes: #218449)

  * Daniel Jacobowitz <dan@debian.org>

    - Add a patch to automatically disable NPTL for programs which
      reference the old errno; and update the FAQ to match.
      (glibc23-errno-hack.dpatch).
    - Update make build dependency as reported by Mikko Kautto
      (Closes: #218595).
    - Update debian/po/nl.po with new translation from Bart Cornelis
      (Closes: #218642).
    - Update SSE disabling patch to work for static binaries too
      (Closes: #218524, #219025).
    - debian/debhelper.in/libc.preinst: Ignore ia32-libs also
      (Closes: #219176).
    - debian/control.in/main: Build depend on fixed linux-kernel-headers
      to get ia64 module syscalls (Closes: #218645).

  * Jeff Bailey <jbailey@nisa.net>

    Update to Standards-Version 3.6.1:
    - debian/changelog: Convert from Latin-1 to UTF-8.  1 Line affected.
    - debian/control.in/main: Update version number.
    Fix some lintian warnings:
    - debian/changelog: Remove obsolete user-emacs settings.
    - debian/control.in/libc: Remove trailing periods from synopis'.  These
    aren't full sentences.
    - debian/local/manpages/gencat.1: New file.
    - debian/local/manpages/trace.1: New file.
    - debian/debhelper.in/libc-dev.manpages: Install them.
    - debian/local/manpages/iconvconfig.8: New file.
    - debian/debhelper.in/libc.manpages: Install it.
    - debian/patches/90_glibc232-statvfs.dpatch: Don't get confused on bad
    mtab.  (Closes: #219271)
    - debian/patches/90_glibc232-timezones.dpatch: Update timezone
    information.

  * Phil Blundell <pb@nexus.co.uk>

    - debian/patches/arm-ioperm.dpatch: Third time lucky?

 -- Jeff Bailey <jbailey@nisa.net>  Wed,  5 Nov 2003 10:53:14 -0500

glibc (2.3.2.ds1-9) unstable; urgency=low

  * GOTO Masanori <gotom@debian.org>

    - debian/po/es.po: Update.  Patched by Carlos Valdivia Yagüe
      <valyag@dat.etsit.upm.es>.
    - debian/debhelper.in/libc.preinst: Replace s/libc6/glibc/
      in messages, actually there are not only libc6, but also
      libc6.1, libc0.3, and so on.

  * Daniel Jacobowitz <dan@debian.org>

    - Export libpthread symbols needed for thread debugging
      (glibc23-thread-debugging.dpatch).
    - Remove glibc23-thread-debugging.dpatch in response to upstream
      comments.  Don't strip libpthread symbols needed for thread debugging.
    - Add version sanity check for kernels whose extraversion starts with a
      dot (Closes: #218546).
    - Disable SSE for pre-2.4 kernels (Closes: #218524).
    - Symlink asm-sparc and asm-sparc64 into debian/include if necessary.
    - Don't duplicate .so symlinks in libc6-s390x and libc6-dev-s390x.
    - Add a build fix for sparc64; pread syscall has been renamed to
      pread64.
    - Add a FAQ entry for unresolved errno (Closes: #218561).
    - Import patch from CVS to fix ucontext_t/mcontext_t on powerpc32
      (Closes: #207806).
    - Patch from Randolph Chung for HPPA system calls
      (hppa-syscall.dpatch).

 -- Daniel Jacobowitz <dan@debian.org>  Sat,  1 Nov 2003 18:54:16 -0500

glibc (2.3.2.ds1-8) unstable; urgency=low

  * Daniel Jacobowitz <dan@debian.org>

    - Don't use --enable-omitfp since we don't install libc_g.a.
    - Enable NPTL for S/390.
    - Fix the /lib/ld64.so.1 symlink for s390x.
    - Update maintainer scripts for fixes lost in the rewrite.
    - Enable NPTL for ia64.  Thanks to Ian Wienand for testing.
    - Automatically cross-compile if the kernel is too old to build
      an optimized library.
    - Do not run make check if cross compiling.
    - Fix msqid_ds on MIPS.  Dpatch from Guido Guenther, patch by
      Thiemo Seufer (Closes: #215273, #200215, #217593).
    - Check for old copies of glibc in a couple of places (Closes: #212224).
    - Fix a libio compatibility code bug which crashed the Citrix client
      (glibc23-libio-compat.dpatch).
    - Remove fuzzy markers from fr.po.  Patch from Denis Barbier
      <barbier@debian.org> (Closes: #217865).
    - Re-add debian/patches/80_glibc232-locales-nb_NO-fix.dpatch, which had
      gotten lost.
    - Re-add typo fixes to iconv.1 and rpcgen.1.  (Closes: #202161)
    - Merge iconv.1 fix to iconv.pod.
    - Re-add fix for locale-gen and POSIXLY_CORRECT.
    - Update ldso-disable-hwcap.dpatch and preinst/postinst scripts.
    - Update maintainer scripts not to use basename; dpkg invokes the
      scripts as tmp.ci/postinst, not libc6.postinst.
    - Add a patch for building shlib.lds which fixes a parse error when
      building without an existing -dev package installed.
      - debian/patches/11_shlib-lds.dpatch

  * Jeff Bailey <jbailey@nisa.net>

    - debian/sysdeps/linux.mk: Use getconf _NPROCESSORS_ONLN instead
      of /proc/cpuinfo to calculate NJOBS.  The cpuinfo file format
      is not consistent between arch's.
    - debian/.cvsignore: New file.

  * GOTO Masanori <gotom@debian.org>

    - debian/debhelper.in/locales.dirs: Add /usr/lib/locale, because
      localedef stops to create locale data if this dir is not found.
    - debian/debhelper.in/libc-otherbuild.preinst: Fix typo which
      disturbs to install libc-otherbuild package.
    - Dan's checking code for old copies in libc6 preinst fixes
      installation breakage for example /usr/lib/debug is in
      /etc/ld.so.conf, or so on.
      (Closes: #165374, #212224).
    - debhelper.in/libc.preinst: add kernel version sanity check for
      sun4m arch which needs at least 2.4.21 due to hardware multiplication
      instruction is used by default.  (Closes: #215010, #215012)
    - debian/debhelper.in/libc.preinst: fix check_dirs return value.

 -- Daniel Jacobowitz <dan@debian.org>  Tue, 28 Oct 2003 18:29:09 -0500

glibc (2.3.2.ds1-7) experimental; urgency=low

  * Daniel Jacobowitz <dan@debian.org>

    - Fix TLS libraries, which belong in /lib/tls, not /libtls.
    - Fix -march for NPTL libraries on i386 - was i686, should have
      been i486.
    - Move i686 libraries to /lib/tls/i686/cmov.
    - Include make check output in the libc package.
    - S/390 perversely uses /lib/ld64.so.1 as the dynamic linker; include
      a symlink.
    - Leave /lib64/ld64.so.1 executable on S/390.
    - Generate SUPPORTED again.
    - Update ldconfig to prefer /lib/tls to /lib/i686/cmov.
    - Disable conflicts between optimized libraries and libsafe/memprof;
      they've worked for a while.
    - Switch the i686 optimized libraries to use NPTL, and update their
      description.
    - Fix dependencies for locales package.
    - Include SONAME symlinks in libc6-dbg.
    - Remove vestigial gconv-modules Provides.
    - Install more files for libc6 and locales packages.
    - Correct section for zdump.8 man page.
    - Install ld.so.8 in the right directory (debhelper thinks that .so is a
      language extension).
    - Install info menu entries for functions provided by libc, in
      glibc-doc.
    - Include changelog in glibc-doc also.
    - Re-add libc6-dev dependency on matching libc6.
    - Fix libc-udeb build.

  * Phil Blundell <pb@nexus.co.uk>

    - debian/patches/arm-ioperm.dpatch: Try again.

  * Jeff Bailey <jbailey@nisa.net>

    Welcome back HPPA, Thanks to Carlos O'Donell <carlos@baldric.uwo.ca>

    - debian/patches/50_glibc232-hppa-full-nptl-2003-10-22.dpatch: New.
    - debian/patches/50_glibc23-hppa-entry.dpatch: Remove.
    - debian/patches/glibc23-00-hppa-pthreads.dpatch: Remove.
    - debian/patches/glibc23-01-hppa-dl-machine.dpatch: Remove.
    - debian/patches/glibc23-07-hppa-atomicity.dpatch: Remove.
    - debian/patches/glibc23-hppa-compat.dpatch: Remove.
    - debian/patches/glibc23-hppa-malloc8.dpatch: Remove.

    - debian/patches/00list: Update.

    - debian/rules: Define NJOBS as 1.
    - debian/sysdeps/linux.mk: Define NJOBS based on number of processors
    - debian/rules.d/build.mk: Use -j $(NJOBS) during build.
    Based on patch from Ian Wienand <ianw@gelato.unsw.edu.au>

    - debian/debhelper.in/libc.install: Install pt_chown
    - debian/rules.d/debhelper.mk: Don't clobber SUID on pt_chown
    - debian/debhelper.in/glibc-doc.docs: Install DEB_SRCDIR/ChangeLog*
    - debian/rules.d/build.mk: Don't run testsuite if DEB_BUILD_OPTIONS
      contains nocheck

    - debian/sysdeps/gnu.mk: Define slibdir.
    - debian/rules.d/build.mk: Only set slibdir in configparms if its set.
    - debian/debhelper.in/glibc-doc.doc-base: New file.
    - debian/debhelper.in/glibc-doc.install: New file.
    - debian/debhelper.in/glibc-doc.links: New file.
    - debian/rules.d/build.mk: Generate HTML files.
    - debian/rules.d/debhelper.mk: Map LIBC to $(libc) in generated files.
    - debian/debhelper.in/libc.install: Install Linuxthreads ChangeLog.
    - debian/debhelper.in/libc.docs: Install various docs.
    - debian/sysdeps/kfreebsd-gnu.mk: New file.  Put in all the magic
      from the old packaging.
    - debian/sysdeps/kfreebsd.mk: Deleted.
    - debian/sysdeps/gnu.mk: Add in GLIBC_OVERLAYS to allow patching to work,
      create ld.so symlink at end of build.
    - debian/sysdeps/sparc.mk: Change MIN_KERNEL_REQUIRED to
      MIN_KERNEL_SUPPORTED.
    - debian/sysdeps/s390.mk: Likewise.
    - debian/rules: Define kernel_check macro.
    - debian/sysdeps/linux.mk: Override kernel_check for Linux.
    - debian/rules.d/build.mk: Call kernel_check macro when --build ==
      --host

  * GOTO Masanori <gotom@debian.org>

    - debian/po/ru.po: Update.  Patched by Ilgiz Kalmetev
      <translator@ilgiz.pp.ru>.  (Closes: #214349)

 -- Daniel Jacobowitz <dan@debian.org>  Sat, 25 Oct 2003 15:09:02 -0400

glibc (2.3.2.ds1-6) experimental; urgency=low

  * Phil Blundell <pb@debian.org>

    - debian/patches/arm-ioperm.dpatch: New.

  * Daniel Jacobowitz <dan@debian.org>

    - Add debhelper build dependency.
    - Use linux-kernel-headers package for headers.
    - Add S/390 support.
    - Build libc6-dev-sparc64.

 -- Daniel Jacobowitz <dan@debian.org>  Mon, 20 Oct 2003 16:27:39 -0400

glibc (2.3.2.ds1-5) experimental; urgency=low

  * Daniel Jacobowitz <dan@debian.org>

    - Fix a thinko in i686 timing patch for non-HP_TIMING architectures.
    - Add -k to make check.

 -- Daniel Jacobowitz <dan@debian.org>  Mon, 13 Oct 2003 10:53:31 -0400

glibc (2.3.2.ds1-4) experimental; urgency=low

  * Daniel Jacobowitz <dan@debian.org>

    - Update i686 timing patch to fix clock_gettime.
    - Update glibc23-cmov patch to let ld load tls libraries from
      ld.so.cache.
    - Include symlinks in optimized library directories to placate
      dpkg-shlibdeps.
    - Fix shlibs files to include a version again.
    - Re-enable make check.
    - Update makeconfig.dpatch to fix a typo that broke make check.
    - Add glibc-make-check-perms.dpatch to fix an upstream make check
      problem.
    - Build some optimized libraries using appropriate --build options
      so that they can run make check.

  * Jeff Bailey <jbailey@nisa.net>

    - Build libraries for sparcv9 and sparc64.
    - Enable TLS for ia64.

 -- Daniel Jacobowitz <dan@debian.org>  Sun, 12 Oct 2003 19:42:11 -0400

glibc (2.3.2.ds1-3) experimental; urgency=low

  * Daniel Jacobowitz <dan@debian.org>

    - Use ldd* in debhelper.in/libc6, because non-i386 arches don't have
      lddlibc4.
    - Include gconv-modules in libc6.
    - Don't include some unnecessary generated kernel headers.
    - Merge previous .dpatch files (Closes: #214470).
    - Run depflags.pl again (Closes: #214468).
    - Don't include profiled libraries in libc-dev (Closes: #214504).
    - Ship /usr/include/asm-generic (Closes: #214512).

 -- Daniel Jacobowitz <dan@debian.org>  Mon,  6 Oct 2003 21:18:28 -0400

glibc (2.3.2.ds1-2) experimental; urgency=low

  * Daniel Jacobowitz <dan@debian.org>

    - Install the right headers in /usr/include/asm, instead of trying to
      replace the directory with a symlink (Closes: #214233).
    - Map DEB_HOST_GNU_CPU to a uname value for creating the asm symlink.
    - Move libc6-dev's postinst back to preinst.
    - Support multiple autoconf.h headers.
    - Add an ia64 autoconf.h, from Branden Robinson.

 -- Daniel Jacobowitz <dan@debian.org>  Sun,  5 Oct 2003 14:47:05 -0400

glibc (2.3.2.ds1-1) experimental; urgency=low

  * Essentially redo the debian/ packaging directory.

    Specifically, the following directories were changed:
    - debian/sysdeps/*: Redo into os-based and arch-based handling.
    - debian/debhelper.in/*: Use debhelper for all package management.
    - debian/rules.d/*: Split out rules file into logical pieces.
    - debian/local/*: Move all of the files that Debian provides to here.

    Update dpatch to more closely match the debian package:
    - debian/patches/0list: Rename to 00list to match dpatch update.
    - debian/rules.d/dpatch.mk: Sync with Debian package with the
      following four changes:
      1) Support srcdir != builddir builds.
      2) Support $(stampdir)
      3) patch target depends on unpack
      4) Use $(DEB_SOURCE_PACKAGE) instead of $(PACKAGE)

    Remove dependency on various kernel-headers packages, bring into
    the package:
    - linux-kernel-headers/: New directory, import from 2.6.0-test2

    Add NPTL support on i386:
    - debian/sysdeps/i386.mk: Add NPTL patterns, set minimum kernel.

    Redo "DBS-Style" tarball support:
    - debian/rules.d/tarball.mk: New file
    - debian/sysdeps/linux.mk: Bring in linuxthreads and nptl overlays.
    - prep.sh: Remove.
    - version: Remove.

    Update to recent CVS snapshot to support NPTL:
    - debian/patches/10_cvs.dpatch: update

    This cleanup project is the result of several discussions between
    Jeff Bailey, GOTO Masanori, Daniel Jacobowitz, and Philip Blundell.

    The initial work here was done by Jeff Bailey, Branden Robinson,
    and Daniel Jacobowitz.

 -- Daniel Jacobowitz <dan@debian.org>  Thu,  2 Oct 2003 13:47:40 -0400

glibc (2.3.2-9) unstable; urgency=medium

  Urgency set to medium, because this version should bring HPPA alive again.

  * GOTO Masanori  <gotom@debian.org>

    - debian/patches/82_glibc232-iconv-euc-jp-ms-fix.dpatch: Fix EUC-JP-MS
      does not work even if they are listed as available in iconv.
      Dpatched by Topia <topia@clovery.jp>.  (Closes: #212080)

    - debian/manpages/iconv.1: Fix typo in -o option.  Patched by
      Max Vozeler <max@hinterhof.net>.  (Closes: #211733)

    - debian/manpages/rpcgen.1: Fix typo which cause some infos for the '-o'
      option are not shown, and add -Sm option description.  Patched by
      Nicolas Francois <nicolas.francois@centraliens.net>.
      (Closes: #211984)

    - debian/libc/DEBIAN/preinst: Updated libc6 libnss restarting version
      from 2.2.94-1 to 2.3.2-2 in preinst.  Postinst code was already fixed
      in 2.3.2-2.  (Closes: #211825)

    - debian/locales/DEBIAN/template: There is no reason to
      set LANG=C in /etc/environment, so do not display this locale
      in the locales/default_environment_locale question.
    - debian/locales/DEBIAN/config: Likewise.
    - debian/locales/DEBIAN/postinst: If /etc/environment sets the LANG
      variable and a new configuration asks for not setting it, the
      line was not removed from this file.
    - debian/po/templates.pot: Update templates followed by above changes.
    - debian/po/fr.po: Update accordingly using debconf-updatepo with new
      translation.
    - debian/po/ja.po: Likewise.
    - debian/po/ca.po: Update accordingly using debconf-updatepo.
    - debian/po/de.po: Likewise.
    - debian/po/es.po: Likewise.
    - debian/po/fr.po: Likewise.
    - debian/po/ko.po: Likewise.
    - debian/po/pt_BR.po: Likewise.
    - debian/po/ru.po: Likewise.
    - debian/po/nl.po: Update accordingly using debconf-updatepo with
      fixing line invalid wrapping.
      All patched by Denis Barbier <barbier@debian.org>.

    - debian/patches/80_glibc232-locales-nb_NO-fix.dpatch: Added to fix
      nb_NO as real locale, not an alias.  Patched by Petter Reinholdtsen
      <pere@hungry.com>.  (Closes: #206474)

  * Jeff Bailey <jbailey@nisa.net>:

     - 20_glibc232-hppa-full-2003-10-20.dpatch: New HPPA patch.
       (Closes: #209253) Thanks to Carlos O'Donell <carlos@baldric.uwo.ca>

     - 50_glibc23-hppa-entry.dpatch: Remove.
     - 80_glibc232-locales-nb_NO-fix.dpatch: Remove.
     - glibc23-00-hppa-pthreads.dpatch: Remove.
     - glibc23-01-hppa-dl-machine.dpatch: Remove.
     - glibc23-07-hppa-atomicity.dpatch: Remove.
     - glibc23-hppa-compat.dpatch: Remove.
     - glibc23-hppa-malloc8.dpatch: Remove.

     - 0list: Update

 -- Jeff Bailey <jbailey@nisa.net>  Wed, 22 Oct 2003 13:46:39 -0400

glibc (2.3.2-8) unstable; urgency=low

  * Phil Blundell <pb@debian.org>

    - debian/control.in/main: add gawk to Build-Depends, since testsuite
      apparently requires it.

    - debian/patches/pthread-cleanup.dpatch: Vector __pthread_cleanup_push
      and __pthread_cleanup_pop through __libc_pthread_functions.
      (Closes: #205234)

    - debian/patches/arm-no-hwcap.dpatch: Admit HWCAP_FAST_MULT again,
      since we want to start using this for openssh.
    - debian/patches/arm-updates.dpatch: Add some miscellaneous arm
      changes taken from upstream.
    - debian/patches/arm-vfork.dpatch: Avoid bad interaction between
      vfork and libpthread.

  * GOTO Masanori  <gotom@debian.org>

    - debian/patches/80_glibc232-fesetround-fix.dpatch: Fix fesetround static
      link time failure.  (Closes: #211135)

    - debian/patches/lo_LA.UTF-8_not_supported.dpatch: Dropped, to support
      lo_LA.UTF-8 again.
    - debian/patches/80_glibc232-locales-lo_LA.dpatch: Added to support
      lo_LA.UTF-8 again.

    - debian/locales/usr/sbin/locale-gen: Fix locale-gen breaks with bash
      2.03, unset POSIXLY_CORRECT iff it's previously defined.
      Patched by Daniel Verite <daniel@brainstorm.fr>.  (Closes: #210301)

 -- Philip Blundell <pb@nexus.co.uk>  Wed, 17 Sep 2003 20:44:48 +0100

glibc (2.3.2-7) unstable; urgency=medium

  * GOTO Masanori  <gotom@debian.org>

    - debian/patches/90_glibc232-mathinline_iso.dpatch: Fix inline math
      function complaints with gcc -pedantic -ffast-math.  Patched by
      Thomas Richter <thor@math.TU-Berlin.DE>.  (Closes: #208016, #207221)

    - debian/patches/template.dpatch: Added DP: Related bugs: field.  You can
      use it to put which bugs are related with this dpatch.

  * Daniel Jacobowitz <dan@debian.org>

    - debian/control.in/main: Update binutils dependency for !s390.

    - debian/patches/linuxthreads-push-pop.dpatch: Add __libc_cleanup_push
      and __libc_cleanup_pop.
    - debian/patches/syslog-backrev.dpatch: Remove, no longer necessary.
      This should fix the crashes in syslog without libpthread loaded.

    - debian/patches/linuxthreads-jumptable-wine.dpatch: Move
      pthread_cond_timedwait out of the way, so that it doesn't break
      the way Wine pokes into this structure (Closes: #210347).

    - debian/patches/ia64-memccpy.patch: Fix a segfault on ia64
      (Closes: #210441).

 -- Daniel Jacobowitz <dan@debian.org>  Fri, 12 Sep 2003 14:56:19 -0400

glibc (2.3.2-6) unstable; urgency=low

  * Phil Blundell <pb@debian.org>

    - debian/control.in/main: require kernel-headers-2.4.20-m68k (>=
      2.4.20-1) for m68k.  Requested by Adam Conrad <adconrad@0c3.net>.

    - debian/patches/pthread_cond_timedwait.dpatch: avoid problem when
      pthread_cond_timedwait is used in code that doesn't link with
      -lpthread.  (Closes: #209139)

  * GOTO Masanori  <gotom@debian.org>

    - debian/sysdeps/kfreebsd-gnu.mk: Added to support kfreebsd-gnu.
      Patched by Robert Millan <zeratul2@wanadoo.es>.  (Closes: #206663)
    - debian/sysdeps/freebsd.mk: Dropped because of replacing kfreebsd-gnu.mk.
    - debian/sysdeps/soname.mk: Modified from freebsd to kfreebsd-gnu.

 -- Philip Blundell <pb@nexus.co.uk>  Mon,  8 Sep 2003 08:51:49 +0100

glibc (2.3.2-5) unstable; urgency=low

  * Phil Blundell <pb@debian.org>

    - debian/control: change section for -pic, -dbg, -prof packages
      from devel to libdevel.

    - debian/control.in/main: add Build-Depends changes from 2.3.2-3
      here as well.

    - debian/packages.d/*.mk: add md5sums for generated packages,
      thanks to Petr Konecny.  (Closes: #158354)

    - debian/patches/80_glibc232-locales-header.dpatch: adjust
      filenames so patch applies correctly.

    - debian/locales/DEBIAN/config: The "Leave alone" option has been
      removed, but locale-gen crashes if it was set by a previous run,
      so really discard it.  Patch by Denis Barbier (Closes: #204958)

    - debian/patches/lo_LA.UTF-8_not_supported.dpatch: remove this
      locale from SUPPORTED file; requested by Denis Barbier.
      (Closes: #205118)

    - debian/patches/nss_compat-shadow: fix problem with shadow
    passwords and NIS.  Patch from Thorsten Kukuk.  (Closes: #204711)

  * GOTO Masanori <gotom@debian.org>

    - debian/control.in/libc: Add more missing change section for -pic,
      -dbg, -prof packages from devel to libdevel.
    - debian/control.in/libc-dbg: likewise.

    - debian/patches/80_glibc232-locales-header.dpatch: Fix an_ES,
      wa_BE, yi_US localedata header.  (Closes: #194289)

    - debian/locales/usr/sbin/locale-gen: Add "unset POSIXLY_CORRECT"
      because if user set POSIXLY_CORRECT, this script is interrupted.
      (Closes: #206784)

    - debian/patches/glibc22-ttyname-devfs.dpatch: Fix one byte leak
      in getttyname_r.  Patched by Hunor Csordas <hunor@cs.elte.hu>.
      (Closes: #194637)

    - debian/sysdeps/freebsd.mk: Modified config-os from freebsd-gnu
      to kfreebsd-gnu.  Patched by Robert Millan <zeratul2@wanadoo.es>.
      (Closes: #206663)

    - debian/patches/80_glibc232-iconvdata-fix.dpatch: Fix cp932
      does not work.  (Closes: #205679)

 -- Philip Blundell <pb@nexus.co.uk>  Tue, 26 Aug 2003 22:51:03 +0100

glibc (2.3.2-4) unstable; urgency=low

  * Jeff Bailey <jbailey@nisa.net>
    - debian/locales/DEBIAN/postinst: Use tail -n 1 instead of tail -1.
      Thanks to Jurij Smakov (Closes: #206464)

  * Phil Blundell <pb@debian.org>
    - debian/patches/glibc23-arm-waitpid.dpatch: deleted.
    - for arm, Build-Depend on kernel-headers 2.4.19-4 or newer.
      (Closes: #206895)
    - debian/patches/revert-old-libio.dpatch: back out changes causing
      problems with fseek in binaries linked with glibc 2.0.
      (Closes: #206839)
    - debian/libc/DEBIAN/postinst: also restart cucipop (Closes: #206783)
    - debian/patches/arm-output-format.dpatch: Very bad hack to avoid
      problem with libc.so on ARM until a proper fix is forthcoming.
    - debian/patches/81_glibc232-utimes-fix.dpatch: replace with version
      that applies cleanly to current sources.
    - debian/control: require sed 4.0.5-4 or later.

  * GOTO Masanori <gotom@debian.org>

    - debian/po/es.po: Updated Spanish (es) debconf template.
      Patched by Carlos Valdivia Yagüe <valyag@dat.etsit.upm.es>.
    - debian/patches/81_glibc232-utimes-fix.dpatch: Fix utimes wrong time
      calculation.  Patched by Paul Eggert <eggert@CS.UCLA.EDU>.
      (Closes: #204728, #202243, #205110)

 -- Philip Blundell <pb@nexus.co.uk>  Tue, 26 Aug 2003 17:27:00 +0100

glibc (2.3.2-3) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>

    - debian/patches/80_glibc232-futimes-buildfix.dpatch: Fix build failure
      on arm, mips, mipsel, due to be missing #include <string.h>.
      (Closes: #204768)

    - debian/libc/DEBIAN/preinst: Modified chown owner:group separater from
      `.' to `:', according to POSIX 1003.1-2001.  (Closes: #205527)
    - debian/packages.d/glibc-doc.mk: likewise.
    - debian/packages.d/libc-dbg.mk: likewise.
    - debian/packages.d/libc-dev.mk: likewise.
    - debian/packages.d/libc-pic.mk: likewise.
    - debian/packages.d/libc-prof.mk: likewise.
    - debian/packages.d/libc-udeb.mk: likewise.
    - debian/packages.d/libc.mk: likewise.
    - debian/packages.d/locales.mk: likewise.
    - debian/packages.d/nscd.mk: likewise.
    - debian/packages.d/optimized.mk: likewise.
    - debian/packages.d/s390x.mk: likewise.
    - debian/packages.d/sparc64.mk: likewise.

    - debian/libc/DEBIAN/postinst: Restarting script supported dovecot.
      (Closes: #205566)

    - debian/po/pt_BR.po: Updated Brazilian Portuguese (pt_BR) debconf
      template.  Patched by Andre Luis Lopes <andrelop@ig.com.br>.
      (Closes: #195873)
    - debian/po/nl.po: Added nl.po debconf template.  Patched by
      Bart Cornelis <cobaco@linux.be>.  (Closes: #205090)

 -- GOTO Masanori <gotom@debian.or.jp>  Fri,  8 Aug 2003 20:32:24 +0900

glibc (2.3.2-2) unstable; urgency=low

  This is the "fleeing to the horizon" release...

  * GOTO Masanori <gotom@debian.or.jp>

    - debian/patches/glibc23-arm-waitpid.dpatch: Fix arm ld-linux failure due
      to sys_waitpid missing.  Patched by Philip Blundell <pb@nexus.co.uk>.
    - debian/patches/50_glibc232-arm-dwarf2-buildfix.dpatch: Avoid arm dwarf2
      build failure.  Patched by Philip Blundell <pb@nexus.co.uk>.
    - debian/patches/50_glibc232-m68k-dwarf2-buildfix.dpatch: Avoid m68k
      dwarf2 build failure.  Suggested by Philip Blundell <pb@nexus.co.uk>,
      Andreas Schwab <schwab@suse.de>.
    - debian/libc/DEBIAN/postinst: Modified watermark of restarting NSS
      services from 2.1.94-1 to 2.3.2-2, because libnss_compat is changed in
      2.3.2-1 (2003-06-17 Upstream change).
    - debian/patches/80_glibc232-wcsmbs-fix.dpatch: Added to fix wcsmbs bugs
      which is lacked in 2003-07-15 upstream cvs.  (Closes: #202969)

    - These bugs are fixed in this update:
      * Bug in dlopen/dlclose leads to segfaults with kdecore is fixed in this
        version.  (Closes: #201221)
      * Static linking adjtimex() on alpha failed to compile due to undefined
        reference to `__adjtimex_tv32'.  It's fixed in this version.
        (Closes: #186331)

  * Jeff Bailey <jbailey@nisa.net>
    - debian/packages.d/s390x.mk: Remove gcc-3.2 hardcode

  * Phil Blundell <pb@nexus.co.uk>
    - debian/patches/alpha-crti.dpatch: remove stray .prologue causing
      alpha build failure.
    - debian/patches/alpha-pwrite.dpatch: add missing __GI___pwrite64 alias.
    - debian/control: demand binutils 2.14.90.0.5-0.1 or later (required
      for .usepv on alpha)

 -- GOTO Masanori <gotom@debian.or.jp>  Sat, 19 Jul 2003 00:37:11 +0900

glibc (2.3.2-1) experimental; urgency=low

  ** UPLOADING THIS TO EXPERIMENTAL **

  * Clint Adams <schizo@debian.org>
    - debian/control: build-dep on gcc-3.3 for sparc(64)
    - debian/rules: re-enable sparc64 build
    - debian/packages.d/sparc64.mk: use gcc-3.3 to build sparc64
    - debian/sysdeps/linux.mk: re-enable sparc64 build

  * Jeff Bailey <jbailey@nisa.net>
    - debian/patches/hurd-enable-ldconfig.dpatch: New file
    - debian/packages.d/libc.mk: Install regular ldconfig, not
      debian/ldconfig-hurd.sh on hurd-i386
    - debian/patches/0list: Add hurd-enable-ldconfig
    - debian/sysdeps/paths.mk: Comply with FHS, use $(prefix)/lib, not
      $(prefix)/libexec
    - debian/rules: Introduce "perfect_make_check_archs" concept -
      arch's listed in this variable must pass make check cleanly,
      or the build will fail.  Start off with i386, powerpc, sparc, alpha
      and s390.
    - debian/control.in/main: Build-dep on gcc-3.3
    - debian/sysdeps/tools.mk: Use gcc-3.3
    - debian/patches/sparc32-buildfix.dpach: Prune after yet another CVS
    update
    - debian/patches/syslog-backrev.dpatch: New file

  * GOTO Masanori <gotom@debian.or.jp>
    - Updated glibc 2.3.2.
    - debian/patches/cvs.dpatch: rename it to 10_cvs.dpatch.
      I plan to introduce <2digitnumber>_<filename>.dpatch filename.
    - debian/patches/10_cvs.dpatch: update 2003-07-15 upstream cvs.
    - version: bump up to 2.3.2.
    - rules.d/shlibs.mk: bump up to 2.3.2.
    - debian/sysdeps/sysdeps.mk: i386 optimization level is back to -O2.

    - These debian/patches/<below files> are removed from cvs because
      they are no longer being used and were superceeded by CVS patches:
      * document-fix.dpatch
      * glibc23-cert-rpcxdr.dpatch
      * glibc23-getdents64-fix.dpatch
      * glibc23-getaddrinfo.dpatch
      * glibc23-hppa-shmlba.dpatch
      * glibc23-m68k-madv.dpatch
      * glibc23-malloc-check.dpatch
      * glibc23-regcomp.dpatch
      * signal-texi.dpatch
      * glibc23-ia64-strncpy.dpatch
      * elf-machine-rela-mips.dpatch
      * glibc23-linuxthreads-fix.dpatch
      * locales-monetary.dpatch

    - These debian/patches/<below files> are removed from cvs because
      they are no longer being used and already fixed the previous versions:
      * rtsig.dpatch
      * crypt.dpatch
      * s390x-lib64.dpatch
      * hurd-fork-fix.dpatch

    - These debian/patches/<below files> are fixed to apply for glibc
      2.3.2 + cvs.dpatch.
      * alpha-pic.dpatch: Fix the diff conflict.
      * glibc23-hppa-Rminkernel.dpatch: likewise.
      * libgcc-compat-all.dpatch: remove reflected entries in glibc-2.3.2.
      * libgcc-compat-other.dpatch: likewise.
      * ldconfig.dpatch: modify to be enable to compile again

    - These bugs are fixed in this update:
      * glibc 2.3.2 can handle errno correctly if 32 bit uid or gid is used
        and errno=ENOSYS is defined before geteuid() is called.
        setfsuid(), setfsgid() and getgroups() are also fixed with my patch,
        bug reported by Fumihiko Kakuma.  (Closes: #183694)
      * Submitter Neil's patch is applied in the upstream.  (Closes: #181701)
      * cfmakeraw definition in manual terminal.texi is fixed with my patch.
        It can be reassign only to manpages-dev.
      * sparc and powerpc has O_DIRECT definition in fcntl.h.
        (Closes: #157142, #157143)
      * The definition both __bswap_16 and __bswap_32 in bits/byteswap.h is
        fixed and it can be ready for non-gcc C-compilers.  (Closes: #181910)
      * BSD derived random functions are correctly braced into #if defined
        __USE_BSD with my patch.  (Closes: #108619)
      * Dynamic loading problems with the recent OpenOffice.org, KDE,
        Wine/Mono, Quake3 Arena, Oracle, and NVidia libGL library, is fixed.
        Glibc TLS does not properly handle using dlopen() to access shared
        libraries which utilize some TLS models.
        (Closes: #171695, #184696, #167564, #192096, #200386)
      * Missing ntp_adjtime weak reference on alpha is defined.
        (Closes: #182654)
      * Sparc64 sysdep.h typo is fixed.  (Closes: #185648)
      * stdio-common/sscanf.c for libc6-sparc64 with gcc-3.3 can become to be
        compiled.  (Closes: #185649)
      * Timezone data is updated to tzdata2003a.
        (Closes: #140788, #149862, #186210, #164719, #190322)
      * /usr/bin/locale -a searches both /usr/lib/locale/<locale>/ and
               /usr/lib/locale/locale-archive in this release. (Closes: #166979)
      * Powerpc fpu_control.h is fixed to be enable to compile _FPU_SETCW
        macro.  (Closes: #137020)
      * The IA-64 versions of __sigsetjmp() and getcontext failed to restore
        ar.unat before returning, is fixed in this version.  (Closes: #186654)
      * regcomp() crashed with some regexp pattern is fixed.
        (Closes: #187475)
      * pthread_atfork() is removed from unistd.h.  Including this definition
        in unistd.h is implementation dependent issue, and the upstream
        decided not to keep it.  (Closes: #106254)
      * It's fixed that malloc_stats() segfaults if you don't first allocate
        memory.  (Closes: #191295)
      * Typo in the symbol lookup code is fixed, which causes the loading of
        the oracle binary to fail (and possibly affects other apps as well).
        (Closes: #191952)
      * The abday values for de_DE is changed to two letters. (Closes: #115536)
      * IA64 umount needs to set second parameter for sys_umount.  It's fixed
        in 2003-05-14 cvs.  (Closes: #193327)
      * tmpfile64() is now available on hurd-i386.  (Closes: #171022)
      * SIOCSIFNAME is added.  (Closes: #164638)
      * cos() now correctly returns the cosine, not the sine, of values near
        0.80 on machines lacking an optimised libm.  (Closes: #153548)
      * ioperm() returns -ENODEV on ARM machines without ISA or PCI.
        (Closes: #199134)

    - debian/locales/usr/sbin/locale-gen: Fix the localedef invocation
      argument order, to run under POSIXLY_CORRECT=1 environment.
      (Closes: #185924)

    - debian/sysdeps/depflags.pl: add Suggests: manpages-dev in libc-dev
      package.  (Closes: #158410)
    - debian/sysdeps/depflags.pl: Adding entry "Suggests: glibc-doc"
      into depflags.pl push.
    - debian/control.in/libc: Remove "Suggests: glibc-doc" in each -dev
      package entry.
    - debian/control: likewise.

    - debian/patches/s390-tls.dpatch: add to build glibc 2.3.2 on s390.
      The correct fix is to modify the kernel headers, but for the present
      we use it regardless of the kernel issue.
      Patched by Gerhard Tonn <GerhardTonn@gammatau.de>.
    - debian/packages.d/libc-dev.mk: s390 kernel-headers package does not have
      generate-asm.sh.  The current libc-dev.mk assumes the existence of this
      script, but on s390 it's not existed.  Now libc-dev.mk s390 asm setup
      part does not use generate-asm.sh, and has the generate-asm.sh
      functionality in its own.  This makes s390 which has 32/64 bit multi
      libraries are much easier to build.
      Patched by Gerhard Tonn <GerhardTonn@gammatau.de>.
    - debian/packages.d/s390x.mk: likewise.

    - debian/locales/DEBIAN/postinst: add "rm -rf /usr/lib/locale/*"
      to remove all old locale dir and locale-archive in locales
      configuration time.  Requested by Denis Barbier <barbier@linuxfr.org>.
    - debian/locales/DEBIAN/config: /usr/lib/locale/* files are no more
      deleted when /etc/locale/gen is not managaed by debconf. Patched by
      Denis Barbier <barbier@linuxfr.org>
    - debian/locales/DEBIAN/postinst: likewise.

    - debian/locales/DEBIAN/{config,postinst,templates}: Debconf must not
      be used to store configuration items; another even more important is
      that user changes in configuration files must be preserved.
      These files are now fixed with this issue.  Patched by Denis Barbier
      <barbier@linuxfr.org>.  Some suggestions by Joey Hess <joeyh@debian.org>.
    - debian/locales/DEBIAN/config:
      * Replace /bin/bash by /bin/sh on the shebang line.
      * Add support for backing up.
      * Parse configuration files and set debconf values.
    - debian/locales/DEBIAN/postinst:
      * Recreate configuration files from debconf values and run locale-gen
      * As explained by Joey Hess, this script should be safer because some
        border cases are now taken into account: configuration files might
        have no EOL at EOF, and line order is preserved.
    - debian/locales/DEBIAN/templates:
      * Apply patch from #117509 and another typo fix by Joey Hess
        (Closes: #117509)
      * In locales/locales_to_be_generated, Choices is no more translatable
        because it is set to Choices: ${locales}
    - debian/locales/usr/sbin/locale-gen:
      * Clean up /usr/lib/locale/ before generating locales
    - debian/po/{ca.po, de.po, es.po, fr.po, ja.po, ko.po, pt_BR.po, ru.po,
      templates.pot}: update with debconf-updatepo.

    - debian/control: Change Section: from devel to libdevel for packages:
      libc0.3-dev, libc6-dev, libc6-dev-s390x, libc6-dev-sparc64, libc6.1-dev
      and libc1-dev.
    - debian/control.in/libc: likewise.
    - debian/control.in/s390x: likewise.
    - debian/control.in/sparc64: likewise.

    - debian/control: Remove "Conflicts: php4" from libc1 and libc0.3.
    - debian/control: Add "Conflicts: gcc-3.0 (<< 1:3.0.4ds3-11), libgcc1
      (<< 1:3.0.4ds3-11), fakeroot (<< 0.4.5-2.7)" to fix /usr/lib/64 vs
      /usr/lib64 issue with upgrading from woody for sparc64 (see bug 156947).
      Suggested by Dagfinn Ilmari Mannsaker <ilmari@ping.uio.no>.
      (Closes: #188383, #193331)
    - debian/control.in/sparc64: likewise.

    - debian/copyright: update the version and the year 2003.

    - debian/patches/locales-monetary.dpatch: add to change some locales
      LC_MONETARY symbols: ar_SD, sr_YU, sr_YU@cyrillic, and es_EC.
      And now this patch is merged into the upstream cvs, drop dpatch.
      (Closes: #160040, #173963, #185342, #187142, #188159, #190785, #193020)
      (Closes: #193508, #193509, #193510, #194791)

    - debian/manpages/localedef.1: remove "-h" from --help option entry.
      (Closes: #187621)

    - debian/debver2localesdep.pl: add clever version recognition for binary
      only NMU or source NMU/local packaging.
      Patched by Gerhard Tonn <GerhardTonn@gammatau.de>.

    - debian/patches/glibc23-linuxthreads-fix.dpatch: add to revert Jakub's
      change in 2003-04-02 to be enable to compile librt.so for the present.
      And this bug is fixed during the development, this patch is dropped now.
      Thanks to Jack Howarth <howarth@bromo.msbb.uc.edu>.

    - debian/libc/etc/init.d/devpts.sh: Modify mounting devpts for 2.5.68 and
      later.  As of 2.5.68, devpts is not automounted when using devfs. So
      even in that case, devpts needs to be mounted via the devpts.sh script
      as well as the case that devfs is not used.
      (Closes: #189792, #189879, #191785)

    - debian/libc/DEBIAN/postinst: Add code to remove a relic of the past
      /usr/doc/<package> symlinks.  This script should keep at least until
      sarge release.  (Closes: #189854)
    - debian/glibc-doc/DEBIAN/postinst: likewise.
    - debian/locales/DEBIAN/postinst: likewise.
    - debian/nscd/DEBIAN/postinst: likewise.
    - debian/libc/DEBIAN/postinst: Remove symlinks for libc-{dbg,dev,pic,prof}.

    - prep.sh: Add NPTL extract code.
    - version: Add NPTL version.

    - debian/packages.d/sparc64.mk: bumping up --enable-kernel version from
      2.4.0 to 2.4.1.
    - debian/packages.d/s390x.mk: likewise.

    - debian/patches/50_glibc232-mips-buildfix.dpatch: add for building
      mips/mipsel correctly.  Patched by Guido Guenther <agx@sigxcpu.org>,
      Thiemo Seufer <ica2_ts@csv.ica.uni-stuttgart.de>.

    - debian/packages.d/libc-udeb.mk: libc-udeb includes libnss_dns and
      libresolv.  (Closes: #192577)

    - debian/patches/50_glibc23-hppa-entry.dpatch: added to fix funcptr
      (function descriptors) for _start on hppa, so we need a
      sysdeps/hppa/elf/entry.h (similar to ppc64, ia64, etc).
      Patched by Randolph Chung <tausq@debian.org>.  (Closes: #193656)

    - debian/patches/30_glibc232-base.dpatch: add that binutils 2.14.90.0.2
      has entered in sid, which contain the binutils portion of the base fix.
      Reported by Jack Howarth <howarth@fuse.net>.

    - debian/patches/sparc32-buildfix.dpatch: added to fix sparc32 build.

  * Ben Collins <bcollins@debian.org>
    - debian/contron.in/sparc64: Remove the superflous (and incorrect) dep on
      gcc-3.2 for libc6-dev-sparc64. Add lib64gcc1 as a dep for libc6-sparc64.
    - Use CC for building sparc64 libs.
    - Remove build-dep for gcc-3.3 on sparc.
    - Really fix devpts.sh so that it mounts devpts whenever devpts is
      available and not mounted.
    - sparcv8-target.dpatch: New patch that enables v8 optimizations for
      sparc-linux compiles. Debian specific. For some reason config.sub
      doesn't recognize sparcv8, else I'd just pass sparcv8-linux as the host
      target.
    - Change how things are passed to configure for optimized packages, so
      that we let glibc set all the optimizations for us.
    - Change how sparc64 and s390x are built. Before the binary stage would
      force the build of the packages. Now, the build/install phases dep on
      the same for sparc64 and s390x. Same way that the OPT packages are done.

 -- Jeff Bailey <jbailey@nisa.net>  Tue, 15 Jul 2003 14:35:58 -0400

glibc (2.3.1-17) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/libc/DEBIAN/preinst: Add NSS restarting preinstallation
      service detection routine and messages.  xdm, kdm, gdm,
      postgresql, xscreensaver needs user's hand restart.
      (Closes: #165258, #165915, #184036, #184495, #188724)
    - debian/libc/DEBIAN/postinst: Edit NSS restarting messages to
      adopt some preinst messages.
    - Cleanup optimized and sparc64 builds.

 -- GOTO Masanori <gotom@debian.or.jp>  Sat, 19 Apr 2003 22:01:40 +0900

glibc (2.3.1-16) unstable; urgency=high

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/glibc23-cert-rpcxdr.dpatch: Fix "CERT Advisory
      CA-2003-10 Integer overflow in Sun RPC XDR library routines"
      (Closes: #185508).

    - debian/packages.d/glibc-doc.mk: Fix unneeded file '[' and ']' in
      /usr/share/man/man3.
    - These debian/patches/<below files> are removed from cvs because
      they are no longer being used and were superceeded by CVS patches:
      - libgcc-compat-mips.dpatch
      - libgcc-compat-sparc.dpatch
    - debian/libc/DEBIAN/postinst: add spamassassin to restart during
      upgrade from 2.2 to 2.3.  (Closes: #185275)
    - debian/control.in/opt: add one empty line at the end of file.
      This fix avoids opt packages to get mixed debian/control
      message with libc-udeb package.  (Closes: #185688)

 -- GOTO Masanori <gotom@debian.or.jp>  Tue, 18 Mar 2003 00:04:13 +0900

glibc (2.3.1-15) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/packages.d/optimized.mk: drop configure --disable-static
      option, because it does not work.  enable-kernel version bumps
      up to 2.4.1.

    - debian/manpages/nscd.8: Apply slightly improvement for the nscd(8),
      nscd_nischeck(8), and nscd.conf(5) man pages.  Patched by
      Sebastian Rittau <srittau@jroger.in-berlin.de> (Closes: #94058)
    - debian/manpages/nscd.conf.5: likewise.
    - debian/manpages/nscd_nischeck.8: likewise.
    - debian/manpages/zdump.1: add the description that zonename should be
      relative path name from /usr/share/zoneinfo.  (Closes: #171017)
    - debian/manpages/locale.1: add the description for LOCPATH.
      (Closes: #176661)

    - debian/locales/DEBIAN/templates: Add a description "what is the
      locale?". (Closes: #119197)
    - debian/FAQ: Add description how to setup your own locale with
      debconf + locales.  (Closes: #99763)

    - debian/locales/DEBIAN/templates: Introducing new templates format
      with po-debconf.  Thanks to Denis Barbier <barbier@linuxfr.org>.
    - debian/packages.d/locales.mk: likewise.
    - debian/po/*: likewise.
    - debian/control.in/main: Build-Depends-Indep: po-debconf.
    - debian/po/ja.po: Update translation data.
    - debian/po/fr.po: Update translation data.  Translated by
      Denis Barbier <barbier@debian.org>.  (Closes: #183652, #193083).

    - debian/sysdeps/depflags.pl: Remove conflicts: file-rc (<< 0.7.0)
    - debian/libc/DEBIAN/postinst: Use /usr/sbin/update-rc.d in updatercd(),
      suggested by Anthony Towns <aj@azure.humbug.org.au>.
    - debian/libc/DEBIAN/postinst: Check /usr/{lib,share}/file-rc/
      because file-rc >= 0.7.0 does not use /usr/lib/file-rc.

    - debian/patches/glibc23-hppa-compat.dpatch: add hppa libgcc-compat
      symbols patch, patched by Randolph Chung <tausq@debian.org>.
    - debian/patches/libgcc-compat-all.dpatch: update for mips and add
      for alpha, patched by Guido Guenther <agx@debian.org>.
    - debian/patches/libgcc-compat-other.dpatch: add for arm, m68k, ia64
      and s390.  Patched by GOTO Masanori <gotom@debian.org>.

    - debian/locales/usr/sbin/locale-gen: add "set -e" in order to return
      value.  (Closes: #183449)

    - debian/packages.d/libc-udeb.mk: contain libpthread.so to support
      installer using pthread.  (Closes: #183155)

    - debian/sysdeps/depflags.pl: remove php4 conflicts from libc6.
      (Closes: #183477, #184091)

    - debian/libc/DEBIAN/postinst: add proftpd-{ldap,mysql,pgsql} to
      restart during upgrade from 2.2 to 2.3.  (Closes: #184129)
    - debian/libc/DEBIAN/postinst: add cupsys.  (Closes: #184257)

    - debian/patches/glibc23-m68k-madv.dpatch: add to fix build error
      for some MADV_* used software on m68k, pulled from the latest cvs.
      (Closes: #159723, #181661, #184589)

    - debian/patches/glibc23-00-hppa-pthreads.dpatch: add to improve
      linuxthreads on hppa.  Pathced by Carlos O'Donell
      <carlos@baldric.uwo.ca>.  His summary: LinuxThreads is now using a
      self-aligning lock.
    - debian/patches/glibc23-hppa-malloc8.dpatch: add to improve malloc
      on hppa.  Patched by Carlos O'Donell <carlos@baldric.uwo.ca>.
      His summary: Malloc alignment has been moved back to 8 for optimal
      performance.

    - These debian/patches/<below files> are removed from cvs because
      they are no longer being used and were superceeded by CVS patches:
      - glibc23-02-hppa-min-kern-unwind-fde.dpatch
      - glibc23-03-hppa-mcontext.dpatch
      - glibc23-04-hppa-fcntl64.dpatch
      - glibc23-05-hppa-buildhack.dpatch
      - glibc23-06-hppa-tests.dpatch
      - glibc23-08-hppa-configure.dpatch

    - Glibc 2.3 uses another regex engine: "sed: woody version more than
      1000 times slower than potato version" should be fixed.
      (Closes: #155751)
    - en_CA can generate without warnings.  In addition, we use debconf
      interface in these days, this kind of "manual edit /etc/locale.gen"
      bug should be avoided.  (Closes: #151631)
    - libc6.postinst restarts samba in these days.  (Closes: #168189)
    - _FPU_SETCW/_FPU_GETCW macro works fine on powerpc in these days.
      "Incorrect macro _FPU_SETCW in <fpu_control.h>" should be fixed.
      (Closes: #137020)
    - hyper and unsigned hyper are supported in the current glibc.
      "rpcgen(1) doesn't handle 64 bit types" should be fixed.
      (Closes: #69041)

 -- GOTO Masanori <gotom@debian.or.jp>  Wed, 26 Feb 2003 18:44:08 +0900

glibc (2.3.1-14) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/glibc23-cmov.dpatch: Fix hwcap condition code again,
      previous version did not work properly under some situation.
    - debian/sysdeps/depflags.pl: Fix libnss-db dependency from << 2.2-6
      to <= 2.2-6.1.1, because the first version of libnss-db to work
      with libc6 2.3 is 2.2-6.1, and 2.2-6.2 works under all architectures
      correctly.  Suggested by Ryan Murray <rmurray@cyberhqz.com>.
      (Closes: #181834)
    - debian/sysdeps/depflags.pl: Fix libc6.postinst breakage with file-rc
      (<< 0.7.0), now libc6 conflicts them.  (Closes: #181683, #182320)

 -- GOTO Masanori <gotom@debian.or.jp>  Fri, 21 Feb 2003 09:19:45 +0900

glibc (2.3.1-13) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/libc/DEBIAN/postinst: Replace from "/usr/lib/file-rc" to
      "/usr/share/file-rc" to follow up file-rc 0.7.
      (Closes: #181551, #181556, #181606)
    - debian/libc/etc/init.d/devpts.sh: Fix devpts.sh failure if
      $devfs_mounted is empty. (Closes: #181541, #181591)

 -- GOTO Masanori <gotom@debian.or.jp>  Wed, 19 Feb 2003 09:26:17 +0900

glibc (2.3.1-12) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/glibc23-malloc-check.dpatch: Fix hppa MALLOC_CHECK_
      invalid pointer problem.  (Closes: #177242)
    - debian/patches/libgcc-compat-sparc.dpatch: Fix sparc libgcc compat
      symbol problem.  Patched by Guido Guenther <agx@debian.org>
      (Closes: #178645)
    - debian/patches/locales-supported.dpatch: This dpatch addes many
      locales especially for UTF-8 and ISO-8859-15, to display debconf
      locale menu using SUPPORTED.orig.
      (Closes: #135334, #154556, #177472, #99623, #130517)
    - debian/packages.d/glibc-doc.mk: add pthread_{getspecific, key_delete,
      setspecific} manpage symlinks to pthread_key_create. (Closes: #99530)
    - debian/manpages/ldconfig.8: Update from the redhat manpages.
      (Closes: #180916)
    - debian/patches/libgcc-compat-all.dpatch: Fix i386 libgcc compat
      symbol problem, this dpatch merges with
      libgcc-compat-{sparc,mips}.dpatch, patched by Guido Guenther
      <agx@debian.org>. (Closes: #179781, #180330)
    - debian/locales/DEBIAN/{postinst,templates,config}: Fix default
      environment variable "Leave alone" does not affect its meaning.
      (Closes: #180040)
  * Daniel Jacobowitz <dan@debian.org>
    - debian/libc/etc/init.d/devpts.sh: Update devpts.sh to work with the
      new grep package (Closes: #181409).

 -- GOTO Masanori <gotom@debian.or.jp>  Sat,  8 Feb 2003 22:08:59 +0900

glibc (2.3.1-11) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/libc/DEBIAN/preinst: Fix silly bug at parisc64 kernel version
      check, replace from $ver to $kernel_ver. (Closes: #178159, #178217)
    - debian/patches/glibc23-cmov.dpatch: Fix hwcap inappropriate handling
      not to load CMOV libraries (/*/lib/i686/cmov/) on VIA C3 architecture.
    - debian/patches/libgcc-compat-mips.dpatch: Fix undefined some symbols
      like __umoddi3 to export libgcc compat symbol.  Patched by
      Guido Guenther <agx@debian.org>.
    - debian/patches/0list: Disabled ldso-disable-hwcap.dpatch because
      (1) -opt is not provided currently, (2) disabling hwcap is not good
      way whether -opt package is installed or not.

 -- GOTO Masanori <gotom@debian.or.jp>  Wed, 22 Jan 2003 22:17:45 +0900

glibc (2.3.1-10) unstable; urgency=low

  * The "trudging the sludge" release.

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/packages.d/glibc-doc.mk: install linuxthreads/man/*.man
      manpages into glibc-doc package. (Closes: #155794)
    - debian/libc/DEBIAN/preinst: add kernel version check compared with
      2.4.19-pa17 on parisc64. Suggested by Randolph Chung.
    - debian/libc/DEBIAN/preinst: add kernel version requirement for
      2.5.53-pa3 in 2.5 series kernel on parisc64.
    - debian/locales/DEBIAN/config, debian/locales/DEBIAN/templates:
      add translated selection "Leave alone" and "None" because such strings
      were hardcoded and could not be localized in the templates file.
      Patched by Denis Barbier <barbier@debian.org>.  (Closes: #171502)
    - debian/packages.d/glibc-doc.mk: Fix glibc-doc dangling symbolic link for
      /usr/share/doc/glibc-doc/html/index.html. (Closes: #169878, #176701)
    - debian/libc/DEBIAN/postinst: Fix to work $DEBIAN_FRONTEND value
      regardless its case insensitivity. See #176483.
    - debian/sysdeps/depflags.pl: Fix again to conflict against wine
      (<< 0.0.20021007-1) and php4 (<< 4:4.2.3-5). (Closes: #170385)
    - debian/control: Fix unneeded Conflicts: wine and php4, as denoted above.
    - debian/control.in/libc: likewise.
    - debian/patches/glibc23-cmov.dpatch: Add CMOV to hwcap, for VIA C3 which
      is i686 class processor, but does not have 686 optional instruction CMOV.
    - debian/patches/glibc23-regcomp.dpatch: Fix regex crash, if clearing
      buffer, clear allocated too.  This patch is pulled from the current
      upstream glibc cvs.  (Closes: #175529)

  * Daniel Jacobowitz <dan@debian.org>
    - debian/patches/alpha-pic.dpatch: Fix errno reporting from syscalls
      on Alpha (Closes: #175511).

 -- GOTO Masanori <gotom@debian.or.jp>  Sun,  5 Jan 2003 09:13:22 +0900

glibc (2.3.1-9) unstable; urgency=low

  * Daniel Jacobowitz <dan@debian.org>
    - debian/packages.d/s390x.mk: Don't try to install CVS directories
      (Closes: #174267).
    - debian/packages.d/optimized.mk, debian/packages.d/sparc64.mk:
      Likewise.
    - debian/patches/glibc23-errno.dpatch: Updated for "h_errno" and "_res"
      also.
    - Upload properly this time, with a .diff.gz (Closes: #174436).

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/glibc23-hppa-shmlba.dpatch: Applied hppa SHMLBA
      definition. (Closes: #170507)
    - debian/libc/DEBIAN/postinst: add mysql-server in restarting service
      list. (Closes: #172123)
    - debian/patches/document-fix.dpatch: Applied patches sent by
      H. S. Teoh and GOTO Masanori. (Closes: #117680)
    - debian/patches/glibc23-asserth-decls.dpatch: Applied patches send by
      Jeroen T. Vermeulen <jtv@bulletproof>. (Closes: #106253, #164571)
    - debian/libc/DEBIAN/postinst: Removed 'logind' from checking list
      because it does not exist.
    - debian/libc/DEBIAN/postinst: Replaced dpkg -s from apache2 to
      apache2-common correctly.
    - debian/libc/DEBIAN/postinst: Redirect dpkg stderr message to /dev/null,
      which is showed if there are not installed packages. (Closes: #168481)
    - debian/libc/DEBIAN/postinst: Message typo fixed as "successfully."
      (Closes: #168483)
    - debian/manpages/ldd.1: Updated newer version which is pulled from
      RedHat manpages.
    - debian/locales/usr/sbin/locale-gen: add '-A /etc/locale.alias' into
      localedef option to consult locale alias name when making archives.

 -- Daniel Jacobowitz <dan@debian.org>  Thu,  2 Jan 2003 12:02:13 -0500

glibc (2.3.1-8) unstable; urgency=high

  * Daniel Jacobowitz <dan@debian.org>
    - debian/patches/glibc23-errno.dpatch: Temporarily re-enable linking
      to "errno" to fix compatibility with broken binaries
      (Closes: #174040, #174004).
    - debian/patches/glibc23-getaddrinfo.dpatch: Add getaddrinfo patch
      from CVS (Closes: #174027).
    - debian/control.in/main: Add myself to Uploaders.

 -- Daniel Jacobowitz <dan@debian.org>  Tue, 24 Dec 2002 12:35:39 -0500

glibc (2.3.1-7) unstable; urgency=high

  * The "Climb Ev'ry Mountain" release.

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/packages.d/s390x.mk: typo fixed, s390x-linux should be
      ok to rebuild. (Closes: #173874)
    - debian/patches/glibc23-getdents64-fix.dpatch: Fix getdents64
      failure on linux kernel 2.2. (Closes: #173913)

  * Jeff Bailey <jbailey@nisa.net>
    - sysdeps/linux.mk: Finish disabling sparc64.

 -- GOTO Masanori <gotom@debian.or.jp>  Sun, 22 Dec 2002 01:35:43 +0900

glibc (2.3.1-6) unstable; urgency=low

  * The "I will not be thwarted" release.

  * Daniel Jacobowitz <dan@debian.org>
    - Update glibc23-ctype-compat.patch to fix segfaults in old static
      binaries (Closes: #171451).
    - Allow building from the CVS checkout without getting CVS dirs in the
      resulting packages.  Whew.

  * Jeff Bailey <jbailey@nisa.net>
    - debian/patches/cvs.dpatch: Update.
      (Closes: #171550, #170507)
    - debian/patches/0list: Update
    - debian/control.in/libc: Conflict against wine (<< 0.0.20021007-1)
      (Closes: #170385)
      Also conflict against php4 (<< 4:4.2.3-5)
      Thanks to Steve Langasek for hunting this down!
    - debian/rules: Disable sparc64 build targets for now.
    - debian/packages.d/s390x.mx: Setup the 64 bit build as a cross-compile,
      because 's390' cannot run binaries intended for 's390x'

  * GOTO Masanori <gotom@debian.or.jp>
    - cvs.dpatch update resolve some bugs (Closes: #169919, #165603)
    - debian/patches/glibc23-hppa-Rminkernel.dpatch: Added hppa kernel
      version checking due to prevent people from installing unmatched version.
      Patched by Carlos O'Donell (Closes: #171804)
    - debian/libc/DEBIAN/preinst: likewise.
    - glibc23-function-compat.dpatch: Added for some bad application to
      keep running and not to resolve some symbols like __libc_wait,
      __libc_waitpid, so on. This patch will be removed when sarge will be
      relased apparently. (Closes: #165358, #173201)

    - debian/locales/DEBIAN/config: db_set is set if and only if locale.gen
      is existed.  Patched by Masato Taruishi <taru@debian.org>
      His note:
       The previous config script always set locales_to_be_generated
       even when /etc/locale.gen doesn't exist. So the question in
       dpkg-preconfigure time became empty in dpkg --configure locales time.
       This change resolves long outstanding locales bug.
      (Closes: #156386, #151784, #154244, #164523)

 -- Daniel Jacobowitz <dan@debian.org>  Mon,  2 Dec 2002 17:26:38 -0500

glibc (2.3.1-5) unstable; urgency=low

  * This is the "Leonids" release.

  * Jeff Bailey <jbailey@nisa.net>
    - debian/packages.d/libc-udeb.mk: Do not rename file to SONAME if it's
      a symlink.  Needed for hurd-i386.
    - debian/patches/signal-texi.dpatch: New file to remove link to
      linuxthreads manual.  Needed for hurd-i386.

    Welcome back, hppa:

    - debian/patches/glibc23-00-hppa-pthreads.dpatch
    - debian/patches/glibc23-01-hppa-dl-machine.dpatch
    - debian/patches/glibc23-02-hppa-min-kern-unwind-fde.dpatch
    - debian/patches/glibc23-03-hppa-mcontext.dpatch
    - debian/patches/glibc23-04-hppa-fcntl64.dpatch
    - debian/patches/glibc23-05-hppa-buildhack.dpatch
    - debian/patches/glibc23-06-hppa-tests.dpatch
    - debian/patches/glibc23-07-hppa-atomicity.dpatch
    - debian/patches/glibc23-08-hppa-configure.dpatch
    Thanks to Carlos O'Donell for these!

    - debian/control.in/libc-udeb: Remove missing trailing blank line.
    Thanks to Tollef Fog Heen.  Closes: #169342
    - debian/control.in/s390x: Remove missing trailing blank line.
    Thanks to Gerhard Tonn.

    - debian/libc/DEBIAN/postinst: Fix error in apache2 restart logic.
    Thanks to Carlos O'Donell.

    - debian/packages.d/libc-dev.mk: Fix missing tabs from s390x section.
    - debian/patches/s390-types.dpatch: New file to fix __ssize_t
    Thanks to Gerhard Tonn for these.

    - debian/packages.d/libc-udeb.mk: use DEB_HOST_ARCH, not DEB_BUILD_ARCH
      for determining package name.  Fixes cross-compilation case.

    - debian/patches/0list: Update for above

 -- Jeff Bailey <jbailey@nisa.net>  Mon, 18 Nov 2002 23:12:47 -0500

glibc (2.3.1-4) unstable; urgency=low

  * Daniel Jacobowitz <dan@debian.org>
    - debian/patches/cvs.patch: Fix RCS ID tags.
    - debian/rules, debian/sysdeps/sysdeps.mk: Move i386 optimization
      hack out of the rules file and put debugging information back in
      libc6-dbg for i386 (Closes: #165892).
    - debian/patches/crypt.dpatch: Fix initialization in crypt_r
      (Closes: #163260).
    - debian/patches/rtsig.dpatch: Fix the value of SIGRTMIN in non-threaded
      applications (Closes: #165412).
    - debian/rules, debian/packages.d/libc-dev.mk,
      debian/packages.d/libc-udeb.mk: Don't use '{}' wildcards, to fix
      building with /bin/sh -> ash.

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/libc/DEBIAN/postinst: add more NSS services:
        samba, courier-authdaemon
    - debian/packages.d/sparc64.mk: fix build error.
    - debian/libc/DEBIAN/postinst: modify apache2 service,
      apache2 ships its init script in apache2-common, but the script
      is in apache2. So replace from apache2-common to apache2 is needed.
      Closes: #165959
    - debian/patches/cvs.patch: Hurd trailing slash handling fixed.
      Closes: #162414
    - debian/patches/locales-stuff.dpatch: Fixed error generating de_CH,
      it's caused by typo. Closes: #140054

  * Jeff Bailey <jbailey@nisa.net>
    - debian/patches/cvs.dpatch: New file.
    - debian/patches/0list: Update
    - debian/sysdeps/depflags.pl: Conflict against libnss-db <= 2.2-6
      Thanks to Ryan Murray for the patch.  Closes: #168890

    - debian/patches/s390x-lib64.dpatch: New file.
    - debian/control.in/s390x: New file.
    - debian/libc-s390x/postinst: New file.
    - debian/packages.d/libc-dev.mk: Handle asm-s390x
    - debian/packages.d/s390x.mk: New file.
    - debian/rules: Include s390x files.
    - debian/rules.d/control.mk: Add s390x to control_deps, and include
      control.in/s390x
    - debian/sysdeps/linux.mk: Add s390x support.

    Thanks to Gerhard Tonn.  Closes: #169176, #166450.

    - debian/control.in/main: Update Standards-Version to 3.5.7.0

    - debian/patches/glibc22-hppa-fcntl.dpatch: Remove File
    - debian/patches/glibc22-hppa-fcntl-lfs.dpatch: Remove File
    - debian/patches/glibc22-hppa-mcontext.dpatch: Remove File
    - debian/patches/glibc22-hppa-pthreads.dpatch: Remove File
    - debian/patches/glibc22-hppa-rela.dpatch: Remove File
    - debian/patches/glibc22-hppa-tests.dpatch: Remove File
    - debian/patches/glibc22-hppa-unwind.dpatch: Remove File

    - debian/patches/hurd-fork-fix.dpath: New File.

    Note: CVS patch disabled for this upload

 -- Daniel Jacobowitz <dan@debian.org>  Tue, 29 Oct 2002 13:14:51 -0500

glibc (2.3.1-3) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/librt-mips.dpatch: librt is not worked on
      mips/mipsel architecture, we apply it until sarge will be
      released. Thanks to Guido Guenther <agx@sigxcpu.org>.
    - debian/patches/glibc23-ctype-compat.dpatch: added.
      glibc 2.3.x changes some symbols (__ctype_b, __ctype_toupper,
      __ctype_tolower) as hidden attribute. These symbols that are
      crashing the old 2.2.x dynamic linking code in static binaries
      are now exported.
      This patch is originally pulled from RedHat patch, I modified
      it for current debian glibc. Closes: #165554

 -- GOTO Masanori <gotom@debian.or.jp>  Sun, 20 Oct 2002 15:04:48 +0900

glibc (2.3.1-2) unstable; urgency=low

  * This is the "Why did everything stop working, mommy?" release

  * Jeff Bailey <jbailey@nisa.net>
    - debian/libc/DEBIAN/postinst: Warn about NSS changes if upgrading
    from older than 2.2.94-1.  Add ssh-krb5 and apache2 to list of
    services that definetly need restarting.

    Add libc-udeb (closes: #158589) Thanks to Tollef Fog Heen.
    - debian/control.in/libc-udeb: New file
    - debian/packages.d/libc-udeb.mk: New file
    - debian/rules: Call udeb machinery.
    - debian/rules.d/control.mk: Call udeb machinery.

    - debian/sysdeps/build-options.mk: Strip libc on alpha

    - debian/control.in/main: 2.13.90.0.10-1 is broken on s390
    require 2.13.90.0.4-1 for them.

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/0list: disable ip6-fix.dpatch. Closes: #165287
    - debian/packages.d/libc-udeb.mk: Clean up and fix indent crap.
    - debian/rules.d/shlibs.mk: bump up to 2.3.1-1. Closes: #165456

 -- Jeff Bailey <jbailey@nisa.net>  Fri, 18 Oct 2002 11:27:07 -0400

glibc (2.3.1-1) unstable; urgency=low

  * This is the "twilight" release...

  * Jeff Bailey <jbailey@nisa.net>
    - Upgrade tarballs to 2.3.1
    - version: Update to 2.3.1

    - debian/sysdeps/linux.mk: Do not build optimized libraries
    - debian/rules.d/control.mk: Likewise

    - debian/control.in/main: Require binutils 2.13.90.0.10-1 for ppc

    - debian/patches/elf-machine-rela-mips.dpatch: New file
    - debian/patches/0list: Update accordingly.

    - debian/rules: Use -O on i386.  This should go somewhere else,
    but I want to get this release out.

  * XXX Below here was during the 2.3 development, and never released.

  * Jeff Bailey <jbailey@nisa.net>
    - Upgrade tarballs to 2.3
    - version: Update to 2.3

    - debian/patches/hppa-data-start.dpatch: Remove, incorporated upstream
    - debian/patches/various-lsb-fixes.dpatch: Remove, incorporated upstream

    - debian/patches/0list: adjust accordingly
                            Also, prune ia64-reloc-none from the list.
                            I can't tell from the code snippet if this
                            has been incorporated or not.

    - .cvsignore: Add the stamp directories

    - debian/rules: Don't put CFLAGS in configparms, resolves ldconfig
      miscompile on i386

    - debian/rules: Add freebsd-i386 support
    - debian/rules.d/control.mk: Add freebsd-i386 support
    - debian/sysdeps/freebsd.mk: New file to add freebsd-i386 support
    - debian/sysdeps/paths.mk: Add freebsd-i386 support
    - debian/sysdeps/soname.mk: Add freebsd-i386 support

  * XXX Below here was during the 2.2.94 development, and never released.

  * Jeff Bailey <jbailey@nisa.net>
    - Upgrade tarballs to 2.2.94
    - version: Update to 2.2.94

    - debian/patches/cvs: Remove
    - debian/patches/manual-texinfo4: Remove, incorporated upstream.
    - debian/patches/i386-mathinline.dpatch: Remove, glibc headers require
      ANSI compilers.
    - debian/patches/db1-addon-enabler.dpatch: Remove
    - debian/patches/0list: adjust accordingly

    - debian/patches/0list: Comment out string2-pointer-arith.
      This was originally created to fix #44697, but without this
      patch, 44697 is no longer reproducable.

    - debian/patches/fhs-linux-paths.dpatch: Update to new template format

    - .cvsignore: New file

  * XXX Below here was during the 2.2.93 development, and never released.

  * Jeff Bailey <jbailey@nisa.net>
     - Upgrade tarballs to 2.2.93
     - version: Update to 2.2.93

     The following important patches are still disabled:

       glibc22-hppa-pthreads, glibc22-hppa-rela, ia64-perf

     - debian/patches/0list: prune commented out patches that won't
       be needed anymore

     - debian/patches/ia64-reloc-none.dpatch: Updated, thank to
       Randolph Chung <randolph@tausq.org>

     - debian/make-cvs-patch.sh: New file.

     - debian/patches/template.dpatch: Update headers to new format.

     - debian/patches/hurd-ioperms.dpatch - Deleted
     - debian/patches/hurd-lfs64.dpatch - Deleted
     - debian/patches/hurd-update.dpatch - Deleted
     - debian/patches/syserrlist.dpatch - Deleted

     - debian/README - More updates

     - debian/rules.d/control.mk: debian/control should Depend on
       debian/sysdeps/depflags.pl

     - debian/sysdeps/depflags.pl: Actually add the dependancy on
       libdb1-compat.  This is an update to GOTO Masanori's change,
       Thanks to Ryan Murray for catching this.

     - debian/patches/mathpatch.dpatch: Prune

     - debian/rules.d/patch.mk: Add `setup' as an alias for `patch'
       to provide dbs compatability.

     - debian/patches/cvs.dpatch: Sync with CVS from September 14th.
     - debian/patches/0list: Updated

  * GOTO Masanori <gotom@debian.or.jp>
     - debian/packages.d/glibc-doc.mk: change texi2html processed file from
       chapters.texi to libc.texinfo. Closes: #159417
     - debian/packages.d/libc-{dbg,pic,prof}.mk: fix /usr/doc removal
       compilation failure.
     - debian/libc/DEBIAN/postinst: Fix 'grep -v' failure if the size of
       /etc/ld.so.nohwcap is 0.
     - debian/rules.d/control.mk: Generate libc-opt control information.

     - Updating 2.2.9x fixes LSB 1.2 compliance. Closes: #156821
     - debian/control: add Depends: libdb1-compat.
       Until woody, libdb1 is included in libc6 package. However after sarge,
       libdb1 support is removed. libdb1-compat contains libdb1 which is
       formerly provided by libc6. Now libc6 depends on libdb1-compat,
       so upgrading from woody to sarge does not break any libdb1 issues.
       Closes: #155904

     - debian/patches/glibc22-hppa-fcntl.dpatch: added, patched by
       Carlos O'Donell <carlos@baldric.uwo.ca>.
     - debian/patches/glibc22-hppa-fcntl-lfs.dpatch: added, patched by
       Randolph Chung <tausq@debian.org>. Closes: #160846

  * Ben Collins <bcollins@debian.org>
    - Make sparc64 build use gcc-3.2.
    - Update all config options to not use --disable-sanity-checks, since we
      are actually using gcc-3.2 for everything.
    - Patch cleanups.
    - Re-enable optimized libs. Includes a simple mechanism which should fix
      the conflicting symbols during libc/libc-opt upgrade scenarios. This
      means that libc6-v9, libc6-i586 and libc6-i686 are back in full swing.
    - Remove all references to /usr/doc symlink crap, which is deprecated.

  * XXX Below here was during the 2.2.92 development, and never released.

  * Jeff Bailey <jbailey@nisa.net>
     - Upgrade tarballs to 2.2.92
     - version: Update to 2.2.92
     - debian/control.in/main: Require gcc-3.2 for all archs
     - debian/patches/0list: prune glibc-cvs, glibc22-s390-resource,
       gmon-start, locales-de_CH, sh-sysdep, alpha-build-failure

       These are already included in the 2.3 series.

     - debian/patches/glibc22-misc.dpatch: Split into ...
       debian/patches/makeconfig.dpatch: ... this
       debian/patches/locale-es_AR.dpatch: ... and this
       debian/patches/i386-mathinline.dpatch: ... and this
       debian/patches/ldconfig.dpatch: ... and this.

     - debian/patches/makeconfig.dpatch: Update for 2.3 series

     - debian/patches/0list: Temporarily disable some other patches:

       glibc22-hppa-pthreads, glibc22-hppa-rela, ia64-perf

     - debian/rules: memset.S works on ppc now, so stop deleting it.  Thanks
       to Jack Howarth <howarth@fuse.net> for letting us know.

     - debian/sysdeps/gnu.mk: Remove --enable-libio, now set by default.  Add
       NO_TEST = yes, make check does not run on i386-gnu.

     - debian/sysdeps/tools.mk: Hardcode gcc-3.2 for $(CC) and $(BUILD_CC)
       until gcc-defaults switches.

     - debian/rules: use CC=$(CC) when calling configure to get any changed
       definitions.

     - debian/control.in/main: Require binutils (>= 2.13.90.0.4-1)

     - debian/rules: Add time/date stamps to beginning and end of log files

     - db1-addon-2.1.3.tar.bz2: Delete

     - debian/ppc-memset.S: Delete

     - debian/README: Update

  * GOTO Masanori <gotom@debian.or.jp>
     - debian/packages.d/libc-dbg.mk: update libpthread-0.9 -> 0.10.
     - packages.d/libc.mk: likewise.
     - packages.d/optimized.mk: likewise.
     - packages.d/sparc64.mk: likewise.

     - debian/patches/glibc22-hppa-mcontext.dpatch: Fix unmatched userland
       mcontext_t definition differed from kernel. Patched by
       Carlos O'Donell <carlos@baldric.uwo.ca>. Closes: #157374

  * XXX Below here was during the 2.2.5 development, and never released.

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/glibc-cvs.dpatch: Update from Glibc CVS.
    - debian/patches: Dropped applying below patches due to updating
      glibc-cvs.dpatch.
        hurd-update, hurd-ioperms, ia64-strncpy, sparc-misc, resolv-nss_dns,
        glibc-openoffice-fixes, xdr-array-security, hurd-lfs64,
        syserrlist, mathpatch
    - Fix gcc 3.1/3.2 compatibility building for glibc on ppc, with upstream
      patched by Jack Howarth <howarth@bromo.msbb.uc.edu> and
      Franz Sirl <Franz.Sirl-kernel@lauterbach.com>.
      Closes: #155606

 -- Jeff Bailey <jbailey@nisa.net>  Thu, 17 Oct 2002 08:37:52 -0400

glibc (2.2.5-15) unstable; urgency=low

  * debian/patches/dl-procinfo-fix.dpatch: Fix libssl optimization
    problem occured by glibc dl-procinfo.
      Closes: #161700, #161717, #161720, #161740, #161773, #161774
      Closes: #161786, #161788, #161813

 -- GOTO Masanori <gotom@debian.or.jp>  Thu,  3 Oct 2002 09:56:46 +0900

glibc (2.2.5-14.3) unstable; urgency=low

  * NMU
  * debian/patches/glibc22-mips-mcontext.dpatch: delete.

 -- Ryan Murray <rmurray@debian.org>  Sun, 15 Sep 2002 14:21:21 -0700

glibc (2.2.5-14.2) unstable; urgency=medium

  * NMU
  * debian/patches/alpha-stxncpy.dpatch: keep testsuite patch (accepted
    upstream), but disable all use of stxncpy until a correct patch can
    be made.

 -- Ryan Murray <rmurray@debian.org>  Thu, 12 Sep 2002 13:04:47 -0700

glibc (2.2.5-14.1) unstable; urgency=low

  * NMU
  * sysdeps/depflags.pl: Make libc{6,6.1} depend on libdb1-compat
    (closes: #155904)
  * debian/patches/alpha-stxncpy.dpatch: Add patch from Daniel Jacobowitz
    for alpha stxncpy (closes: #159633)
  * debian/patches/glibc22-mips-msq.dpatch: Add
    sysdeps/unix/sysv/linux/mips/bits/msq.h for mips (closes: #159923)
  * debian/patches/glibc22-hppa-fcntl.dpatch: Add DN_* and F_NOTIFY definitions
    for hppa (closes: #159636)
  * debian/patches/glibc22-hppa-mcontext.dpatch: correct definition of mcontext
    to match kernel (closes: #157374)
  * debian/patches/glibc22-mips-mcontext.dpatch: correct definition of mcontext
    to match kernel (closes: #160462)
  * add build-depends on dpkg 1.10.8 to ensure we use the install-info that
    has the perl 5.8 workaround.

 -- Ryan Murray <rmurray@debian.org>  Tue, 10 Sep 2002 22:35:48 -0700

glibc (2.2.5-14) unstable; urgency=low

  * GOTO Masanori <gotom@debian.or.jp>
    - debian/patches/sh-sysdep.dpatch: Added the patch to compile for sh[34]
      sh[34]eb. Closes: #156273
    - debian/patches/glibc22-m68k-compat.dpatch: Newer m68k debian specific
      compatibility patch. Patched by Michael Fedrowitz <michaelf@debian.org>.
    - debian/patches/malloc-security.dpatch: Applied malloc security patch
      Patched by Wolfram Gloger <wg@malloc.de>.
    - debian/patches/alpha-build-failure.dpatch: Fix alpha build failure.

 -- GOTO Masanori <gotom@debian.or.jp>  Wed,  7 Aug 2002 20:56:54 +0900

glibc (2.2.5-13) unstable; urgency=low

  * Ben Collins
    - Last maintainer upload for me.
    - Fix double getent listing for build of libc package.
      Closes: #154133, #152866
    - Set maintainer to the debian-glibc mailing list. Set uploaders to myself
      and others.
    - Placed into CVS (this log entry is the first test commit).
    - ia64 build failure was fixed in last NMU. Closes: #151956
    - This sshd/libc bug is long since gone. Closes: #72596, #82468
    - ldconfig search order has also since been fixed. Closes: #105249
    - Add patches that OpenOffice needs in order to build. Closes: #153107
    - Bump min kernel supported to 2.2.0. Closes: #149529
    - Remove db1 compat library. The only user I know of this is coda. Coda
      can include it's own version of the library now. I've emailed the coda
      maintainer.
    - Bump the shlibs ver because of the min-kernel change, and db1 removal.
    - Add xdr-array.c security patch, Closes: #154992

  * GOTO Masanori <gotom@debian.or.jp>
    - applied patches/locale-de_CH.
    - debian/control: fix my uploader address due to my obsolete gpg key.
    - debian/copyright: update copyright year.

  * Jeff Bailey <jbailey@debian.org>
    - Add hurd-i386 patch for support LFS from CVS
    - Add patch to only declare sys_errlist and sys_nerr on Linux.  This
      allows gcc to build cleanly on hurd-i386.
    - Require mig >= 1.3-2 (hurd-i386 only), and hurd-dev >= 20020608-1
      (hurd-i386 only)
    - Prune hurd-ldflags from Hurd patch list.  Noone is quite sure what
      it's for.  With this change, all hurd-i386 patches are now upstream
      in CVS.
    - Add 'mathpatch' to fix a math testsuite failure.

 -- Ben Collins <bcollins@debian.org>  Thu, 25 Jul 2002 11:13:22 -0400

glibc (2.2.5-12) unstable; urgency=low

  * Non-maintainer upload to fix build problems on ia64
  * replaces ia64-asm-fixes.dpatch with ia64-perf.dpatch, ia64-strncpy.dpatch

 -- Bdale Garbee <bdale@gag.com>  Tue, 16 Jul 2002 17:09:24 -0600

glibc (2.2.5-11) unstable; urgency=low

  * Yet another NMU
  * Build with a -11 version to work around fragile logic that breaks
    locale dependencies when using NMU versioning. Closes: Bug#152968

 -- Wichert Akkerman <wakkerma@debian.org>  Sun, 14 Jul 2002 23:59:04 +0200

glibc (2.2.5-10.0) unstable; urgency=low

  * Non-maintainer upload by the security team
  * Rebuild, uploads to both testing and unstable are not allowed

 -- Wichert Akkerman <wakkerma@debian.org>  Sun, 14 Jul 2002 04:48:50 +0200

glibc (2.2.5-9) testing-security unstable; urgency=low

  * Something fucked up. Not sure why the .diff.gz size didn't match the
    .changes/.dsc. Not sure why katie didn't reject the upload when it found
    that out aswell.

 -- Ben Collins <bcollins@debian.org>  Sat, 13 Jul 2002 10:08:51 -0400

glibc (2.2.5-8) testing-security unstable; urgency=low

  * Resolver security bug fix.

 -- Ben Collins <bcollins@debian.org>  Fri, 12 Jul 2002 18:24:28 -0400

glibc (2.2.5-7) unstable; urgency=low

  * Misc ia64 asm updates, and strncpy fix
  * Misc sparc patches from DaveM
  * Revert sparc64 back to lib64 from my rebelious lib/64 effort. Use gcc-3.1
    now.

 -- Ben Collins <bcollins@debian.org>  Mon, 17 Jun 2002 22:33:39 -0400

glibc (2.2.5-6) unstable; urgency=low

  * Fix locales/config to be 755.
  * Add big fat note to default nscd.conf about how host cache is insecure,
    and disable it by default. This lowers the severity of #139879 for the
    time being. I'll close it when a proper fix is in.
  * Hurd patches from Jeff Bailey. Hurd goes to libc0.3!

 -- Ben Collins <bcollins@debian.org>  Sun, 28 Apr 2002 11:21:48 -0400

glibc (2.2.5-5) unstable; urgency=low

  * Fix missing LOCALES var in locale-gen.
  * Fix space before "]" in locales/postinst. Closes: #139902, #139977,
    #140048, #140464, #141408, #141515, #141558, #141617, #141786
  * Generate list of locales directly in locales/DEBIAN/config, so that we
    have a working list during pre-inst. Closes: #76954, #141384
  * Backout nice changes for now.

 -- Ben Collins <bcollins@debian.org>  Mon, 25 Mar 2002 21:05:44 -0500

glibc (2.2.5-4) unstable; urgency=low

  * Include s/ip6.arpa/ip6.int/ patch from Fabbione. Closes: #119773,
    #132310
  * Fix perms on locales/DEBIAN/config. Closes: #134094, #139682
  * Update from Glibc CVS: Lots of euro conversions and locales updates.
    Closes: #128181, #130259
    Lots of other various fixes (please read the ChangeLog). Closes: #138094
  * Upstream fixed ia64 ldd rewrite problem. Closes: #128451
  * Upstream fixed nice return. Closes: #136815
  * pt_BR translation is ok now, Closes: #128530
  * Applied patch from Ganesan R to better handle some locale names.
    Closes: #128969
  * Add ARM patch to disable hardware caps.
  * Fix typos in catalan template. Closes: #133247
  * Add a "Leave alone" option for locales setting of /etc/environment.
    Make it the default. Closes: #133315, #133315
  * HPPA patch from Randolph Chung. Closes: #133666
  * Fix zh_HK date output, from Anthony Fok.
  * s/Noninteractive/noninteractive/ (hopefully for the last time).
    Closes: #134381, #137348
  * Fix locales/config for when locale.gen doesn't exist.
    Closes: #135343, #134613, #139284
  * Patch from Gary Hade (via Randolph Chung) to fix gmon-start.
    Closes: #135748, #129903
  * Fix locale.1 - s/LC_PAPR/LC_PAPER/ Closes: #114174
  * Add glibc22-hppa-tests patch from Randolph Chung. Closes: #137513
  * Alistair McKinstry:
    - Added locale.alias(5) and locale.gen(5) man pages. Closes: #106117
    - Patch for glibcbug to correctly handle bad EDITOR setting.
      Closes: #128699
    - Include glibcbug.1 manpage. Closes: #128701
    - Add patch to fix segv in localedef.
    - Patch for locale.1 and localedef.1 to add missing LC_* vars.
      Closes: #114174
    - Fix for the d_fmt field in de_CH. Closes: #27397
    - Fix locale.alias so Russion charset is KOI8-R instead of ISO-8859-5.
      Closes: #62586
    - s/Jun/Juni/ s/Jul/Juli/ for sr_YU. Closes: #131846
    - Typo in categories.def. Closes: #133379
    - Update iso-4217.def Closes: #133380
    - Re-enable el.po since we are using newer gettext. Closes: #133383
  * nscd.conf.5: Clarification. server-user option cannot be used with
    -S/--secure. It will fail to start. Also note that using server-user other
    than root may break some lookup services. Closes: #139433
  * Completely remove the pthread man pages. They are _way_ out of date (last
    updated in 1998 according to the ChangeLog). Use the info or html docs
    instead. Feel free to send me mucho patches for them, if you want them
    back. Closes: #139052, #139042
  * Various LSB conformance patches from Joey Hess. Closes: #136815
  * ia64 patch for R_IA64_NONE relocs. Closes: #135314

 -- Ben Collins <bcollins@debian.org>  Sun, 24 Mar 2002 09:49:37 -0500

glibc (2.2.5-3) unstable; urgency=low

  * Fix logic in locales postinst which would fail on empty or missing
    /etc/environment. Closes: #132025, #131999, #132244
  * Remove build-dep on gcc-3.0-sparc64
  * Fix case where no locales are selected, so the only choices for LANG are C
    and None. This left a hangin comma which debconf doesn't seem to like.
    Closes: #132245

 -- Ben Collins <bcollins@debian.org>  Sun,  3 Feb 2002 23:13:29 -0500

glibc (2.2.5-2) unstable; urgency=low

  * Remove glibc22-m68k-resource.dpatch. Patch is already included upstream.
    Closes: #130922
  * Fix thinko in locales postinst. Also add a "None" option for LANG, and
    check for it in postinst.
  * HPPA correct unwind setting, from Matthew Wilcox. Also update patch
    splitting the linuxthreads and rel/rela changes. Closes: #131216
  * Fix copyright shown for the GNU Libc Manual. Closes: #130866
  * Fix problem where a binary-NMU rebuild of libc would provide a version
    that was incompatible with the current locales dep.
  * Fix atomic_lock_t decleration for hppa. Closes: #131367
  * Fix logic in locales where LANG wasn't being set in /etc/environment.
    Closes: #131040
  * Moved SUPPORTED list to /usr/share/i18n/, since policy says it can't be in
    /usr/share/doc/locales/. Fixup debconf scripts to notice this.
  * A few patches from CVS:
    - Fixes bad optimization in dynamic linker
    - Updates m68k and arm for unwind
    - tzdata2002b updates
    - Some irrelevant (for us) x86_64 updates
  * Patch from Gerhard Tonn for s390-32 for bits/resource.h.
  * libc6-sparc64-dev: Change dep to gcc-3.0 instead of gcc-3.0-sparc64. The
    packages are now merged.

 -- Ben Collins <bcollins@debian.org>  Fri,  1 Feb 2002 11:52:54 -0500

glibc (2.2.5-1) unstable; urgency=low

  * New upstream. Closes: #122980, #126441
  * locales.postinst: Add a signature line to /etc/locale.gen so people can
    take over the file manually instead of through debconf.
  * Added -de template for locales. Closes: #114078
  * Removed need for generate-config.mk. SUPPORTED list for debconf is now
    generated dynamically using SUPPORTED.gz.
  * Added debconf option in locales to choose LANG= default in
    /etc/environment based on contents of /etc/locale.gen. Closes: #117216,
    #120410
  * Patched nscd init script. Patch supplied by Grant Bowman. Closes: #121942
  * Do not install tzconfig(8), Closes: #123679
  * Removed obsolete BSD license clause in debian/copyright. Closes: #123821
  * Applied spelling patch for locales description. Closes: #125092
  * Updated glibc-doc description to note that it includes html docs too. I am
    not, however, splitting info and html docs into seperate packages. Closes:
    #125825
  * Check for the existence of libdb.so.3 before cat'ing it. Closes: #126459
  * Added powerpc sysconf patch from David Schleef. Closes: #127560
  * Added SuperH support. Closes: #127740
  * No longer apply glibc-vs-gcc3 patch. Implementation merged upstream.
  * Last minute ARM patch to fix unwind.

 -- Ben Collins <bcollins@debian.org>  Thu, 24 Jan 2002 00:31:40 -0500

glibc (2.2.4-7) unstable; urgency=low

  * glibc22-hppa: Fix mips/pt-machine.h, so that it patches both the ISA-1 and
    ISA-2 cases of testandset(). Also add IPC updates from Willy. Closes: #120383
  * glibc22-hppa: Updated, from Mathew Wilcox.

 -- Ben Collins <bcollins@debian.org>  Mon,  3 Dec 2001 12:09:26 -0500

glibc (2.2.4-6) unstable; urgency=low

  * glibc22-hppa.dpatch: Fix lock_held macro on non-hppa. This patch is now
    enabled by default for all archs.
  * Update patches for HPPA dynamic loader from.
  * m68k resource.h patch from Roman Zippel, Closes: #118909

 -- Ben Collins <bcollins@debian.org>  Fri,  9 Nov 2001 21:20:59 -0500

glibc (2.2.4-5) unstable; urgency=low

  * Added patch from Ulrich to really fix the [x-] fnmatch() case.
    Closes: #96013
  * Updated gcc3 compat patch.
  * Several changes to ldconfig:
    - Parse the config file before checking system directories. This is needed
      to make sure it is possible to override system directories.
    - Cleanup the config file parsing routine a bit. Make sure we open the
    config file with correct perms in case it gets created by this call.
  * Pulled from CVS as of Oct 27, 2001:
    - Includes fnmatch fix upstream.
    - strxfrm fix.
    - dlfcn fix for C++ program usage.
    - ENABLE_NLS fixes for various functions (doesn't affect us, since it is
      mainly meant for non-nls builds).
    - IPv6 reverse lookup fixes.
    - Lots of libm fixes.
    - Several language translation updates.
    - Several m68k setjmp fixes.
    - Some mips fixes merged.
    - Timezone updates.
    - S390 ucontext fixes.
    - Several hurd fixes.
    - ELFOSABI_* Updates.
  * Update the kernel headers on all the systems I build for (arm, ppc, i386,
    mips, sparc, sparc64, hppa).
  * Added "es" template for locales, from Carlos Valdivia. Closes: #117413
  * Fixup ttyname patch for devfs, which broke some things. Closes: #117551
  * Remove the errno.texi explanation for _GNU_SOURCE for two defines. The
    thing is, according to the libc manual conventions, this is not the
    correct way to handle it. In fact, it is already done according to the
    convention of the rest of the manual. The two items are tagged with the
    "GNU" comment, meaning they are GNU extensions. The libc manual explains
    in its introductory chapters that this means it needs the _GNU_SOURCE
    define.

 -- Ben Collins <bcollins@debian.org>  Mon, 29 Oct 2001 20:25:40 -0500

glibc (2.2.4-4) unstable; urgency=low

  * Hopefully fix the damn .html docs. Looks good to me. Closes: #84237,
    #89382
  * Fix inttypes.h typo. Closes: #114483
  * Disable sanity checks for gcc-3.0 archs, Closes: #114724
  * Fix entry for locales depending on debconf. Closes: #115155
  * Fix echo commands when generating locales.config. The -e option is not
    portable.
  * New hppa patch from several people. This, along with the .10 binutils,
    should fix all of hppa's problems.
  * Apply devfs compatibility patch for ttyname. Closes: #74911
  * Add (modified) patch for ldconfig to create ld.so.conf if it doesn't
    exist. Original patch from David Whedon, Closes: #98763
  * Clarify some errno.texi functions wrt _GNU_SOURCE. Patch from Jeremiah
    Savage. Closes: #99683
  * Add conflicts/replaces for all the potato locales that cannot be installed
    with this glibc (and are actually supported now). Closes: #108015
  * Fix comma in confnames.h to make all the -pedantic folks happy :).
    Closes: #113498, #113816, #114672
  * Include a mips termios.h cleanup patch, sent by Ryan Murray, patch by Ralf
    Baechle.
  * Add Russion template for locales package, by Ilgiz Kalmetev. Closes:
    #114303
  * Fix sed in ia64/ldd-rewrite.sh: Closes: #115784
  * Add Brazilian Portuguese locales template from Andre Luis Lopes, closes:
    #116435

 -- Ben Collins <bcollins@debian.org>  Wed, 24 Oct 2001 12:28:49 -0400

glibc (2.2.4-3) unstable; urgency=low

  * Apply patch to fix es_AR number formatting. Closes: #108373
  * Fix SA_* defines on some archs. Patch sent upstream, and accepted.
    Closes: #113273
  * Brought in dynamic module patch from CVS that fixes
    mozilla/galeon/konquerer. Closes: #113457, #113481, #113708
  * Fixed libc postinst for the readlink call. Based on patch supplied by
    Branden Robinson. Closes: #113459
  * Increase shlib dep to 2.2.4-2. Closes: #113731

 -- Ben Collins <bcollins@debian.org>  Sat, 29 Sep 2001 23:38:11 -0400

glibc (2.2.4-2) unstable; urgency=low

  * Updates from CVS Head, includes some s390 fixes, closes: #109072
  * Reincluded some missed patches (notable the fakeroot fix), closes:
    #109162
  * Include the iconvconfig program in the libc6 package, closes: #109600
  * Fixup locales/libc dep back to the old way, closes: #109850
  * Apply patch for locale-gen.8, closes: #110554
  * Apply patch to make /etc/locale.gen generated by debconf interface.
    Thanks to Ho-seok Lee, closes: #110980, #110661
  * glibc22-fts.dpatch: Remove, fixes upstream now.
  * libc/DEBIAN/postinst: Before calling init u, make sure /proc/1/exe
    resolves to /sbin/init. This should help ensure we don't muck up
    debootstrap.  closes: #110615

 -- Ben Collins <bcollins@debian.org>  Fri,  7 Sep 2001 14:52:02 -0400

glibc (2.2.4-1) unstable; urgency=low

  * Final release of 2.2.4. Not much changed from 2.2.3-11.
  * Remove cruft from debian/patches/

 -- Ben Collins <bcollins@debian.org>  Thu, 16 Aug 2001 09:29:14 -0400

glibc (2.2.3-11) unstable; urgency=low

  * Updated to HEAD of CVS as of Aug 11, 2001
    - Misc fixes found in 2.2.4pre2
    - This is basically 2.2.4pre3
  * New glibc-vs-gcc3 patch, closes: #108408, #108364, #108415, #108364,
    #108454, #108476

 -- Ben Collins <bcollins@debian.org>  Sun, 12 Aug 2001 10:02:12 -0400

glibc (2.2.3-10) unstable; urgency=low

  * Updated to HEAD of CVS, as of Aug 4, 2001
    - Mostly arch specific bug fixes.
    - This is actually the same as 2.2.4-pre2 (releasing in a day or so)
  * Ok, I give up. I don't want any more bug reports, so I've added the
    nfs getdents fix. If it breaks anything, I will hunt down all of those
    who submitted the patch/bug. closes: #86877
  * Added two more Q/A's to the Debian FAQ (AKA "The Overfiend Clause" :)
    This documents Debian's glibc following stable CVS, and also
    kernel-headers desync.
  * Added latex2html to build-dep-indep, closes: #101662
  * Fix tzconfig so it handles ambiguous names correctly, closes: #105580
    Patch by Martin Pool <mbp@valinux.com>
  * Add copyright and license to tzconfig, closes: #105581
  * Updated libc0.2 hurd dep to (>= 20010718-1), closes: #106291
  * Include locale-gen.8 manpage from Eduard Bloch <edi@gmx.de>
  * Duh. We don't need to cat in the saved libdb.so.3 to the new location.
    Ldconfig does the work for us by creating a symlink to it.
  * Remove sysdeps/powerpc/memset.S so ppc gets the generic C version for
    now (which is actually faster on most machines anyway), until they get
    their memset.S fixed (especially for Power3).
  * Added updates for hppa patch from Matthew Wilcox.
  * debian/rules.d/control.mk: Added hppa to list of archs for libc6

 -- Ben Collins <bcollins@debian.org>  Tue,  7 Aug 2001 10:11:22 -0400

glibc (2.2.3-9) unstable; urgency=low

  * Really fix the timezone problem this time. I moved the UTC check
    before the TZ check, and then reuse that to get the TZ date, instead
    of the other way around. That solves the problem. Using this method, I
    can get the UTC date first setting LC_ALL=C, and then allow the
    override for the real UTC0 and $TZ date, so we get lang support
    without breakage now.

 -- Ben Collins <bcollins@debian.org>  Tue, 24 Jul 2001 12:19:48 -0400

glibc (2.2.3-8) unstable; urgency=low

  * Use glibc- instead of glibc_ for the provides between libc and
    locales. Underscores are actually not allowed in package names.
  * CVS as of July 22, 2001
  * Use LC_ALL instead of LANG in libc postinst, closes: #106043, #106078,
    #106081, #106187, #106215
  * Use Noninteractive, not noninteractive in postinst's, closes: #105902
  * SUPPORTED file ends in .gz...guess some people can't bother to add
    that themselves. Also, add notes about locale-gen closes: #105915
  * Fix cp -L calls, use cat instead to make sure we avoid any command
    line problems, closes: #106120, #106096
  * MIPS WARNING: The MAP_BASE_ADDR patch does not apply anymore, since it
    seems that whole bit of code was removed. MAKE SURE THIS DOESN'T BREAK
    ANYTHING! :)

 -- Ben Collins <bcollins@debian.org>  Sun, 22 Jul 2001 23:04:15 -0400

glibc (2.2.3-7) unstable; urgency=low

  * CVS as of 7-9-2001, closes: 101308, 103251, 100398, 100398
  * New hppa patch, still not enabled by default since I got deadlocks in
    the linuxthreads tests (ex2 and ex10) on sparc.
  * Increased shlibdep to 2.2.3-7
  * SUPPORTED locales list is now in doc dir, and locale.gen is a
    non-changing file (still a conffile, but it doesn't change when glibc
    changes).
  * Fix fts patch so it doesn't break Hurd, closes: 102826
  * Make libc provide glibc_$DEBVERSION, and locales depend on it. This
    way we make sure everything matches up. closes: 100605, 100605,
    101034, 100605, 99344
  * Added some more UTF-8 locales, closes: 103742, 86372
  * Fixed hurd's ldconfig, closes: #101691
  * Already fixed ld_envlib_path, closes: 101622
  * In libc preinst, detect if we are upgrading from a version where we
    used to provide our own libdb.so.3, and keep a copy. We reuse it
    during postinst. This way, we have no time where libdb.so.3 doesn't
    exist. closes: 101795, 103586
  * Removed depends on libdb2 from libc6, since our hack above makes it
    pointless. Now, libc6 should get installed before libdb2 (since it
    depends on libc6), which will leave a working libdb.so.3. After libdb2
    is upgraded, the new libdb.so.3 will be installed, which will work
    since the new libc6 that it depends on is also working.
  * Fixed calls for zoneinfo as per JoeyH's suggestion. closes: 100461
  * Updated copyright notice since LGPL 2.1 is now used.

 -- Ben Collins <bcollins@debian.org>  Tue, 10 Jul 2001 14:00:59 -0400

glibc (2.2.3-6) unstable; urgency=low

  * CVS As of 6-9-2001, closes: #100055
  * debian/sysdeps/depflags.pl: Fix typo where netbase/netkit-rpc wasn't
    being added to libc-dev control flags, closes: #98735, #99460, #99990,
    #100382
  * Moved rpcinfo from /usr/sbin to /usr/bin... closes: #100279
  * Added fts() security patch
  * Updated patch for HPPA, now also enabled per default

 -- Ben Collins <bcollins@debian.org>  Sat,  9 Jun 2001 16:35:29 -0400

glibc (2.2.3-5) unstable; urgency=low

  * CVS as of 5-28-2001
  * Added fake ldconfig script for hurd, provided by Robert Bihlmeye,
    closes: #95189
  * Add replaces for netbase (<< 4.0), closes: #98708, #98735
  * Install rpcgen/rpcinfo manpages, closes: #98710

 -- Ben Collins <bcollins@debian.org>  Mon, 28 May 2001 14:36:32 -0400

glibc (2.2.3-4) unstable; urgency=low

  * CVS as of 5-24-2001
  * Add forgotten mips ld.so patch
  * Added s390 to arch lists, closes: #97718
  * Add m68k fPIC patch for libc_nonshared, closes: #97663
  * Add LD_LIBRARY_PATH to --library-path, closes: #98638

 -- Ben Collins <bcollins@debian.org>  Thu, 24 May 2001 16:10:09 -0400

glibc (2.2.3-3) unstable; urgency=low

  * Upgraded to CVS as of 5-20-2001
  * New HPPA patch (applies cleanly)
  * Fix prep.sh, closes: #97600
  * Add rpcinfo to libc, and rpcgen to libc-dev. Add Conflicts/Replaces
    for both packages with netkit-rpc, closes: #93280

 -- Ben Collins <bcollins@debian.org>  Mon, 21 May 2001 09:56:47 -0400

glibc (2.2.3-2) unstable; urgency=low

  * Enable threads for hppa
  * Updated to CVS as of May 10, 2001, closes: #96968, #94501
  * Run locale-gen on upgrades from before 2.2.3-1, closes: #96767, #96913
  * Should be fixed, old regex problems, closes: #86728, #88677
  * This should be fixed now too, closes: #88662
  * There were some regcomp related fixes that appear to have fixed this,
    closes: #93167
  * Build-Depends-Indep: s/perl5/perl/, closes: #95782
  * Updated eo_EO from Edmund GRIMLEY, closes: #78085

 -- Ben Collins <bcollins@debian.org>  Thu, 10 May 2001 13:54:42 -0400

glibc (2.2.3-1) unstable; urgency=low

  * Were up to 2.2.3 now.
  * libc-dev: Conflict with older gcc's that do not have the weak-sym or
    pic-kludge patches.
  * ldd.dpatch: New and improved fix for the "no execute permissions"
    buglet. Now, ldd will not call the "file" command for every file. This
    should speed up dpkg-shlibdeps a lot.
  * Removed some obsolete db2 patches
  * Removed some other obsolete patches
  * Conflict with libnss-db that used db2
  * Depends on current libdb2 which contains libdb.so.3...hopefully this
    wont make apt choke because of a dep loop
  * Use the new gcc-3.0 to build sparc64 64bit libc/libc-dev packages.
  * Build-Depend += gcc-3.0-sparc64 [sparc]

 -- Ben Collins <bcollins@debian.org>  Thu, 12 Apr 2001 21:08:33 -0400

glibc (2.2.2-4) unstable; urgency=low

  * Yeah! We can disable our libdb.so.3 (db2) interface in favor of the
    one in libdb2. That package now has a symboled version so we can start
    to migrate away from this cruft. However, we do still have the db1
    support.

 -- Ben Collins <bcollins@debian.org>  Fri, 23 Mar 2001 19:17:39 -0500

glibc (2.2.2-3) unstable; urgency=low

  * Disable building of optimized libs for now. I did not forsee the
    problems involved with symbol skew between ld-linux.so.2 and the
    optmized libc.so.6. As of now, I can see no way around this.
  * Make libc6 conflict with the optimized libs for now, so we can get rid
    of them, closes: #90753, #90758, #90763, #90770, #90778, #90779
  * RPC patch from Jakub Jelenik, probably closes: #90830
  * Add build-dep for file, m4 not needed now that opt libs are gone.
    closes: #90773

 -- Ben Collins <bcollins@debian.org>  Fri, 23 Mar 2001 10:31:24 -0500

glibc (2.2.2-2) unstable; urgency=low

  * Fix ld.so shlib output, closes: #87655
  * Update to latest CVS, as of 2001-03-21
  * manual/arith.texi: Fix documentation of fast and least integer
    typedef's. Patch sent upstream, closes: #84711
  * glibc22-getaddrinfo.dpatch: Add fix from Hiroyuki YAMAMORI
    <h-yamamo@db3.so-net.ne.jp>, closes: #85304
  * i386/mathinlines.h: Fix non-ANSI ?: construct, closes: #85322
  * sysdeps/unix/sysv/linux/mips/bits/mman.h: Add and fix some madvise
    declerations, closes: #86676
  * Explicitly list inetd to be restarted, closes: #86715
  * Updated Hurd SIOCS patch from Marcus Brinkman
    <Marcus.Brinkmann@ruhr-uni-bochum.de>, closes: #87903
  * Added eo_EO locale by Robert Thomson <sirrmt@dingoblue.net.au>
  * Check to make sure any services actually need to be restarted, closes:
    #88440
  * Conflict with old strace, which appears to break under new libc6,
    closes: #88775
  * Make sure we remove any CVS cruft, closes: #90173
  * Removed -O2 override for hppa, at Matt Taggart's request.
  * Build-Depend on latest gcc so we get the weak sym stuff right.
  * Made opt libs compiled specifically for 2.4.0+ kernels. This should
    make them even faster and smaller since it reduces the compatibility
    code.
  * libc-opt/DEBIAN/preinst: Check to make sure we are running under a
    2.4.0 kernel, and under the correct cpu
  * libc/DEBIAN/{prerm,postinst}: Changed check for package name to use
    basename of $0 as opposed to uname.

 -- Ben Collins <bcollins@debian.org>  Fri, 23 Mar 2001 10:30:47 -0500

glibc (2.2.2-1) unstable; urgency=low

  * New upstream version
  * Updated to CVS as of 2001-02-16, should make alpha build now.

 -- Ben Collins <bcollins@debian.org>  Thu, 15 Feb 2001 23:55:24 -0500

glibc (2.2.1-4) unstable; urgency=low

  * Fixup section "disparities" between control and overrides on
    ftp-master

 -- Ben Collins <bcollins@debian.org>  Tue, 13 Feb 2001 11:47:22 -0500

glibc (2.2.1-3) unstable; urgency=low

  * Update CVS, should fix regex memleak, closes: #85788

 -- Ben Collins <bcollins@debian.org>  Mon, 12 Feb 2001 22:57:56 -0500

glibc (2.2.1-2) unstable; urgency=low

  * Synced with CVS as of 2001-02-09, 2.2.2-pre1
  * shlibs: s/libdb1/libdb/
  * debian/rules (clean): remove shlibs file, since it is generated
  * move getaddrinfo patch to it's own .dpatch
  * Added some ia64 setups, closes: #82384
  * clean target, remove debian/control.in/libc?*, since they are
    generated
  * debian/control.d/main (locales): Fix description to reflect recent
    merging of the i18ndata package, closes: #82347
  * Added hppa patch from Matt Taggart <taggart@carmen.fc.hp.com>
  * db/ndbm.h: s,db.h,db1/db.h, closes: #83171, #83443
  * Added extra disclaimer to the locale postinst warning. closes: #83394
  * libc/DEBIAN/postinst: change logic in check for init. closes: #84287

 -- Ben Collins <bcollins@debian.org>  Mon, 29 Jan 2001 10:54:53 -0500

glibc (2.2.1-1) unstable; urgency=low

  * Upstream version 2.2.1 release, not many changes for us really, since
    we've been using CVS all along.
  * Included Hurd-SIOCS patch from Marcus Brinkman.
  * segfault.c: s/__access/access/. Patch sent upstream. closes: #82026
  * Increase shlibdep version to 2.2.1
  * Merged i18ndata package into locales package. closes: #81990
  * Added snmpd to the restart list, closes: #81736
  * Resynced bug list. Count is 57 now...

 -- Ben Collins <bcollins@debian.org>  Wed, 10 Jan 2001 08:55:08 -0500

glibc (2.2-11) unstable; urgency=high

  * Synced to CVS as of 2001-01-09 - 52 unique bugs and decrementing...
    This fixes the RESOLV_HOST_CONF security problem.
  * Included nscd(8), nscd_nischeck(8) and nscd.conf(5) man pages by
    Sebastian Rittau <srittau@jroger.in-berlin.de>. closes: 66365
  * /etc/init.d/nscd: Actually uncomment and use the nscd_nischeck to see
    if we want to start in secure mode.
  * debian/manpages/getconf.1: New manpage for getconf utility. closes:
    #63897
  * debian/manpages/catchsegv.1: New manpage for catchsegv utility.
    closes: #70740
  * debian/glibc-doc/usr/share/doc-base/glibc-manual: Fix for new html
    setup.
  * sysdeps/posix/getaddrinfo.c (gaih_inet): Try absolute lookups first.
    closes: #64192
  * manual/conf.texi (File Minimums): make _POSIX_PATH_MAX match the
    posix1_lim.h value, patch sent upstream aswell. closes: #81628

 -- Ben Collins <bcollins@debian.org>  Sun,  7 Jan 2001 16:15:34 -0500

glibc (2.2-10) unstable; urgency=low

  * Synced to CVS as of 2001-01-05 - 64 unique bugs and decrementing...
  * manual/stdio.texi: getline(): Clarify the return value if EOF is
    reached before a newline. Patch sent upstream aswell. closes: #14590
  * manual/string.h: basename()/dirname(): Added documentation for these.
    Basename() required two definitions, one for the GNU version, the
    other for the XPG version. Included examples. Patch sent upstream.
    closes: #27586
  * DISCLAIMER: All three of the above changelog entries did in fact change
    the state of the files in this source. It is the opinion of the
    maintainer (hereto after refered to as GOD), that the changes made do
    in fact make the package(s) better. GOD does not warantee that these
    changes will make your life (be it sex life, or no life) better. GOD
    does guarantee that you (hereto after refered to as NON-DIETY) will
    gain great wisdom simply by using this(these) package(s). The
    NON-DIETY shall not, in any event, hold GOD responsible for misreadings
    of these statements.

 -- Ben Collins <bcollins@debian.org>  Fri,  5 Jan 2001 10:46:42 -0500

glibc (2.2-9) unstable; urgency=low

  * CVS synced as of 2001-01-03. Happy freaking new year.
  * Remove FAKEROOT check, since we don't build locales now, we don't have
    to worry about it.
  * dlfcn/dlerror.c: dlerror(): Check for result->errstring being NULL,
    closes: #80991
  * No offense, but I cannot be expected to debug fortran programs
    compiled with a commercial(?), non-GNU compiler. Talk to them about
    getting it to work. As for the "works on RH, but not Debian", most
    likely that didn't do anything to make it very portable. closes: #68510
  * Tested with current NIS, and the test cases passes with no open fd's.
    closes: #52222
  * Make note of AMD in libc6-i[56]86 descriptions. closes: #77791
  * Make note about some commercial programs not liking our optimized
    libraries (IBM JDK for one). closes: #78656
    NOTE: To the submitter of this bugreport, I'm pretty sure the JDK
    relies on frame-pointer to handle some special ass-backwards stuff,
    which wont work with these libraries since they are compiled without
    frame-pointer (making it hard to strace, and debug using these libs).
  * Yes, semget(2) refers to SEMMSL, but nothing I can find says it should
    be defined in userspace. closes: #11560
  * This patch only applies to kernel-headers, and since they don't need
    to be used in userspace, it's ok to have some oddities, closes: #55578
  * I was able to write an 90 byte "Hello World" .c, and compile it into
    an 800 byte static binary using -nostdlib and -Wl,-lc. closes: #21676
  * Making an ar archive from one .o is just silly, closes: #58606
  * Patch sent upstream. Might change a bit, but the result should be the
    same, closes: #73003
  * I believe the reason the .pwd.lock file remains is to avoid a race
    condition, where something might be waiting for the lock, and
    unlinking it would cause something else to be able to obtain the lock,
    even though it isn't available. closes: #14093
  * I tried to reproduce this, but glob kept working right for me. I think
    the user is misusing the function. Most likely they are passing the
    glob on the command line, which is in turn doing some escape
    processing, and not working right with glob() itself. closes: #67921
  * In Debian, locales are not required to be installed. closes: #35875
  * Could not reproduce in the latest glibc. Upstream seems to have fixed
    this. closes: #75163
  * Bug report log says this is fixed in glibc 2.1.1, closes: #36775
  * I think this was an issue with the gcc-2.95 compiler defaulting to
    486 instruction sets. This was fixed by gcc some time ago. closes:
    #38998
  * The "order" directive in host.conf is supposed to be a space seperated
    list of sources, not comma. This is a bug in host.conf(5), which has
    already been reported. I'm closing this one to avoid duplication.
    closes: #35731
  * Appears to be related to #36775, but I checked the test case anyway,
    and it worked as expected. closes: #35035
  * I tried the test program, and it worked fine. So either guile or glibc
    fixed the bug already. closes: #36030
  * The locales package is not referenced by any other package ATM.
    closes: #38742
  * Symlink /usr/share/zoneinfo/localtime to /etc/localtime for libc5
    compat. closes: #48705
  * SUSv2 defines putenv as "int putenv(char *)", closes: #60960
  * From my understanding of of the SUSv2 definition, the pointer
    reference of inbuf may be incremented to the current position of
    translation. So in actuality, the object is not const. GLibc
    interprets this using the __restrict compiler option (defined in gcc's
    later than 2.92, e.g. egcs 1.1.2, and gcc 2.95). closes: #77312
  * Fixed ambiguity problem in tzconfig, closes: #69045
  * This was a netscape/libc5/plugin issue, closes: #50672
  * User error. He is setting all of the fd's in the pollfd struct to -1,
    which returns POLLNVAL, which is the expected response. closes: #51877
  * objstack_* does use const definitions now, closes: #68918
  * This was the old xmms-segv's-on-exit bug, fixed by glibc 2.1.9X (can't
    remember which version exactly). closes: #74345
  * leading zero makes sscanf determine the number as an octal, closes:
    #69278
  * zic.8: zdump is section 1, not 8. closes: #72095
  * Old libdb2 upgrade issue, fixed in during the 2.1.9x uploads. closes:
    #72663
  * Update this changelog to include the revisions from the stable (potato)
    updates.
  * Patch sent upstream. Fixes timezone showing up as "/etc/localtime".
    closes: #71060

 -- Ben Collins <bcollins@debian.org>  Tue,  2 Jan 2001 20:22:11 -0500

glibc (2.2-8) unstable; urgency=low

  * The one-liner fix for devpts.sh
  * Patch sent and accepted upstream, closes: #80485
  * CVS synced as of 2000-12-30

 -- Ben Collins <bcollins@debian.org>  Thu, 28 Dec 2000 09:49:30 -0500

glibc (2.2-7) unstable; urgency=low

  * Synced to CVS as of 2000-12-25
  * Patches sent upstream, closes: #75334, #34550, #71928, #11839, #75349
    closes: #38392, #68923, #77416, #39440
  * TCPOPT_EOL, TCPOPT_NOP, TCPOPT_MAXSEG: not declared in glibc (was a
    libc5 thing), so they don't need to be documented, closes: #9888
  * Use texi2html for .html output, which actually does split the file,
    closes: #61257, #76678
  * Hmm, not sure I can fix hamm->slink upgrades for libc6-doc->glibc-doc,
    closes: #32792, #32801
  * Fixed by upstream, closes: #62173, #10686, #37014, #54051, #57297
    closes: #53786, #74611, #37162, #41388, #60255, #63569, #67204
    closes: #67205, #60034, #42850, #60320, #39594, #59800, #48371
    closes: #66803
  * Could not reproduce. My test program showed that it resolved the
    libpthread properly. I am going to assume user error, or some
    funkiness on the user's system. closes: #78585
  * This is reported as a kernel issue, and the submitter was asked to try
    a newer kernel, but never replied. I'm closing on the grounds that I
    believe it was a kernel issue, closes: #45693
  * The iconv test program seems to work as expected in glibc 2.2,
    closes: #39762
  * lt_LT uses ISO-8859-13 now, closes: #10358
  * Things relying on sort to work correctly, should set LANG=C to get
    expected behavior, closes: #56195, #61746, #69544
  * Fixed long long ago, closes: #58226, #58586, #35948, #76246, #53530
    closes: #39584, #13800, #34452, #53894, #54096, #42490, #30683, #32468
    closes: #29619, #34816, #35113, #39071, #35334, #35497, #42867, #36212
    closes: #59316, #62826, #35131, #36952, #43659, #24090, #36076, #45041
    closes: #54156, #37307, #27146, #34729, #47457, #34699, #35250, #34538
    closes: #30054, #35389, #36655, #36762, #36932, #36933, #61163, #58954
  * We no longer build locales at build time, but at install time, closes: #69172
  * I don't see the problem in this testcase, works for me, closes: #73018
  * debian/control.in/main: Show in description that nscd also handles
    host lookups, closes: #48716
  * Unreproducable, probably fixed in 2.2, closes: #57026, #42726, #40768
    closes: #45848, #58367, #62990, #40870, #67296, #38897, #60099, #66769
  * nscd now has a --invalidate option, closes: #42727, #43729
  * adduser now calls nscd -i, so works correctly, closes: #36080
  * Hey, it's one of my bugs, and it isn't any good! closes: #34940
  * Yeah, I agree with the bug report. If you don't want nscd to run on a
    particular system, just uh, don't install it, closes: #36621
  * Setting Fixed to, closes: #47289
  * Do not use UNIX_PATH_MAX, use SUN_LEN(ptr) (defined in sys/un.h),
    closes: #61963
  * _PATH_DEFPATH is the bare minimum for linux. If you want more, use the
    PATH env, closes: #31983
  * The man page is wrong. dlerror.c, and dlfnc.h both show that the
    return string is allocated, so it is not const. closes: #35694
  * All together now, "Using kernel headers in userspace is BAD",
    closes: #12207, #19646, #43105
  * Ran the test case with -O0, -O2, -O3, -O6 on sparc and i386, and did
    not see the problem reported, closes: #37154, #27516
  * Seems perl has worked around this (or libc has), since perl modules
    are building fine, AFAICT, closes: #34110
  * Linus does not suggest doing /usr/include/{linux,asm} symlinks
    anymore. closes: #24949
  * This isn't a glibc bug, it was a gdb bug that is now fixed. closes: #27544
  * lrint is defined with -D_ISOC99_SOURCE, closes: #43530
  * No reference to which docs, nor is there a test case, so: closes: #63511
  * Doh, this was already fixed by me in 2.2-6! closes: #79666
  * User malfunction, not a bug. closes: #39648, #50261, #36075
  * Including stdio.h only ensures that getline will work, it does not
    guarantee you that it's return type is defined, which you must do
    yourself. closes: #62511
  * O_LARGEFILE is only usable when compiling with -D_LARGEFILE64_SOURCE,
    closes: #68873, #52455
  * Ok, strcoll doesn't seem as slow now as shown in the bug report when
    LANG is set. The thing is, this function will always be slower when it
    has to take localization into account. closes: #62803
  * Re bug #44093
    a) I'm pretty sure there is no problem with libc translating errno
       from the kernel, else we'de have some serious problems.
    b) The ioctl() manpage cannot document all returns (and in fact it
       says that it does not document all ioctl types).
    c) I'm pretty sure the EIO return on this particular case is generated
       by the kernel.
    closes: #44093
  * Tested this, and I was able to get 1022 temp files from mkstemp on a
    single run, using the same template, closes: #31415
  * Ulrich Drepper, Re: sortlist in libresolv:
     >It never was and in general is not wanted.  Beside, it is another poor
     >DNS feature which doesn't work with IPv6.  Finally, the NSS gethost*()
     >functions don't have the supporting code.
    closes: #64327
  * lpd should not be using internal glibc functions. closes: #33686
  * makedb -V has no translation now, closes: #34702
  * Checking printf returns is left to the programmer, closes: #28250
  * Ok, the 51 pages of flaming in tis bug report leads me to believe that
    this will never be resolved in glibc. IMO, it is up to the programmer
    to be smart enough to check these things (where it matters). I am
    closing this bug report on the precedence that it is not really a bug
    because current functionality meets specs (and this bug report would
    break that compatibility). This entire bug report should be archived
    all on it's own. Hell, it should have it's own BTS just to track the
    conversation. closes: #28251
  * mkstemp complies with SUSv2 and BSD 4.3. Changing it's bahvior would
    cause portability problems. closes: #34793
  * Downgrading is not supported, closes: #36578
  * The test case did not use pthread_detach(), which resolved the issue.
    closes: #25879
  * Fix devpts regex for when to mount devfs. closes: #79830
  * I believe Wichert found out that base-passwd did have a bug that was
    causing this, and fixed it. closes: #55367, #79043
  * First of all, I do think tzconfig manpage needs to be in section 8.
    However, changing the execute permissions does very little. In fact it
    does nothing. Since normal users don't have perms to change the system
    tz, it doesn't matter if they can execute tzconfig. closes: #62397
  * Added autofs to the services that need to be restarted.
    closes: #80453, #79926
  * Use neat dpkg/awk one-liner from Adam Heath to get list of installed
    services for the daemon check. closes: #80454
  * tzconfig allows you to choose UTC now. Just go to "12" (none of the
    above), and then choose UTC. closes: #38556, #35094
  * Ok, my opinion on this is that you should check dlopen's return every
    time. The example program shows that they did not do this. closes: #37604
  * Looks like a bug in haskell to me. closes: #37902
  * IIRC, all the BSD code is gone. closes: #58270
  * Bug report claims it is not a bug. closes: #42155
  * We have optimized libs now, so that should solve this. closes: #44619
  * I'm pretty sure this "large" wtmp file with only 3 entries is a sparse
    file (check with du). closes: #43950
  * I seriously doubt that ld.so's LD_LIBRARY_PATH stopped working.
    closes: #59110
  * I don't think this is a glibc bug. Sounds more like a cross-compiler
    bug. closes: #68424
  * In Debian, 2.1.2 and 2.1.3 are binary compatible. closes: #60113
  * To get i18n/charmaps, you need to install i18ndata. closes: #65132
  * We don't need to mount shmfs anymore, closes: #65510
  * Fixed by dpkg, closes: #66913, #64906

 -- Ben Collins <bcollins@debian.org>  Mon, 25 Dec 2000 08:42:49 -0500

glibc (2.2-6) unstable; urgency=low

  * Added m68k lchown fixes, plus removed conflict for libstdc++2.10-dev
    on m68k. Bug/patch provided by Michael Fedrowitz
    <michael.fedrowitz@informatik.uni-ulm.de>, closes: #78937
  * libc-opt: added memprof to the death list of packages that don't work
    with our optimized libraries, closes: #79224
  * Added Provides: glibc2.2 to libc6/libc6.1/libc0.2 so I can make
    locales dep on it, closes: #78495
  * CVS sync as of 2000-12-15
  * Fixed previously: closes: #75865, #77170, #75473
  * Added a "." counter while checking services for install, closes: #78881
  * %hhn works as expected in i386 in this version of glibc, closes: #79221
  * Looks like this is resolved, closes: #59429
  * The libc info page says not to use fgets on streams that may have NULL
    char's, which sockets might, closes: #57729
  * This is probably fixed, if not reopen it please, closes: #24414
  * Well this bug report has no report in the BTS, I am going to assume
    from the age and type of the title, that it is fixed, closes: #21272
  * Old ld.so issue, most likely resolved in hamm, closes: #46173
  * This bug is a simple programming mistake. For one the child never
  * fills the buffer in certain cases, so it's contents are never flushed.
    If the program called fflush after every output, then it works fine,
    closes: #26226
  * The new upgrade code in libc postint should resolve this, closes: #64074
  * This is a compilation error. libc.so.6 does not contains fxstat
    (libc-nonshared.a does), so if you don't link properly (like with
    gcc), you will miss some symbols, closes: #36139
  * Similar to the above, also resolved, closes: #30427
  * Old ld.so bug, fixed, closes: #70658
  * Current localedef doesn't seem to segv on improper input, closes: #65634, #64878
  * YAOLDSOB (Yet Another LDSO Bug), closes: #42944
  * Lack of useful info in the BTS ("I suspect glibc" doesn't cut it),
    closes: #36498
  * Someone needs to read release notes, closes: #41455
  * Uh, tzconfig works. Tzselect is not for changing timezones, but for
    querying what the available ones are. From tzselect(1):

      Note  that tzselect will not actually change the timezone
      for you. Use the tzconfig(8) utility to achieve this.

    So you see, this is how it's meant to be, closes: #37409
  * Fixed in glibc 2.2, closes: #42512
  * a) all init scripts need to support restart
    b) postinst uses stop/start now anyway
    c) postinst fails much better now when things go wrong

    closes: #52914
  * getaddrinfo does DNS lookups regardless because of the nature of the
    function. Also it handles ipv4/ipv6 better now, closes: #60743
  * I don't see why libc6 needs to create /etc/rcS.d/ when dpkg does it so
    closes: #66138
  * strstr seems pretty fast now, closes: #10689
  * Latest emacs/libc6 is working fine, closes: #48476
  * YAOLDSOB, closes: #42135
  * libstdc++-v3/glibc2.2 compiles fine together, closes: #66757
  * strerror() with maxerror+1 works as expected now, closes: #40184
  * No other info, and no similar reports. Assuming user error, closes: #31465
  * Old ssh-nonfree getting a sigsegv is not a bug in libc6, but sshd,
    closes: #41800
  * Restarting woffle already, closes: #74164
  * I believe this was due to some old nss1 issues, which are now resolved
    during upgrades, closes: #35089
  * This is something libc6 itself cannot fix. Either way, rsh/rlogin is
    broken by nature, closes: #19168
  * Well, I can't retroactively go back to hamm and add a stub for
    setresuid(), closes: #29675
  * Fixed upstream a long time ago, closes: #39693
  * From unix/getlogin.c:

    /* Get name of tty connected to fd 0.  Return NULL if not a tty or
       if fd 0 isn't open.  Note that a lot of documentation says that
       getlogin() is based on the controlling terminal---what they
       really mean is "the terminal connected to standard input".  The
       getlogin() implementation of DEC Unix, SunOS, Solaris, HP-UX all
       return NULL if fd 0 has been closed, so this is the compatible
       thing to do.  Note that ttyname(open("/dev/tty")) on those
       systems returns /dev/tty, so that is not a possible solution for
       getlogin().  */

    So basically, closes: #17528
  * Current nis/nss-compat code looks like it handles this right,
    closes: #33197
  * libc6 cannot compensate for broken coding, closes: #42912
  * nprocs is fixed in 2.2, closes: #57101
  * libdb.so.2 does have shlibs now, closes: #39578
  * getcwd now returns NULL in the case shown in this bug report, so there
    is no suprise if the program checks the return correctly, closes:
    #27227
  * Adduser now restarts nscd as needed, closes: #37296
  * getaddrinfo fixes for ipv4/ipv6 fixes this, closes: #58713
  * Programs using libc5/libc6 at the same time via dynamically loading
    libc5 apps from a libc6 apps) simply does not work, closes: #42088
  * getaddrinfo fix, closes: #70012
  * libc-64 was never meant to work right, closes: #53748
  * libNoVersion.so.1 is gone, closes: #37681
  * libc/postinst is file-rc friendly now, closes: #40053
  * libdb2 is no longer a reference for libdb stuff, closes: #61154
  * ld.so/ldconfig now have man pages, closes: #41917
  * Bah, libtricks is old and gone, closes: #39080
  * /var/state/glibc is gone, closes: #39562, #39705
  * glibc no longer includes db/db2, so look for docs in those seperate
    packages, closes: #23547
  * scsi/scsi.h is there, closes: #31502
  * linux/joystick.h is there, closes: #38028
  * db.h is no longer in libc6-dev, closes: #39077, #74945
  * nprocs works on sparc now, closes: #52420
  * ldd now supports libc5 better, closes: #35644
  * Unreproducable, closes: #39582, #25773, #35624, #35123
  * /var/lib/misc/Makefile does not refer to /var/db, closes: #41947
  * llseek is obsolete, use lseek64 now, closes: #20988
  * Actually this looks like an error in the program, closes: #41952
  * Hmm, I would guess that libc6/libc5.4.38 is correct, and libc5.4.17 is
    wrong, close: #21839
  * Fixed in the Before Time, during the Great Long-Long Ago,
    closes: #39585, #34442, #59622, #24652
  * That's all for now...

 -- Ben Collins <bcollins@debian.org>  Fri, 15 Dec 2000 15:30:16 -0500

glibc (2.2-5) unstable; urgency=low

  * Update to CVS as of 2000-11-27
    - Includes hppa config stuff
  * Ok, libsafe seems to be broken with our optimized packages. I
    reassigned the bug report to that package. Most likely this wont be
    fixed in libsafe for a bit, so for now I am making the optimized
    packages conflict with it. The likely cause is the inline string
    functions (-D__USE_STRING_INLINES).
  * libc/postinst: added lprng and lpr to the list of daemons to restart,
    closes: #78132

 -- Ben Collins <bcollins@debian.org>  Mon, 27 Nov 2000 11:33:25 -0500

glibc (2.2-4) unstable; urgency=low

  * Dear god! Who changed things to a symlink in the kernel-headers and
    didn't tell me of all people!? This must be a conspiracy! Some one is
    out to get me! Everyone, I am going to go underground until the
    security of my system is safe once again! (btw, I fixed the asm
    include problem before I took a vacation from my sanity...)

 -- Ben Collins <bcollins@debian.org>  Thu, 23 Nov 2000 18:19:24 -0500

glibc (2.2-3) unstable; urgency=low

  * Damn, really remove libc6 dep from locales this time
  * Include shlibs file with optimized libs, so dpkg-shlibdeps will be
    happy with people using them.
  * Added updates eo_EO locale

 -- Ben Collins <bcollins@debian.org>  Wed, 22 Nov 2000 15:40:12 -0500

glibc (2.2-2) unstable; urgency=low

  * Update to CVS to 2000-11-19
    - Includes the ldconfig patch, so removed from local set
    - WOOHOO! Includes a patch to getaddrinfo, so that it only returns
      failure if both ipv4 AND ipv6 lookups fail for PF_UNSPEC.
      closes: #72764, #72905, #74692, #74692, #74367, #75388, #74692
    - Now includes the USAGI ipv6 patch
  * control/locales: remove $(libc) dep...bad for a arch-all package,
    closes: #76830
  * Move locales to binary-indep targets, closes: #76830
  * Add another hppa patch for _setjmp. Also, make hppa build with -O for
    now.
  * libc-dbg: make debug/ld*.so executable
  * $(libc): suggests libnss-db
  * locale-gen: set umask to 022, closes: #77191
  * etc/locale.gen: uncomment en_US as a default
  * debian/sysdeps/optimized.mk: New make snippet, which allows building
    optimized sets of runtime libraries. Right now, only sparc and i386
    seem to support hwcap, so we only build i586, i686 and v9 optimized
    libraries. When other archs start supporting hwcap, then they too can
    join the club.
  * prep.sh: use ./version, so ash will work too
  * Fixed prior to this release: closes: #71938, #75295, #75488, #76168

 -- Ben Collins <bcollins@debian.org>  Sun, 19 Nov 2000 16:32:27 -0500

glibc (2.2-1) unstable; urgency=low

  * ALL HAIL GLIBC 2.2 RELEASE! Please put seats in full upright position,
    remain seated until installed, and do not panic. The ride is almost
    over. Once you have installed Glibc 2.2, please procede to our new
    Debian-Rough-Ride, Xfree86-4.0.1, which is currently in progress.
  * glibc22-ipv6-USAGI.dpatch: New patch, brings some stability and
    compatibility to ipv6. This will most likely fix ipv6 issues with
    things like ssh (let me know).
  * Totally whack job on the locales package! We now do not provide *any*
    precompiled locales. Instead we allow the admin to selectively decide
    which ones to compile.
  * Start of support for future upgrades. A new patch that should make
    upgrades easier, post woody. This deals soley with the NSS module
    problem and daemons running during upgrade.
  * glibc22-hppa-config-fix: Fix config.{sub,guess} so hppa builds (From
    the nice Debian folks at HP). BTW, where's my HP/PA BOX!? :)
  * glibc22-ldconfig-fix: Fix bad allocation in ldconfig
  * Bugs closed by this release: closes: #74057, #74362, #74692, #75249,
    #75956, #76390, #76451

 -- Ben Collins <bcollins@debian.org>  Fri, 10 Nov 2000 12:47:02 -0500

glibc (2.1.97-1) unstable; urgency=low

  * New upstream, + recent CVS
    - includes lockf fix now
    - fixes fmemopen issues
    - adds ja_JP.ujis alias, closes: #72686
    - fixes for sparc mathinline.h
    - lots of locale related updates
    - mips patches are now included upstream
  * depflags.pl: added replaces ldso for libc6 too (ldd), closes: #76126
  * Set --enable-kernel for Linux builds, so we can control how much
    backward compatibility we have.
  * Fix build-depends for gcc to include epoch
  * Up'd the shlibs deps to 2.1.97
  * Removed static nss

 -- Ben Collins <bcollins@debian.org>  Tue,  7 Nov 2000 14:04:36 -0500

glibc (2.1.96-1) unstable; urgency=low

  * New upstream release (close to a final 2.2), closes: #73058
    - fixes ld.so reference counting (fixes some obscure bugs with
      loadable modules, like NSS).
    - fixes for ppc
    - netinet/tcp.h fixes for uint8, closes: #74061
    - fixes limits.h/LONG_MAX declerations, closes: #75720
  * When running "$(MAKE) test" use -k so we complete as much as possible
  * db/Makefile: remove patch that inhibited the db1 headers. Now, db1
    applications can be built again. This is temporary, to give poeple
    time to migrate (db2 maintainer can use this for db_dump185),
    closes: #72723
  * shlibs.mk: Use $(objdir)/soversions.i for generating the shlibs file,
    which is more correct. Thanks to Marcus Brinkman for pointing this
    out, closes: #75685
  * debian/glibc-doc/usr/share/doc-base/linuxthreads-faq: removed, no
    longer in upstream source, closes: #74046
  * libc/postinst: added wu-ftpd, wu-ftpd-academ, slapd, openldapd and
    logind to list of daemons to to restart, closes: #74158
  * libc/postinst: added support for filerc, thanks to Roland Rosenfeld
    <roland@debian.org>, closes: #74290
  * libc/postinst: check for existence of /sbin/init before restarting it,
    closes: #75310
  * sysdeps/depflags.pl: Change g++ conflict to libstdc++-dev so we
    precludes the right package (i.e., we need a newer libstdc++-dev, not a
    new g++), closes: #75019
  * sysdeps/depflags.pl: make libc6 depend on libdb2 from woody so we
    don't make apt act all weird with a three layer dependency of sorts
    (ask Jason, I'm not sure of all the issues, but it seems it is needed
    for now), closes: #75601, #75689
  * sysdeps/generic/lockf.c: explicitly set l_type to F_RDLCK (help from
    Anton on this one)
  * dl-machine.h.mips-2: new patch from Florian Lohoff <flo@rfc822.org> to
    fix ld.so segv on mips (I expect to see some .deb's in the official
    archive soon, my Indy is getting jealous :)

 -- Ben Collins <bcollins@debian.org>  Sun, 29 Oct 2000 16:39:12 -0500

glibc (2.1.95-1) unstable; urgency=low

  * New upstream release
  * debian/sysdeps/depflags.pl: Don't conflict/replace old libdb2, just
    conflict.
  * debian/libc/DEBIAN/postinst: Don't just check the service name with
    "dpkg -s" since we miss things like inetd, which isn't in a package
    named "inetd". Check for "installed" and "", then -x of the init.d
    file
  * debian/patches/ldd.dpatch: fixup so we don't get double output of
    libraries, closes: #72710
  * debian/sysdeps/depflags.pl: Hmm...where did the libnss-db dep go
    anyway? There now.
  * debian/manpages/: Added man pages for ldd, ldconfig and ld.so
    to replace the ones removed from ld.so, closes: #72648, #72727
  * locales fixed in -2, closes: #72752

 -- Ben Collins <bcollins@debian.org>  Mon,  2 Oct 2000 11:18:48 -0400

glibc (2.1.94-3) unstable; urgency=low

  * updated CVS post-2.1.94 to 20000929
  * Put db/db2 libs back in for runtime use only (not linkable and no
    headers). Closes a shitload of bugs, and makes everyone happy. Oh, let
    the sun shine down.
  * alpha-dwarf2-dl-machine: merged upstream
  * debian/sysdeps/depflags.pl: removed all the db2 cruft conflicts
  * debian/libc/DEBIAN/postinst: Use /etc/rc${rl}.d/ instead of
    /etc/init.d/ when restarting services. This way, we don't start any
    services that were meant to be off. Also, check for a non-zero exit when
    starting and report such failures. This will give people a heads up to
    any problems.

 -- Ben Collins <bcollins@debian.org>  Fri, 29 Sep 2000 16:29:59 -0400

glibc (2.1.94-2) unstable; urgency=low

  * Removed WANT_LDD, we now install it for every arch. This removes the
    need for the ldso package completely, on systems without libc5 (YAH!)
  * debian/sysdeps/depflags.mk: removed cruft
  * debian/sysdeps/depflags.pl: new script with a simplified control deps
    setup to replace depflags.mk. The former was getting too complex
  * debian/rules.d/shlibs.mk: fixed logic preventing it from actually
    installing the new shlibs file
  * debian/sysdeps/depflags.pl: Added lots of conflicts for NMU'd packages
    that fell prey to the db2 problems.
  * debian/contron.in/main: Fix nscd depend on libc6

 -- Ben Collins <bcollins@debian.org>  Wed, 27 Sep 2000 10:09:51 -0400

glibc (2.1.94-1) unstable; urgency=low

  * New maintainer, "Lector, si monumentum requiris, circumspice"
  * New upstream version, pre 2.2 now
    - crypt is now in glibc source, so is not a seperate tarball
    - removed nss1 compat tarball
    - db2 is gone aswell
    - without db2, upstream split nss_db from main source (*sigh*)
  * Added inetd to list of services to restart
  * modfl/fmodl: documented in info pages, closes: #17874
  * Just a quick list of bugs that I can verify do not exist any longer,
    closes: #45903, #26514, #46547, #32345, #30987, #48713
  * fcloseall: in the case of stdio/fcloseall.c, yes, it only ever
    returns success. However, we use libio/fcloseall.c, who does in fact
    have a chance to return EOF, closes: #20973
  * libio/libio.h: shows that the Stream Hooks do in fact take (void *) as
    the first argument as shown in the protos, closes: #61497
  * trunc/floor: documented correctly in this release, closes: #65683, #65684
  * Hurd maintainers say this can be closed, closes: #54154
  * I'm pretty sure this isn't an issue anymore, else potato wouldn't be
    releasing, closes: #35049
  * Sorry this isn't a glibc bug. The kernel handles error returns on a
    failed executable. Most likely this is bin_interp's problem, but I
    seriously doubt it will be fixed because of conventions, standards and
    the like, closes: #22301
  * keyenvoy: no longer compiled for linux (it seems), closes: #47560
  * infnan: is defined now, closes: #19264
  * libc5 bug, no longer applies, closes: #11300
  * Make sure we copy over asm-sparc for sparc aswell as "generate-asm.sh"
    script used to generate /usr/include/asm
  * Disable parallel build on sparc (broken for some reason, might not be
    sparc specific)
  * devpts.sh: used a more devfs friendly version from bug submitter,
    closes: #65276
  * libc/postinst: cannot reproduce problem, appears to be user error,
    closes: #64865
  * glibc-doc: this bug is no longer valid, closes: #33759
  * We now use ldconfig from libc6 for all archs, ldso will conform.
  * Change build deps to just "kernel-headers" for non-Hurd archs. With
    mips and other coming down the pipe, this is bound to get ugly if we
    specify the particular version for each.
  * Add checks to automatically detect proper kernel-headers, error out
    otherwise.
  * hurd: add Depends: hurd (>= 20000803) for libc0.2
  * libpthread: soname version is now 0.9
  * debian/libc/DEBIAN/shlibs: bump to 2.1.94
  * libc6: add temporary depend on libdb2
  * debian/rules: check for FAKEROOTKEY, and fail if it's there. We cannot
    build under fakeroot, we need real rewt. Fear my hacking skillz.

 -- Ben Collins <bcollins@debian.org>  Mon, 25 Sep 2000 11:30:45 -0400

glibc (2.1.3-14) stable; urgency=low

  * Stable upload for some serious issues in potato
  * Patch to match glibc 2.2 to not set personality, closes: #72165
  * Arm ld.so patch, closes: #75982
  * Add check for FAKEROOTKEY, to $(checkroot) to make sure we build as
    real root, and not fakeroot. This is required for locale definitions
    to be generated properly. closes: #70806, #70876
  * Backport the fix to lockf(F_TEST), which fixed this on alpha and
    sparc.

 -- Ben Collins <bcollins@debian.org>  Tue,  2 Jan 2001 17:15:44 -0500

glibc (2.1.3-13) stable; urgency=low

  * Damnit...used the 0824 patch set, now there's an 0827 :/

 -- Ben Collins <bcollins@debian.org>  Fri,  1 Sep 2000 10:54:11 -0400

glibc (2.1.3-12) stable; urgency=low

  * Ugh, add three patches posted by Solar Designer which include the ldso
    bug (better patch), locales bug, and md5 fixups.

 -- Ben Collins <bcollins@debian.org>  Thu, 31 Aug 2000 11:10:46 -0400

glibc (2.1.3-11) stable; urgency=low

  * Security upload for ldso problem
  * Fix sparc headers too
  * Might aswell change the maintainer too (So long Joel, you are missed)

 -- Ben Collins <bcollins@debian.org>  Thu, 31 Aug 2000 11:10:36 -0400

glibc (2.1.3-10) frozen unstable; urgency=low

  * The "Ask not for whom the feep tolls" release.
  * zic -l will use hardlinks if /etc and /usr are on the same
    filesystem, so revert to ln -s.
  * Update Build-Depends to kernel-headers-2.2.15.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri, 28 Apr 2000 18:45:49 -0700

glibc (2.1.3-9) frozen unstable; urgency=low

  * The "Insert clever reference here" release.
  * debian/patches:
    - i386-sys-io-c++: Change '::' to ': :' to avoid confusing g++
      + closes: Bug#57914
    - zic-l: Fix -l in zic(8) (taken from OpenBSD)
  * Teach tzconfig to acquire current timezone from /etc/localtime
    symlink if necessary.
  * Use zic -l instead of ln to make /etc/localtime symlink.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri, 21 Apr 2000 13:30:47 -0700

glibc (2.1.3-8) frozen unstable; urgency=low

  * The "What's my name? Say my name, bitch!" release.
  * debian/patches:
    - i386-linux-ucontext: Don't use ERR.
      + closes: Bug#59962
    - ldd:
      + Improve non-executable shared object handling.
      + Revert ${RTLD} --list stuff. (closes:Bug#60869)
      + alpha will break again, someone needs to fix ld.so.
  * debian/control.in/main: locales: Depends: @libc@ (= ${Source-Version})
    This will insulate us from data format changes.
  * Fix tzconfig man page (closes:Bug#61610,#61613).
  * Revert /etc/localtime to a symlink (closes:Bug#60744).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon,  3 Apr 2000 08:40:07 -0700

glibc (2.1.3-7) frozen unstable; urgency=low

  * The "Light my Alpha fire with a SPARC" release.
  * debian/patches:
    - libc-pr-fixes: Fixes for post-2.1.3 PRs
      + closes: Bug#59802,#59257
    - tzdata2000c: Includes AR timezone correction
      + closes: Bug#59790,#59806
    - sparc-linux-getsysstats: Update so it actually works.
    - alpha-dwarf2-dl-machine: Fix for unaligned traps from C++ EH code
      + closes: Bug#59789

 -- Joel Klecker <debian-glibc@lists.debian.org>  Tue,  7 Mar 2000 10:31:42 -0800

glibc (2.1.3-6) frozen unstable; urgency=low

  * The "Smash Everything with a _Huge Steamroller_!" release.
  * debian/sysdeps/gnu.mk: Define WANT_LDD (closes:Bug#59165).
  * debian/libc/DEBIAN/preinst: Make this as /bin/bash script (closes:Bug#59613).
  * debian/libc/DEBIAN/postinst:
    - Only make /var/mail symlink on upgrades.
    - Make this a /bin/bash script.
  * debian/sysdeps/depflags.mk: (libc_control_flags)
    C/R/P gconv-modules where necessary, Replace locales (<< 2.1.3-5).
  * debian/control.in/main: Build-Indep-Depends: perl5 (closes:Bug#59350).
  * debian/libc/etc/init.d/devpts.sh: Remove version check, checking for
    the filesystems alone should be sufficient (closes:Bug#59576).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat,  4 Mar 2000 09:28:08 -0800

glibc (2.1.3-5) frozen unstable; urgency=high

  * The "Down, not across" release.
  * 2.1.3 final.
  * Pre-Depends were a bad idea
    - quit using readlink.
    - removed pre-depends on debianutils.
  * Add devpts.sh again, this time not as a conffile.
  * Build-Depends: gcc (>= 2.95.2-6) [alpha], remove sharutils [alpha].
  * Move /usr/lib/gconv to $(libc).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat, 26 Feb 2000 00:14:34 -0800

glibc (2.1.3-4) frozen unstable; urgency=low

  * The "Pain as bright as steel squared" release.
  * glibc 2.1.3pre4.
  * Remove debian/patches/po-it-po.dpatch,
    debian/patches/powerpc-linux-sys-procfs.h.dpatch, and
    debian/patches/powerpc-linux-syscalls.list-mmap64.dpatch;
    Integrated upstream.
  * Add back debian/patches/linuxthreads-lock.dpatch now that I know
    what it's for (closes:Bug#58385).
  * Bugs closed since devpts.sh is gone (closes:Bug#57584,#57698,#57580).
  * debian/libc/DEBIAN/preinst:
    - Save a copy of /etc/timezone in /etc/timezone.save.
    - Convert /etc/localtime from link to file.
  * debian/libc/DEBIAN/postinst:
    - Use /etc/timezone.save if necessary. (closes:Bug#57885,#57922).
    - Remove some unnecessary timezone code that caused some odd behavior
      (closes:Bug#57456).
  * tzconfig: /etc/localtime is a file, not a link.
  * $(libc): Pre-Depend on debianutils (>= 1.13.1) for readlink.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri, 18 Feb 2000 17:35:19 -0800

glibc (2.1.3-3) frozen unstable; urgency=low

  * The "Pain as bright as steel" release.
  * Move iconv, locale, localedef to $(libc).
  * Remove devpts.sh.
  * debian/patches/po-it-po.dpatch:
    Add "portable object" for Italian (closes:Bug#57031).
  * $(libc): Replaces: locales (closes:Bug#57482).
  * Add Build-Depend for gettext (closes:Bug#57797).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri, 11 Feb 2000 13:02:13 -0800

glibc (2.1.3-2) frozen unstable; urgency=low

  * The "Dark, Naughty Evil" release.
  * debian/patches/powerpc-linux-sys-procfs.h.dpatch:
    Fix sys/procfs.h for powerpc-linux.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon,  7 Feb 2000 17:38:54 -0800

glibc (2.1.3-1) frozen unstable; urgency=low

  * The "From now on all of my world-killing weapons will be kept a TOTAL SECRET!" release.
    or the "Brown Paper Bag" release.
  * Really fix devpts.sh
    (closes:Bug#56659,#56687,#56726,#56770,#56782,#56893,#56941,#56850,#56659,#57049,#57005,#57156,#57183).
  * Give up and call it 2.1.3.
  * CVS as of 2000-01-31.
  * Move some docs from glibc-doc back to $(libc).
  * Make /etc/init.d/devpts.sh and /etc/default/devpts conffiles (closes:Bug#57081).
  * Re-enable libnss1-compat..

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun,  6 Feb 2000 08:55:41 -0800

glibc (2.1.2-13) frozen unstable; urgency=low

  * The "@!%$&! you, I use Debian" release.
  * debian/patches/powerpc-linux-syscalls.list-mmap64.dpatch:
    Fix mmap and stuff (closes:Bug#56343).
  * Add sharutils [alpha] to Build-Depends, drop gcc dep.
  * $(libc): conflict with locales (<< 2.1.2-12).
  * locales: replaces $(libc)-bin (closes:Bug#56540,#56536,#56534).
  * Fix devpts.sh (closes:Bug#56487,#56507,#56559).
  * Update to CVS as of 2000-01-29.
  * Restore HTML to glibc-doc (closes:Bug#56609).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun, 30 Jan 2000 01:14:05 -0800

glibc (2.1.2-12) frozen unstable; urgency=low

  * The "Cardboard Messiah" release.
  * debian/rules: Form arch_packages and indep_packages using += instead
    of $(filter-out ...).
  * debian/package-rules/locales.mk: Remove cross-compiling kluges.
  * debian/package-rules/libc-dbg.mk: Fix libthread_db (closes:Bug#55439).
  * debian/control.in/main:
    - locales: Architecture all -> any.
    - Build-Depends:
      + add make (>= 3.78) due to use of new warning and error make functions.
      + add gcc (>= 2.95.2-5) for alpha.
  * Merge gconv-modules back into locales.
  * Move locale and localedef programs back into locales.
  * Put devpts.sh init script back in $(libc). (closes:Bug#50913,#53842)
  * Add Replaces for timezones back into $(libc).
  * Kill $(libc)-bin.
  * Restore `tzselect' script, which slipped out of $(libc) (closes:Bug#55377)
  * Bugs fixed in -11.0.1 (closes:Bug#53705,#53659,#53680,#53754
  * Update to CVS as of 2000-01-26.
  * Eliminate obsoleted patches.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Wed, 26 Jan 2000 16:44:12 -0800

glibc (2.1.2-11.0.1) unstable; urgency=low

  * Binary-only upload of locales.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Wed, 29 Dec 1999 11:45:56 -0800

glibc (2.1.2-11) unstable; urgency=low

  * The "If it ain't broke, you're not tryin'" release.
  * Split out $(libc)-bin and libnss1-compat.
  * Split debian/rules into debian/package-rules/*.
    $(libc-bin):
      - Install db_* programs as glibcdb_*.
      - Move zic, zdump, locale, localedef, getent here.
      - Use alternatives for db_*. (closes:Bug#50311,#50341)
  * debian/mk/rules-* -> debian/rules.d/*.
  * debian/<pkg> now resembles $(tmpdir) tree for <pkg>.
  * Improve setperms rule, so debian/perms can specify fewer files.
  * New source unpacking system, see prep.sh.
  * Remove devpts.sh, the init script is now in sysvinit.
  * Improve debian/libc/DEBIAN/shlibs rule (debian/rules.d/shlibs.mk).
  * debian/sysdeps/soname.mk: Bump shlib_depend.
  * Add sysdeps files for $(DEB_HOST_GNU_CPU).
  * Add debian/patches/glibc-mega.dpatch:
    Selected patches from CVS (closes:Bug#48120,#52195).
  * Add debian/patches/linuxthreads-mega.dpatch:
    Selected patches from CVS.
  * Add debian/patches/alpha-pt-machine.h.dpatch:
    Fix pt-machine.h so that linuxthreads compiles on Alpha.
  * Add debian/patches/db2-alpha-powerpc-mutex.dpatch:
    Alpha and PowerPC implementations for db2 spinlocks.
    (patches by David Huggins-Daines <dhd@debian.org>)
    (db2 patch slightly modified)
  * Add debian/patches/powerpc-plt.dpatch:
    1999-10-07  Geoffrey Keating  <geoffk@cygnus.com>
      * sysdeps/powerpc/dl-machine.c: Many minor formatting changes.
        (OPCODE_LWZU): New macro.
        (OPCODE_ADDIS_HI): New macro.
        (OPCODE_LIS_HI): New macro.
        (__elf_machine_runtime_setup): Change PLT code-generation scheme
        for thread safety even with very large PLTs, better efficiency,
        and to fix a cache-flushing bug.
        (__elf_machine_fixup_plt): Likewise.
        (__process_machine_rela): Don't use elf_machine_fixup_plt.
  * Add debian/patches/sparc64-linux-lib64.dpatch:
    Use /lib/64 and /usr/lib/64 instead of /lib64 and /usr/lib64.
  * Add debian/patches/sparc64-linux-execve.dpatch:
    Add __syscall_execve to sparc64 syscalls.list.
  * Add automatic parallel build support for SMP systems.
  * Fix broken parsing of DEB_BUILD_OPTIONS.
  * Add framework to build libc6-64 and libc6-64-dev packages for sparc
    (not enabled for potato).
  * Split locales into `locales' and `i18ndata'.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat, 25 Dec 1999 09:54:29 -0800

glibc (2.1.2-10) unstable; urgency=low

  * The "Omigod! I overdosed on heroin!" release.
  * debian/devpts.init: Create /dev/ptmx unconditionally.
  * Restore correct nscd DEBIAN dir.
  * Revamp rules a bit (split more parts into debian/mk/rules-*).
  * debian/mk/sysdeps.mk: Split into pieces and include them.
  * debian/patches/tzcode1999h.dpatch:
    Update timezone data to 1999h release.
  * Add stub for support for libc6-64 packages for sparc.
  * Add one more last timezone sanity check to libc postinst (closes:Bug#49539).
  * Always unpack linuxthreads add on and pass --enable-add-ons=crypt to
    configure for hurd (closes:Bug#49459).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon,  8 Nov 1999 09:47:28 -0800

glibc (2.1.2-9) unstable; urgency=low

  * The "Service with a capital 'Bugger Off'" release.
  * debian/copyright: Update for 2.1.2.
  * debian/rules: Make each binary package depend on setperms (closes:Bug#48914).
  * Move debian/libc-doc to debian/glibc-doc and eliminate the need for
    postinst and prerm to be generated files. (closes:Bug#48786).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun, 31 Oct 1999 09:23:16 -0800

glibc (2.1.2-8) unstable; urgency=low

  * The "Can't Start a Fire Without a SPARC" release.
  * Build with unstable dpkg.
  * debian/patches/sparc-various.dpatch: Various sparc-specific patches
    from Jakub Jelinek <jakub@redhat.com> and David S. Miller <davem@redhat.com>.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat, 30 Oct 1999 06:55:33 -0700

glibc (2.1.2-7) unstable; urgency=high

  * The "Fuck Me Harder" release.
  * sparc-linux: Replaces: ldso (<< 1.9.11-6).
  * debian/{libc.postinst.in,libc/prerm}: Add /usr/doc symlink stuff (closes:Bug#48324).
  * debian/control.in-main: Adjust locales depends.
    Correct Build-Depends: field.
  * debian/mk/source-rules.mk: Split unpack-source, source, and orig-source
    targets from debian/rules.
  * debian/patches/manual-texinfo4.dpatch: Use @ifnottex instead of @ifinfo.
  * Use makeinfo --html to generate HTML version of glibc manual.
  * Remove texi2html from debian/scripts.
  * Fix debian/scripts/Makefile for cross-compiling.
  * Correct debian/patches/string2-pointer-arith.dpatch for archs that don't
    support unaligned memory accesses.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri, 29 Oct 1999 09:06:27 -0700

glibc (2.1.2-6) unstable; urgency=low

  * The "Evil Bitch Monster of Death" release.
  * debian/rules: Move debian/control targets to...
    debian/mk/debian-control.mk.
  * Move debian/*.mk to debian/mk/.
  * Use debian/<pkg>/* for control archive items.
    Adjust debian/rules for this.
  * Add setperms target to set modes of debian/<pkg>/*.
    Make unpack-source and clean depend on it.
  * Don't compile with -g when DEB_HOST_GNU_CPU is alpha.
  * debian/patches/string2-pointer-arith: New file.
    Fix "/usr/include/bits/string2.h:419: warning: pointer of type `void *'
    used in arithmetic" (closes:Bug#45824,#44491,#44697)
  * Change maintainer back to "Joel Klecker <debian-glibc@lists.debian.org>".
  * Update to CVS sources as of 1999-10-24.
  * debian/patches/{linuxthreads-signals.c-ucontext,cs-po}.dpatch:
    Fixes for source tree brokenness.
  * Adjust clean target for new generated files.
  * Add libresolv to $(libc)-pic.
  * Add readlink.c and texi2html to debian/scripts to eliminate tetex-bin dependency.
  * nscd: Install nscd_nischeck.
    Sync nscd.init with upstream.
  * Implement /usr/doc symlinks.
  * $(libc): strip libpthread with --strip-debug.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun, 24 Oct 1999 20:50:58 -0700

glibc (2.1.2-5) unstable; urgency=low

  * The "One more week to go" release.
  * debian/patches/localedata-SUPPORTED:
    Oops, this patch wasn't actually being applied.
    eo_EO, zh_TW.Big5, and es_AR should be [back] in locales now.
    Back out zh_CN, the definition is broken.
  * Remove sparc from HAVE_LIBC{4,5}, we want to install our ldd.
  * debian/patches/sparc-linux-ldd.dpatch: New file.
    Restore missing patch (in ChangeLog, not in source).
  * debian/sysdeps.mk: Tighten alpha shlib_depend to libc6.1 (>= 2.1.2-1).

 -- Joel Klecker <espy@debian.org>  Tue, 28 Sep 1999 04:55:35 -0700

glibc (2.1.2-4) unstable; urgency=low

  * The "Perl Sucks" release.
  * debian/libc.postinst: Steal updatercd shell function from sysvinit postinst.
    Use it for devpts.sh. (closes:Bug#45867,#45879,#45880,#45885,#45895)
    Bitch-slap perl maintainers. :)
  * debian/rules: nscd: run nscd.conf through sed 's/adm/log/'.
  * debian/patches/sparc-llnux-chown.dpatch: Update from Ben Collins.
  * debian/sysdeps.mk: Drop sparc-linux depends back to libc6 (>= 2.0.105).

 -- Joel Klecker <espy@debian.org>  Fri, 24 Sep 1999 12:39:26 -0700

glibc (2.1.2-3) unstable; urgency=low

  * The "Pot-smoking Pikachu" release.
  * debian/rules: Don't install ldd man page on i386/m68k (closes:Bug#45421).
    check: Don't depend on build.
    Symlink db_dump185 manpage to db_dump manpage (closes:Bug#42322).
    $(libc)-pic: Install map file for libm.
      Install map files as $(libdir)/libfoo_pic.map.
  * debian/patches/zh_TW.Big5-locale.dpatch:
    Split into localedata-charmap-BIG5_1984 and localedata-zh_TW.Big5.
  * debian/patches/eo_EO-locale.dpatch: Rename to...
    localedata-eo_EO.
  * debian/patches/localedata-SUPPORTED.dpatch: New file.
    Add eo_EO, es_AR (closes:Bug#37162), zh_CN.GB2312 (closes:Bug#38553),
    zh_TW.Big5.
  * debian/patches/pthread_create-manpage.dpatch: New file.
    Correct pthread_create manpage to match texinfo documentation
    (closes:Bug#22119).

 -- Joel Klecker <espy@debian.org>  Wed, 22 Sep 1999 19:16:01 -0700

glibc (2.1.2-2) unstable; urgency=low

  * The "Bite Me" release.
  * debian/rules: $(libc): strip pt_chown.
    Don't install ldd on i386/m68k.
    Query dpkg-architecture variables individually.
    Use bunzip2 -c ... | tar xf - instead of tar yxf.
    $(libc)-pic: Add libm_pic.a.
    check: New target; run test suite.
    Call make with SHELL=/bin/bash, as the test suite seems to rely on
    bash behavior.
    Use --strip-unneeded (closes:Bug#40467).
  * debian/sysdeps.mk: reorganize.
  * debian/patches/generic-getenv.dpatch: New file.
    1999-09-10  Andreas Schwab  <schwab@suse.de>

      * sysdeps/generic/getenv.c (getenv): Fix lookup for single
        character variable on bigendian platforms without unaligned memory
        access.

 -- Joel Klecker <espy@debian.org>  Thu, 16 Sep 1999 14:41:28 -0700

glibc (2.1.2-1) unstable; urgency=low

  * The "Gone Evil" release.
  * glibc 2.1.2 final.
    - Properly free mmaps for archs without spinlocks in db2 (closes:Bug#43786).

  * debian/rules: configure: Fix hurd part (missing \).
    Add frame.o hack for alpha.
    Use CFLAGS instead of default_cflags.
    Create srcdir for each arch.
    Remove arch/indep patch split.
    New directory layout (build/foo-<arch> -> build/<arch>/foo).
    Use bz2 tarballs.

  * debian/patches/sparc-linux-types.dpatch: Remove, applied upstream.

  * devpts.sh never used any bashisms (closes:Bug#43296).

 -- Joel Klecker <espy@debian.org>  Tue,  7 Sep 1999 05:00:58 -0700

glibc (2.1.2-0pre12) unstable; urgency=low

  * The "Espy's Birthday" release.
  * debian/rules: (libc-pic) strip debugging symbols from *_pic.a.
      interp.o is no longer needed.

  * debian/patches/sparc-linux-types.dpatch: New file.
      1999-07-25  Jakub Jelinek   <jj@ultra.linux.cz>

        * sysdeps/unix/sysv/linux/sparc/bits/types.h: Define always
          __qaddr_t.
          __ino64_t should be 32bit unsigned type on sparc32.
          Define __off64_t to __quad_t instead of __int64_t.
          Make __pic_pid_t unsigned on sparc32.

  * Really change maintainer name to Debian GNU C Library Maintainers.

  * debian/control.in-libc: s/m@archs@/many/ (closes:Bug#43657).

  * debian/devpts.init: Check if devpts is already mounted before trying
    to mount it. (closes:Bug#43658,#43659).
    Remove exit 0 from end (closes:Bug#42541)

  * Fixed upstream: db_dump185 now linked with libdb1 (closes:Bug#42898).

 -- Joel Klecker <espy@debian.org>  Sun, 29 Aug 1999 07:51:16 -0700

glibc (2.1.2-0pre11) unstable; urgency=high

  * The "Lesbian Seagull" release.
  * glibc 2.1.2pre3.

 -- Joel Klecker <espy@debian.org>  Wed, 25 Aug 1999 15:33:23 -0700

glibc (2.1.2-0pre10) unstable; urgency=low

  * The "Crack-smoking Squirrel" release.
  * CVS as of 1999-08-21.
  * Change maintainer name to Debian GNU C Library Maintainers.

 -- Joel Klecker <espy@debian.org>  Sat, 21 Aug 1999 10:57:42 -0700

glibc (2.1.2-0pre9) unstable; urgency=low

  * The "Son of Drunken Iceweasel" release.
  * Compile with gcc 2.95.1.
  * CVS as of 1999-08-18.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Wed, 18 Aug 1999 11:11:29 -0700

glibc (2.1.2-0pre8) unstable; urgency=low

  * The "Drunken Iceweasel" release.
  * Compile with gcc 2.95.1-0pre1.
  * Remove explicit -march=i386 on i386, it's no longer needed.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun, 15 Aug 1999 08:34:55 -0700

glibc (2.1.2-0pre7) unstable; urgency=low

  * The "Evil Mastermind" release.
  * CVS as of 1999-08-09.
  * debian/patches/arm-osabi.dpatch: "...and another patch bites the dust"
    (functionality integrated upstream).
  * Add -march=i386 on i386 to work around gcc lossage.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Tue, 10 Aug 1999 01:54:57 -0700

glibc (2.1.2-0pre6) unstable; urgency=low

  * The "Stoned Monkey" release.
  * More adjustments for multi-arch build tree.
  * Split patch rules into debian/patch-rules.mk.
  * Divide patch system into indep and arch patches.
  * Update sources to CVS as of 1999-08-08 (closes:Bug#42579,#42343).
    - I think perhaps this will fix the StarOrifice problem too.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun,  8 Aug 1999 21:11:12 -0700

glibc (2.1.2-0pre5) unstable; urgency=low

  * The "Chainsaw Psycho" release.
  * Install zdump in $(bindir).
  * Fix 3l33t control frags system for "weird" architectures. ;)
  * Avoid using DEB_*_ARCH variables, for they are evil. :)

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri,  6 Aug 1999 05:34:55 -0700

glibc (2.1.2-0pre4) unstable; urgency=low

  * 2.1.2pre2.
  * Run testsuite in build target.
  * $(libc)-pic: Provides: glibc-pic.
  * Logging is back.
  * Update copyright file.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun,  1 Aug 1999 17:58:49 -0700

glibc (2.1.2-0pre3) unstable; urgency=low

  * CVS as of 19990730.
  * Implement new debian/control-frags system.
  * $(libc)-pic is back.
  * {gconv-modules,$(libc)-{pic,dev,dbg,prof}}:
    doc dirs are directories again.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri, 30 Jul 1999 10:52:06 -0700

glibc (2.1.2-0pre2) unstable; urgency=low

  * debian/rules: Fix typo that prevented all the linux-specific
    patches from being applied.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon, 26 Jul 1999 14:44:46 -0700

glibc (2.1.2-0pre1) unstable; urgency=low

  * New upstream pre-release 2.1.2pre1.
  * debian/depflags.mk.
    - (libc_dev_control_flags):
      Add conflicts to alpha/i386/m68k for libncurses4-dev (<< 4.2-3.1) and
      libreadlineg2-dev (<< 2.1-13.1).
    - (libc_control_flags):
      Add conflicts to alpha/i386/m68k for libglib1.2 (<< 1.2.1-2).
  * devpts.init:
    - Cope with EXTRAVERSION in uname -r (closes:Bug#41064,#41389).
    - Don't worry about /dev/ptmx anymore, glibc now checks for a mounted
      devpts filesystem as well as an existing /dev/ptmx.
  * debian/patches/{ieee754_y0,linux-mmap64,libio-oldiopopen}.dpatch:
    Removed; applied upstream.
  * debian/patches/arm-{dynamiclinker,tftp}.dpatch:
    Removed; applied upstream.
  * debian/patches/arm-string.dpatch:
    Remove string/endian.h part (applied upstream) and rename to arm-ieee754.
  * Disable building of $(libc)-pic, the boot-floppies library
    reduction hack doesn't work anyway.
  * Adjusted rules for dpkg-architecture and reworked source unpacking
    to handle snapshot upstream versions better.
  * Use suidmanager for pt_chown.
  * More fully adopt dpkg-architecture system.
  * Correct libc.preinst for sparc.
  * Set sparc shlib_depend to $(libc) (>= 2.1) per request.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat, 24 Jul 1999 12:35:05 -0700

glibc (2.1.1-13) unstable; urgency=low

  * debian/devpts.init: Revise again.
  * debian/rules: debian/shlibs: Add special case for libdb1.
  * debian/sysdeps.mk: Add cflags variable and i386 hack
    (hopefully this will allow the library to run on 386es again).
  * Use 2.2.10 kernel headers by default on *-linux targets.
  * Docs in /usr/share/doc.
  * debian/control.in: Update Standards-Version to 3.0.0.
  * debian/fhs.dpatch: Adjust for FHS 2.1pre2 /var/mail wording.
  * debian/libc.postinst: Symlink /var/mail to /var/spool/mail.
  * Integrate changes from Jim Pick's NMUs for arm (closes:#40927,#40479,#40691).
  * debian/patches/ieee754_y0.dpatch: Upstream fix for yn() issue.
  * debian/patches/linux-mmap64.dpatch: Fix for mmap64() on powerpc
    (maybe others too).
  * debian/patches/libio-oldiopopen.dpatch: Fix for glibc 2.0 compat popen().
  * debian/copyright:
    - Update URLs
    - Add libio license
    - s%/usr/doc/copyright%/usr/share/common-licenses%

 -- Joel Klecker <debian-glibc@lists.debian.org>  Wed,  7 Jul 1999 17:36:23 -0700

glibc (2.1.1-12.3) unstable; urgency=low

  * Non-maintainer upload.
  * Oops, messed up tftp patch for ARM.

 -- Jim Pick <jim@jimpick.com>  Wed,  7 Jul 1999 00:15:48 -0700

glibc (2.1.1-12.2) unstable; urgency=low

  * Non-maintainer upload.
  * Another patch for ARM to fix tftp struct alignment problem.

 -- Jim Pick <jim@jimpick.com>  Thu,  1 Jul 1999 09:38:02 -0700

glibc (2.1.1-12.1) unstable; urgency=low

  * Non-maintainer upload.
  * Include patch for ARM to fix dynamic linker.

 -- Jim Pick <jim@jimpick.com>  Thu, 17 Jun 1999 21:11:59 -0700

glibc (2.1.1-12) unstable; urgency=low

  * debian/rules: Use /var/lib/misc here too.
  * debian/tzconfig: Fix #! line.
  * debian/libc.postinst: Minor adjustments.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Tue, 15 Jun 1999 09:24:49 -0700

glibc (2.1.1-11) unstable; urgency=low

  * debian/patches/glibcbug.dpatch: New file.
    - Fixes glibcbug to use `sensible-editor'
  * debian/patches/fhs.dpatch: Deal with _PATH_VARDB.
  * debian/patches/m68k-chown.dpatch: Fix paths (closes:Bug#37933).
  * $(libc): Add HTML version of glibc FAQ.
  * tzselect is crap, restore old version of tzconfig.
  * Use 2.2.9 kernel headers by default on *-linux targets.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun, 13 Jun 1999 09:34:41 -0700

glibc (2.1.1-10) unstable; urgency=low

  * debian/libc.postinst: Redirect stdout/stderr to /dev/null when
    restarting services (closes:Bug#38413).
  * debian/patches/fhs.dpatch: Alter slightly for FHS 2.1 draft.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon, 31 May 1999 01:45:27 -0700

glibc (2.1.1-9) unstable; urgency=low

  * 2.1.1 final (closes:Bug#38178).
  * -7 was accidentally/intentionally compiled with gcc 2.95pre.
  * -8 was a local build.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon, 24 May 1999 22:10:01 -0700

glibc (2.1.1-8) unstable; urgency=low

  * Rebuild with egcs 1.1.2.
    (/me hides)

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sun, 23 May 1999 21:28:29 -0700

glibc (2.1.1-7) unstable; urgency=low

  * Make sure all patches get applied (closes:Bug#37951,Bug#37974).
  * Fixes for m68k via Roman Hodek <Roman.Hodek@informatik.uni-erlangen.de>
    - (debian/rules): Add new m68k-chown patch (closes:Bug#38048).
    - (debian/depflags.mk): Fix m68k case (closes:Bug#37933).
  * There were some localedata changes in format between -5 and -6
    (closes:Bug#37850,Bug#37822,Bug#37829).
  * Add patch to fix install-locales target when localedata is not installed.
  * Build locales in the `locales' target
    (no sense building them in the arch-indep install target).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Thu, 20 May 1999 14:02:15 -0700

glibc (2.1.1-6) unstable; urgency=low

  * 2.1.1pre3.
  * (debian/rules): Set BASH and KSH to /bin/bash in configparms.
  * (debian/libc.preinst): sparc fix (closes:Bug#37415,Bug#37616).
  * (debian/nscd.prerm): Stop nscd before removing it (closes:Bug#37416).

 -- Joel Klecker <debian-glibc@lists.debian.org>  Mon, 17 May 1999 19:29:12 -0700

glibc (2.1.1-5) unstable; urgency=low

  * CVS as of 1999-05-08.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat,  8 May 1999 19:31:52 -0700

glibc (2.1.1-4) unstable; urgency=low

  * Fix logic errors in tzconfig.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat,  8 May 1999 00:07:44 -0700

glibc (2.1.1-3) unstable; urgency=low

  * 2.1.1pre2.
  * glibc-compat 2.1.0.
  * debian/copyright: Update URLs for upstream source locations.
  * debian/devpts.init: Rewrite for more sensible handling of devfs.
  * debian/libc.postinst: Be more paranoid about /etc/timezone, and
    always remake /etc/localtime symlink.
  * debian/sysdeps.mk: Add sparc to HAVE_LIBC4 to deal with lddlibc4.
  * debian/rules: Don't apply sparc32-ldd patch.
  * debian/patches/sparc32-ldd.dpatch: delete.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Fri,  7 May 1999 10:40:11 -0700

glibc (2.1.1-2) unstable; urgency=low

  * $(libc): replace locales << 2.1.1-1
  * debian/depflags.mk: clean up
  * debian/control.in: locales: remove depend on @libc@ (closes:Bug#36654).
  * debian/devpts.sh: Remove bashisms (closes:Bug#36552).
  * debian/libc.postinst:
    - Use ln -sf instead of zic -l (closes:Bug#36305).
    - If upgrading from glibc 2.0, restart services potentially affected
      by libnss_* upgrade.
  * debian/libc.preinst: Add kernel version sanity check for sparc.
  * debian/rules:
    - Fix reverse-patches target (closes:Bug#36574).
    - Fix libexecdir handling (closes:Bug#36673).
    - locales is binary-all, so build it in binary-indep, not binary-arch.
  * debian/sysdeps.mk: $(shlib_depend): >= 2.0.105 for sparc.
  * locales: Add eo_EO (Esperanto) locale definition.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Sat,  1 May 1999 22:22:22 -0700

glibc (2.1.1-1) unstable; urgency=low

  * Using maintainer versions now; 2.1.1 is still in pre-release.
  * CVS as of 1999-04-19.
  * Upgrade glibc-compat addon.
  * Add kernel version sanity check to nscd init script.
  * Slight tweaks to devpts.sh init script.
  * Remove hurd-fcntl patch, it is applied upstream.
  * Fix libc.preinst libnss code.
  * Symlink /var/db to /var/state/glibc for backward compatibility.
  * Add zh_TW.Big5 locale and BIG5_1984 charmap.
  * Revert to ln -sf instead of zic -l in tzconfig (closes:Bug#36305).
  * Add latest version of sparc32-chown patch.
  * Move architecture-dependant parts of locales to other packages
    and make it Architecture: all.
  * Move locale and localedef to $(libc); and split gconv-modules into its
    own package.

 -- Joel Klecker <debian-glibc@lists.debian.org>  Tue, 20 Apr 1999 15:09:18 -0700

glibc (2.1.1-0.2) unstable; urgency=low

  * Upgrade to latest CVS sources.
    - Fixes ttyname problem which affected screen (closes:Bug#35695).
    - libio backward compatibility fixes.
    - Many other fixes.
  * Put manpages in /usr/share/man, info in /usr/share/info.
  * Add devpts.sh init script and /etc/default/devpts to configure it.
  * Better FHS compliance.
    - /var/db -> /var/state/glibc.
    - --libexecdir=/usr/lib (my reading of the FHS seems to allow
      executables directly in /usr/lib).

 -- Joel Klecker <espy@debian.org>  Wed,  7 Apr 1999 14:47:08 -0700

glibc (2.1.1-0.1) unstable; urgency=low

  * Now using NMU-style versions for prereleases.
  * Don't start utmpd.
  * Somehow the old nss modules (libnss_*.so.1) slipped out
    of the last release, put them back.
  * Let libc keep its x bit.
    (executing it presents some interesting output)

 -- Joel Klecker <espy@debian.org>  Wed, 17 Mar 1999 00:44:44 -0800

glibc (2.1.1-0pre1.3) unstable; urgency=low

  * Fix source package.
  * $(libc)-dbg: Install libpthread (closes:Bug#34461).
  * $(libc): Add note about devpts and services to postinst.
    - Recreate databases in /var/db if upgrading from glibc 2.0.x
      (closes:Bug#34442)
    - i386, alpha, m68k: Conflict with libtricks, apt (<< 0.1.10.1).
  * Change default_cflags to -O2 -g.
  * Allow make check to fail.

 -- Joel Klecker <espy@debian.org>  Sat, 13 Mar 1999 15:14:50 -0800

glibc (2.1.1-0pre1.2) unstable; urgency=low

  * strip shared libs with --strip-debug instead of --strip-unneeded.
  * Loosened shlibs depend.

 -- Joel Klecker <espy@debian.org>  Fri, 12 Mar 1999 22:33:01 -0800

glibc (2.1.1-0pre1.1) unstable; urgency=low

  * Fix $(libc) replaces on i386.

 -- Joel Klecker <espy@debian.org>  Fri, 12 Mar 1999 14:47:28 -0800

glibc (2.1.1-0pre1) unstable; urgency=low

  * New upstream release.
  * Really release this one to unstable.

 -- Joel Klecker <espy@debian.org>  Wed, 10 Mar 1999 09:14:29 -0800

glibc (2.1-4) unstable; urgency=low

  * First release for unstable.
  * Add glibc-compat addon.
  * $(libc): Conflict with libwcsmbs
    - Start utmpd and touch /var/run/utmpx, /var/log/wtmpx.
  * $(libc)-dbg: Install unstripped shared libs in /usr/lib/glibc_dbg.
  * $(libc)-prof: Strip libraries.
  * glibc-doc: Remove cruft from top-level of info dir.
  * Split nscd into separate package.
  * Fixed $KERNEL_SOURCE handling.
  * Bugs fixed: 19264, 22788, 26148, 26306, 30609, 30773, 31415
    (will elaborate later :)

 -- Joel Klecker <espy@debian.org>  Fri,  5 Mar 1999 11:29:44 -0800

glibc (2.1-3) unstable; urgency=low

  * (debian/depflags.mk):
    - Correct typo
    - Add libc_dev_control_flags for Conflicts

 -- Joel Klecker <espy@debian.org>  Mon,  8 Feb 1999 03:22:27 -0800

glibc (2.1-2) unstable; urgency=low

  * Get shlibs file dependencies correct.

 -- Joel Klecker <espy@debian.org>  Sat,  6 Feb 1999 22:56:22 -0800

glibc (2.1-1) unstable; urgency=low

  * New upstream release.
  * (debian/control.in): Update maintainer address.
  * (debian/depflags.mk):
    $(libc): conflict and replace timezone, timezones; replace libdb2
  * (debian/rules):
          $(libc)-dev: copy subdirectories from $(KERNEL_HEADERS)/linux too.
          timezones: remove
          $(libc): Put timezone data, and the zic and zdump utils here
  * Sync with HURD again.
  * Removed hurd-utimes patch, it is integrated upstream.

 -- Joel Klecker <espy@debian.org>  Sat,  6 Feb 1999 12:26:10 -0800
