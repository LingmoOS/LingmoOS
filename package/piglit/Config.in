config LINGMO_PACKAGE_PIGLIT
	bool "piglit"
	depends on LINGMO_PACKAGE_PYTHON3 # python3 only script
	depends on LINGMO_PACKAGE_PYTHON_NUMPY_ARCH_SUPPORTS
	depends on LINGMO_PACKAGE_WAFFLE_SUPPORTS_GLX || \
		LINGMO_PACKAGE_WAFFLE_SUPPORTS_WAYLAND || \
		LINGMO_PACKAGE_WAFFLE_SUPPORTS_X11_EGL || \
		LINGMO_PACKAGE_WAFFLE_SUPPORTS_GBM
	depends on LINGMO_INSTALL_LIBSTDCPP # mesa3d-demos, python-numpy
	depends on LINGMO_TOOLCHAIN_USES_GLIBC || LINGMO_TOOLCHAIN_USES_MUSL # python-numpy
	depends on LINGMO_TOOLCHAIN_GCC_AT_LEAST_9 # python-numpy
	depends on LINGMO_HOST_GCC_AT_LEAST_9 # host-python-numpy
	select LINGMO_PACKAGE_LIBDRM if LINGMO_PACKAGE_HAS_LIBGL
	select LINGMO_PACKAGE_LIBPNG
	select LINGMO_PACKAGE_LIBXKBCOMMON if LINGMO_PACKAGE_WAYLAND
	select LINGMO_PACKAGE_MESA3D_DEMOS # glxinfo
	select LINGMO_PACKAGE_PYTHON_MAKO
	select LINGMO_PACKAGE_PYTHON_NUMPY
	select LINGMO_PACKAGE_PYTHON_SIX
	select LINGMO_PACKAGE_PYTHON3_BZIP2
	select LINGMO_PACKAGE_PYTHON3_PYEXPAT
	select LINGMO_PACKAGE_PYTHON3_XZ
	select LINGMO_PACKAGE_PYTHON3_ZLIB
	select LINGMO_PACKAGE_UTIL_LINUX # runtime
	select LINGMO_PACKAGE_UTIL_LINUX_BINARIES # requires real dmesg tool
	select LINGMO_PACKAGE_WAFFLE # wflinfo, libwaffle-1
	select LINGMO_PACKAGE_XLIB_LIBX11 if LINGMO_PACKAGE_XORG7
	select LINGMO_PACKAGE_XLIB_LIBXEXT if LINGMO_PACKAGE_XORG7
	select LINGMO_PACKAGE_XORGPROTO if LINGMO_PACKAGE_XORG7
	select LINGMO_PACKAGE_ZLIB
	help
	  Piglit is an open-source test suite for OpenGL
	  implementations.

	  https://piglit.freedesktop.org

comment "piglit needs a glibc or musl toolchain w/ C++, gcc >= 9, host gcc >= 9"
	depends on !LINGMO_INSTALL_LIBSTDCPP || \
		!LINGMO_TOOLCHAIN_GCC_AT_LEAST_9 || \
		!LINGMO_HOST_GCC_AT_LEAST_9 || \
		!(LINGMO_TOOLCHAIN_USES_GLIBC || LINGMO_TOOLCHAIN_USES_MUSL)
